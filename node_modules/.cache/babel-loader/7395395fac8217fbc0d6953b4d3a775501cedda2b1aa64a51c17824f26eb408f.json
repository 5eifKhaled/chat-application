{"ast":null,"code":"import React, { Component } from 'react';\nimport Websocket from 'react-websocket';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { newChat as newChat$1, isTyping as isTyping$1, sendMessage as sendMessage$1, removePerson as removePerson$1, addPerson as addPerson$1, getOtherPeople as getOtherPeople$1, deleteChat as deleteChat$1, editChat as editChat$1 } from 'react-chat-engine';\nimport { PlusOutlined, ArrowUpOutlined, DeleteOutlined, UserAddOutlined, CloseOutlined, LoadingOutlined, CloseCircleTwoTone, PaperClipOutlined, LeftOutlined, DownOutlined } from '@ant-design/icons';\nimport { setConfiguration, Row, Col } from 'react-grid-system';\nimport { animateScroll } from 'react-scroll';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\nvar Socket = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Socket, _Component);\n  function Socket() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = Socket.prototype;\n  _proto.handleEvent = function handleEvent(event) {\n    var props = this.props;\n    var eventJSON = JSON.parse(event);\n    if (eventJSON.action === 'login_error') {\n      console.log(\"Your login credentials were not correct: \\n\\n                Project ID: \" + props.projectID + \" \\n\\n                Username: \" + props.userName + \" \\n\\n                User Secret: \" + props.userSecret + \"\\n\\n                Double check these credentials to make sure they're correct.\\n\\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n    } else if (eventJSON.action === 'is_typing') {\n      props.onTyping && props.onTyping(eventJSON.data.id, eventJSON.data.person);\n    } else if (eventJSON.action === 'new_chat') {\n      props.onNewChat && props.onNewChat(eventJSON.data);\n    } else if (eventJSON.action === 'edit_chat') {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'add_person') {\n      props.onAddPerson && props.onAddPerson(eventJSON.data);\n    } else if (eventJSON.action === 'remove_person') {\n      props.onRemovePerson && props.onRemovePerson(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      props.onNewMessage && props.onNewMessage(eventJSON.data.id, eventJSON.data.message);\n    } else if (eventJSON.action === 'edit_message') {\n      props.onEditMessage && props.onEditMessage(eventJSON.data.id, eventJSON.data.message);\n    } else if (eventJSON.action === 'delete_message') {\n      props.onDeleteMessage && props.onDeleteMessage(eventJSON.data.id, eventJSON.data.message);\n    }\n  };\n  _proto.onClose = function onClose() {\n    this.props.onFailAuth && this.props.onFailAuth(this.props);\n  };\n  _proto.render = function render() {\n    var _this = this;\n    var _this$props = this.props,\n      publicKey = _this$props.publicKey,\n      projectID = _this$props.projectID,\n      userName = _this$props.userName,\n      userPassword = _this$props.userPassword,\n      userSecret = _this$props.userSecret,\n      development = _this$props.development;\n    var wsStart = development ? 'ws://' : 'wss://';\n    var rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io';\n    var project = publicKey ? publicKey : projectID;\n    var secret = userPassword ? userPassword : userSecret;\n    return /*#__PURE__*/React.createElement(Websocket, {\n      url: \"\" + wsStart + rootHost + \"/person/?publicKey=\" + project + \"&username=\" + userName + \"&secret=\" + secret,\n      onOpen: function onOpen() {\n        return _this.props.onConnect && _this.props.onConnect(_this.props);\n      },\n      onClose: this.onClose.bind(this),\n      onMessage: this.handleEvent.bind(this)\n    });\n  };\n  return Socket;\n}(Component);\nfunction getApiUrl(props) {\n  if (props && props.development) {\n    return 'http://127.0.0.1:8000';\n  }\n  return 'https://api.chatengine.io';\n}\nfunction getChats(props, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Error', error);\n  });\n}\nfunction newChat(props, data, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\", data, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Chat Error', error);\n  });\n}\nfunction editChat(props, chatId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/\", data, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Chat Error', error);\n  });\n}\nfunction deleteChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Chat Error', error);\n  });\n}\nfunction getMessages(props, chatId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    props.onGetMessages && props.onGetMessages(chatId, response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Messages Error', error);\n  });\n}\nfunction sendMessage(props, chatId, data, callback) {\n  var formdata = new FormData();\n  if (data.files) {\n    for (var i = 0; i < data.files.length; i++) {\n      formdata.append('attachments', data.files[i], data.files[i].name);\n    }\n  }\n  formdata.append('text', data.text);\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", formdata, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Send Messages Error', error);\n  });\n}\nfunction editMessage(props, chatId, messageId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", data, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\nfunction readMessage(props, chatId, messageId, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    last_read: messageId\n  }, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Send Messages Error', error);\n  });\n}\nfunction deleteMessage(props, chatId, messageId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\nfunction timeSinceDate(date) {\n  var sent = Date(date);\n  var day = sent.substr(0, 10);\n  var time = sent.substr(15, 6);\n  return day + \" at \" + time;\n}\nfunction daySinceSent(date) {\n  var sent = Date(date);\n  return sent.substr(4, 6);\n}\nvar _dangerButton;\nvar Button = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Button, _Component);\n  function Button() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      hovered: false\n    };\n    return _this;\n  }\n  var _proto = Button.prototype;\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props = this.props,\n      value = _this$props.value,\n      icon = _this$props.icon,\n      theme = _this$props.theme,\n      style = _this$props.style;\n    var customStyle = style ? style : {};\n    var hoverStyle = this.state.hovered ? styles.hoverButton : {};\n    var themeStyle = theme == 'danger' ? styles.dangerButton : styles.button;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: this.props.type,\n      onClick: function onClick() {\n        return _this2.props.onClick && _this2.props.onClick();\n      },\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      style: _extends({}, themeStyle, customStyle, hoverStyle),\n      className: \"ce-primary-button \" + (theme == 'danger' ? 'ce-danger-button' : '')\n    }, icon == 'plus' && /*#__PURE__*/React.createElement(PlusOutlined, null), icon == 'send' && /*#__PURE__*/React.createElement(ArrowUpOutlined, null), icon == 'delete' && /*#__PURE__*/React.createElement(DeleteOutlined, null), icon == 'user-add' && /*#__PURE__*/React.createElement(UserAddOutlined, null), value && icon ? \" \" + value : value);\n  };\n  return Button;\n}(Component);\nvar styles = {\n  button: {\n    color: 'white',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: '#1890ff'\n  },\n  dangerButton: (_dangerButton = {\n    color: 'red',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white'\n  }, _dangerButton[\"border\"] = '1px solid red', _dangerButton),\n  hoverButton: {\n    opacity: '0.66'\n  }\n};\nvar TextInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TextInput, _Component);\n  function TextInput() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      value: null\n    };\n    return _this;\n  }\n  var _proto = TextInput.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var value = this.props[\"default\"];\n    if (value) {\n      var event = {\n        target: {\n          value: value\n        }\n      };\n      this.props.handleChange(event);\n      this.setState({\n        value: value\n      });\n    }\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var customStyle = this.props.style ? this.props.style : {};\n    var defaultStyle = this.state.focused ? styles$1.focusInput : styles$1.input;\n    return /*#__PURE__*/(\n      React.createElement(\"input\", {\n        className: \"ce-input ce-text-input\",\n        value: this.props.value,\n        placeholder: this.props.label,\n        style: _extends({}, defaultStyle, customStyle),\n        onBlur: function onBlur() {\n          return _this2.setState({\n            focused: false\n          });\n        },\n        onFocus: function onFocus() {\n          return _this2.setState({\n            focused: true\n          });\n        },\n        type: this.props.type ? this.props.type : \"text\",\n        onChange: function onChange(e) {\n          return _this2.props.handleChange && _this2.props.handleChange(e);\n        }\n      })\n    );\n  };\n  return TextInput;\n}(Component);\nvar styles$1 = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  },\n  focusInput: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #1890ff',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  }\n};\nvar TextAreaInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TextAreaInput, _Component);\n  function TextAreaInput() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      value: null\n    };\n    return _this;\n  }\n  var _proto = TextAreaInput.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var value = this.props[\"default\"];\n    if (value) {\n      this.props.handleChange({\n        target: {\n          value: value\n        }\n      });\n      this.setState({\n        value: value\n      });\n    }\n  };\n  _proto.resize = function resize() {\n    var textarea = document.getElementById(\"msg-textarea\");\n    textarea.style.height = \"\";\n    textarea.style.height = Math.min(textarea.scrollHeight, 150) + \"px\";\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    this.resize();\n  };\n  _proto.handleChange = function handleChange(e) {\n    this.resize();\n    this.props.handleChange && this.props.handleChange(e);\n  };\n  _proto.onKeyDown = function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (this.props.value.length > 0) {\n        this.props.onSubmit && this.props.onSubmit(e);\n      }\n    }\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"msg-textarea\",\n      className: \"ce-input ce-textarea-input\",\n      rows: \"1\",\n      style: styles$2.input,\n      value: this.props.value,\n      placeholder: this.props.label,\n      onBlur: function onBlur() {\n        return _this2.setState({\n          focused: false\n        });\n      },\n      onFocus: function onFocus() {\n        return _this2.setState({\n          focused: true\n        });\n      },\n      type: this.props.type ? this.props.type : \"text\",\n      onChange: function onChange(e) {\n        return _this2.handleChange(e);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return _this2.onKeyDown(e);\n      }\n    });\n  };\n  return TextAreaInput;\n}(Component);\nvar styles$2 = {\n  input: {\n    border: '1px solid white',\n    width: 'calc(100% - 64px - 24px - 44px)',\n    outline: 'none',\n    fontFamily: 'inherit',\n    fontSize: '15px',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    position: 'relative',\n    left: '12px',\n    resize: 'none'\n  }\n};\nvar AutoComplete = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AutoComplete, _Component);\n  function AutoComplete() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      showAll: false\n    };\n    return _this;\n  }\n  var _proto = AutoComplete.prototype;\n  _proto.onFocus = function onFocus() {\n    this.onChange('', true);\n    this.setState({\n      focused: true\n    });\n    this.props.onFocus && this.props.onFocus();\n  };\n  _proto.onBlur = function onBlur() {\n    this.setState({\n      focused: false\n    });\n    this.props.onBlur && this.props.onBlur();\n  };\n  _proto.onChange = function onChange(value, showAll) {\n    this.setState({\n      showAll: showAll\n    });\n    this.props.handleChange && this.props.handleChange(value);\n  };\n  _proto.getNames = function getNames(options) {\n    var _this2 = this;\n    var max = 3;\n    var count = 0;\n    var results = [];\n    options.map(function (option) {\n      if (option.toLowerCase().indexOf(_this2.props.value.toLowerCase()) !== -1 && count < max) {\n        count = count + 1;\n        results.push(option);\n      }\n    });\n    return results;\n  };\n  _proto.renderOptions = function renderOptions(options) {\n    var _this3 = this;\n    if (!this.props.value && !this.state.showAll) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    var results = this.getNames(options);\n    return results.map(function (option, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"option_\" + index,\n        className: \"ce-autocomplete-option\"\n      }, _this3.props.renderOption && _this3.props.renderOption(option), index == results.length - 1 && /*#__PURE__*/React.createElement(\"div\", {\n        style: styles$3.close,\n        className: \"ce-autocomplete-close\",\n        onClick: function onClick() {\n          return _this3.onChange('', false);\n        }\n      }, /*#__PURE__*/React.createElement(CloseOutlined, null)));\n    });\n  };\n  _proto.render = function render() {\n    var _this4 = this;\n    var options = this.props.options;\n    var customStyle = this.props.style ? this.props.style : {};\n    var defaultStyle = _extends({}, styles$3.input, {\n      border: this.state.focused ? '1px solid #1890ff' : '1px solid #d9d9d9'\n    });\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"ce-input ce-autocomplete-input\",\n      value: this.props.value,\n      placeholder: this.props.label,\n      style: _extends({}, defaultStyle, customStyle),\n      type: this.props.type ? this.props.type : \"text\",\n      onBlur: function onBlur() {\n        return _this4.onBlur();\n      },\n      onFocus: function onFocus() {\n        return _this4.onFocus();\n      },\n      onChange: function onChange(e) {\n        return _this4.onChange(e.target.value, true);\n      }\n    }), options && options.length > 0 && this.state.showAll && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-autocomplete-options\",\n      style: {\n        borderRadius: '19px',\n        border: '1px solid #afafaf'\n      }\n    }, this.renderOptions(this.props.options)));\n  };\n  return AutoComplete;\n}(Component);\nvar styles$3 = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  },\n  close: {\n    cursor: 'pointer',\n    textAlign: 'center',\n    padding: '8px 12px',\n    fontSize: '15px',\n    borderRadius: '24px'\n  }\n};\nvar ChatForm = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ChatForm, _React$Component);\n  function ChatForm() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      value: ''\n    };\n    return _this;\n  }\n  var _proto = ChatForm.prototype;\n  _proto.handleChange = function handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  };\n  _proto.handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    if (this.state.value.trim().length > 0) {\n      newChat$1(this.props.creds, {\n        title: this.state.value\n      }, function () {});\n    }\n    this.setState({\n      value: ''\n    });\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 'calc(100% - 26px)'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '1px'\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"New Chat\",\n      value: this.state.value,\n      style: {\n        width: 'calc(100% - 48px)'\n      },\n      handleChange: function handleChange(e) {\n        return _this2.handleChange(e);\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        textAlign: 'right'\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: \"plus\",\n      type: \"submit\"\n    }))));\n  };\n  return ChatForm;\n}(React.Component);\nvar ChatList = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ChatList, _Component);\n  function ChatList() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = ChatList.prototype;\n  _proto.readLastMessage = function readLastMessage(creds, chat) {\n    var readLastMessage = true;\n    chat.people.map(function (chat_person) {\n      if (creds && creds.userName === chat_person.person.username) {\n        readLastMessage = chat.last_message.id === chat_person.last_read;\n      }\n    });\n    return readLastMessage;\n  };\n  _proto.renderChats = function renderChats(chats) {\n    var _this = this;\n    return _.map(chats, function (chat, index) {\n      if (!chat) return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"chat_\" + index\n      });\n      var extraStyle = _this.props.activeChat === chat.id ? styles$4.activeChat : {};\n      if (_this.props.renderChatCard) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index\n        }, _this.props.renderChatCard(chat, index));\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"chat_\" + index,\n        onClick: function onClick() {\n          return _this.props.onChatClick(chat.id);\n        },\n        style: _extends({}, styles$4.chatContainer, extraStyle),\n        className: \"ce-chat-card \" + (_this.props.activeChat === chat.id && 'ce-active-chat-card')\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: styles$4.titleText,\n        className: \"ce-chat-title-text\"\n      }, chat.title, ' ', !_this.readLastMessage(_this.props, chat) && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ce-chat-unread-dot\",\n        style: {\n          \"float\": 'right',\n          width: '12px',\n          height: '12px',\n          borderRadius: '6px',\n          backgroundColor: '#1890ff',\n          display: 'inline-block'\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        className: \"ce-chat-subtitle\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: styles$4.messageText,\n        className: \"ce-chat-subtitle-text ce-chat-subtitle-message\"\n      }, chat.last_message.text ? chat.last_message.text : 'Say hello!'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ce-chat-subtitle-text ce-chat-subtitle-date\",\n        style: _extends({}, styles$4.messageText, {\n          textAlign: 'right',\n          width: '25%'\n        })\n      }, daySinceSent(chat.last_message.created))));\n    });\n  };\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$4.chatListContainer,\n      className: \"ce-chat-list\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$4.chatsContainer,\n      className: \"ce-chats-container\"\n    }, this.renderChats(this.props.chats), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '64px'\n      }\n    }), this.props.renderNewChatForm ? this.props.renderNewChatForm(this.props) : /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$4.newChatContainer,\n      className: \"ce-chat-form-container\"\n    }, /*#__PURE__*/React.createElement(ChatForm, {\n      creds: this.props,\n      className: \"ce-chat-form\"\n    }))));\n  };\n  return ChatList;\n}(Component);\nvar styles$4 = {\n  chatListContainer: {\n    height: '100%',\n    maxHeight: '100vh',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderRight: '1px solid #afafaf',\n    backgroundColor: 'white'\n  },\n  chatsContainer: {\n    width: '100%',\n    backgroundColor: 'white',\n    borderRadius: '0px 0px 24px 24px'\n  },\n  chatContainer: {\n    padding: '16px',\n    paddingBottom: '12px',\n    cursor: 'pointer'\n  },\n  titleText: {\n    fontWeight: '500',\n    paddingBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  },\n  messageText: {\n    width: '75%',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block'\n  },\n  activeChat: {\n    backgroundColor: '#d9d9d9',\n    border: '4px solid white',\n    borderRadius: '12px'\n  },\n  newChatContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    padding: '12px'\n  }\n};\nvar Title = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Title, _Component);\n  function Title() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = Title.prototype;\n  _proto.render = function render() {\n    var chat = this.props.chat;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-chat-title\",\n      style: {\n        position: 'absolute',\n        top: '0px',\n        width: '100%',\n        zIndex: '1'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$5.titleContainer,\n      className: \"ce-chat-title-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$5.titleText,\n      className: \"ce-chat-title-text\"\n    }, chat && chat.title), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$5.subtitleText,\n      className: \"ce-chat-subtitle-text\"\n    }, \"Active \", timeSinceDate(chat.last_message.created))));\n  };\n  return Title;\n}(Component);\nvar styles$5 = {\n  mobileSection: {\n    textAlign: 'center',\n    padding: '30px 0px',\n    backgroundColor: 'rgb(256, 256, 256, 0.92)',\n    border: '1px solid rgb(256, 256, 256, 0.92)'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    backgroundColor: 'rgb(256, 256, 256, 0.92)'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  },\n  subtitleText: {\n    fontSize: '12px'\n  }\n};\nvar AuthFail = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AuthFail, _Component);\n  function AuthFail() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = AuthFail.prototype;\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100%',\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: '40%',\n        paddingTop: '25vh'\n      },\n      src: \"https://chat-engine-assets.s3.amazonaws.com/denied.svg\",\n      alt: \"welcome-to-chat-engine\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: '18px',\n        paddingTop: '24px',\n        width: '75%',\n        paddingLeft: '12.5%'\n      }\n    }, \"Your credentials are incorrect. Make sure your Public Key, Username, and Password are correct at \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://chatengine.io\"\n    }, \"chatengine.io\")));\n  };\n  return AuthFail;\n}(Component);\nvar Loading = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Loading, _Component);\n  function Loading() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = Loading.prototype;\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        width: '100%',\n        position: 'relative',\n        top: 'calc(50% - 26px)',\n        textAlign: 'center',\n        fontSize: '52px'\n      }\n    });\n  };\n  return Loading;\n}(Component);\nvar Welcome = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Welcome, _Component);\n  function Welcome() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = Welcome.prototype;\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100%',\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: '60%',\n        paddingTop: '33vh'\n      },\n      src: \"https://chat-engine-assets.s3.amazonaws.com/welcome.svg\",\n      alt: \"welcome-to-chat-engine\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: '18px',\n        paddingTop: '24px',\n        width: '75%',\n        paddingLeft: '12.5%'\n      }\n    }, \"Fill out the \\\"New Chat\\\" form to get started.\"));\n  };\n  return Welcome;\n}(Component);\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar suffix = ['st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'st'];\nvar DatePartition = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(DatePartition, _Component);\n  function DatePartition() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = DatePartition.prototype;\n  _proto.getDate = function getDate(date) {\n    return date ? date.substr(0, 10) : null;\n  };\n  _proto.formatDate = function formatDate(date_time) {\n    var year = date_time.substr(0, 4);\n    var month = months[parseInt(date_time.substr(5, 2)) - 1];\n    var day = date_time.substr(8, 2);\n    var dayDuffix = suffix[parseInt(date_time.substr(8, 2)) - 1];\n    var time = date_time.substr(11, 5);\n    var timeSuffix = '';\n    if (parseInt(time.substr(0, 2)) >= 12) {\n      if (parseInt(time.substr(0, 2)) > 12) {\n        time = String(parseInt(time.substr(0, 2)) - 12) + ':' + time.substr(3, 2);\n      }\n      timeSuffix = 'PM';\n    } else {\n      timeSuffix = 'AM';\n    }\n    return time + timeSuffix + ', ' + month + ' ' + day + dayDuffix + ', ' + year;\n  };\n  _proto.render = function render() {\n    var _this$props = this.props,\n      lastCreated = _this$props.lastCreated,\n      created = _this$props.created;\n    var lastDate = this.getDate(lastCreated);\n    var thisDate = this.getDate(created);\n    if (lastCreated && lastDate === thisDate) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$6.dateText,\n      className: \"ce-message-date-text\"\n    }, this.formatDate(created));\n  };\n  return DatePartition;\n}(Component);\nvar styles$6 = {\n  dateText: {\n    width: '100%',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)'\n  }\n};\nvar _thumbnail;\nvar Thumbnail = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Thumbnail, _Component);\n  function Thumbnail() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = Thumbnail.prototype;\n  _proto.render = function render() {\n    var attachment = this.props.attachment;\n    return /*#__PURE__*/React.createElement(\"img\", {\n      style: styles$7.thumbnail,\n      src: attachment.file,\n      alt: 'image'\n    });\n  };\n  return Thumbnail;\n}(Component);\nvar styles$7 = {\n  thumbnail: (_thumbnail = {\n    width: '100%',\n    cursor: 'pointer',\n    textAlign: 'right',\n    display: 'inline',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    paddingRight: '2px',\n    height: '30vw'\n  }, _thumbnail[\"width\"] = '30vw', _thumbnail.maxHeight = '200px', _thumbnail.maxWidth = '200px', _thumbnail.minHeight = '100px', _thumbnail.minWidth = '100px', _thumbnail)\n};\nvar colors = ['#D64045', '#5B3000', '#00CC99', '#467599', '#1D3354', '#8F250C', '#6153CC', '#961D4E', '#A29F15', '#0CAADC', '#FF5154', '#FA7921', '#688E26', '#550527', '#A10702', '#FF1053', '#6C6EA0', '#100B00'];\nfunction stringToNumber(str) {\n  var sum = 0;\n  for (var i = 0; i < str.length; i++) {\n    sum = sum + str.charCodeAt(i) * i - 97;\n  }\n  return sum;\n}\nfunction stringToColor(str) {\n  if (!str) {\n    return 'black';\n  } else {\n    return colors[stringToNumber(str) % colors.length];\n  }\n}\nvar Dot = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dot, _Component);\n  function Dot() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n  var _proto = Dot.prototype;\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var person = this.props.person;\n    var avatar = person && person.avatar !== null ? person.avatar : '';\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n  _proto.render = function render() {\n    var person = this.props.person;\n    var color = stringToColor(person.username);\n    var customStyle = this.props.style ? this.props.style : {};\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-dot\",\n      style: _extends({}, styles$8.dot, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '14px'\n      })\n    });\n  };\n  return Dot;\n}(Component);\nvar styles$8 = {\n  dot: {\n    width: '13px',\n    height: '13px',\n    borderRadius: '13px',\n    textAlign: 'center'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\nvar Message = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Message, _Component);\n  function Message() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      selected: false\n    };\n    return _this;\n  }\n  var _proto = Message.prototype;\n  _proto.renderReads = function renderReads() {\n    var _this$props = this.props,\n      chat = _this$props.chat,\n      message = _this$props.message;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return chat.people.map(function (chatPerson, index) {\n      if (message.id == chatPerson.last_read) {\n        return /*#__PURE__*/React.createElement(Dot, {\n          key: \"read_\" + index,\n          person: chatPerson.person,\n          style: {\n            \"float\": 'right',\n            marginLeft: '4px'\n          }\n        });\n      }\n    });\n  };\n  _proto.renderAttachments = function renderAttachments(borderRadius) {\n    var attachments = this.props.message ? this.props.message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        attachment: attachment,\n        key: \"attachment_\" + index,\n        borderRadius: borderRadius\n      });\n    });\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props2 = this.props,\n      lastMessage = _this$props2.lastMessage,\n      message = _this$props2.message,\n      nextMessage = _this$props2.nextMessage;\n    if (!message) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    var attachments = this.props.message && this.props.message.attachments;\n    var topRightRadius = !lastMessage || lastMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em';\n    var bottomRightRadius = !nextMessage || nextMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em';\n    var borderRadius = \"1.3em \" + topRightRadius + \" \" + bottomRightRadius + \" 1.3em\";\n    var paddingBottom = !nextMessage || nextMessage.sender.username !== message.sender.username ? '12px' : '2px';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-message-row ce-my-message\",\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          selected: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          selected: false\n        });\n      },\n      style: {\n        width: '100%',\n        textAlign: 'right',\n        paddingBottom: paddingBottom\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'auto'\n      },\n      className: \"ce-my-message-attachments-container\"\n    }, this.renderAttachments()), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        paddingRight: '2px'\n      },\n      className: \"ce-message-bubble-row ce-my-message-bubble-row\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 1,\n      sm: 2,\n      md: 3\n    }), /*#__PURE__*/React.createElement(Col, {\n      xs: 11,\n      sm: 10,\n      md: 9\n    }, !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-message-bubble ce-my-message-bubble\",\n      style: _extends({}, styles$9.myMessage, {\n        borderRadius: borderRadius\n      })\n    }, message.text)), /*#__PURE__*/React.createElement(Col, {\n      xs: 1,\n      sm: 2,\n      md: 3\n    }), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      className: \"ce-reads-row ce-my-reads-row\"\n    }, this.renderReads())));\n  };\n  return Message;\n}(Component);\nvar styles$9 = {\n  myMessage: {\n    color: 'white',\n    cursor: 'pointer',\n    \"float\": 'right',\n    textAlign: 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    backgroundColor: 'rgb(24, 144, 255)'\n  }\n};\nvar Avatar = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Avatar, _Component);\n  function Avatar() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n  var _proto = Avatar.prototype;\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var person = this.props.person;\n    var avatar = person && person.avatar !== null ? person.avatar : '';\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n  _proto.render = function render() {\n    var person = this.props.person;\n    var customStyle = this.props.style ? this.props.style : {};\n    var text = person.username ? person.username.substring(0, 2).toUpperCase() : '';\n    var color = stringToColor(person ? person.username : '');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '48px',\n        height: '48px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar\",\n      style: _extends({}, styles$a.avatar, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '48px'\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-text\",\n      style: styles$a.avatarText\n    }, !this.state.avatar && text))), this.props.show_online !== false && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-status\",\n      style: _extends({}, styles$a.status, {\n        backgroundColor: person.is_online ? '#52c41a' : '#f5222d'\n      })\n    }));\n  };\n  return Avatar;\n}(Component);\nvar styles$a = {\n  avatar: {\n    width: '44px',\n    height: '44px',\n    borderRadius: '22px',\n    color: 'white',\n    textAlign: 'center'\n  },\n  avatarText: {\n    color: 'white',\n    paddingTop: '12px',\n    fontSize: '15px',\n    fontWeight: '600'\n  },\n  status: {\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\nvar TheirMessage = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TheirMessage, _Component);\n  function TheirMessage() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      selected: false\n    };\n    return _this;\n  }\n  var _proto = TheirMessage.prototype;\n  _proto.renderReads = function renderReads() {\n    var _this$props = this.props,\n      chat = _this$props.chat,\n      message = _this$props.message;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return chat.people.map(function (person, index) {\n      if (message.id == person.last_read) {\n        return /*#__PURE__*/React.createElement(Dot, {\n          key: \"read_\" + index,\n          person: person.person,\n          style: {\n            \"float\": 'left',\n            marginLeft: '4px'\n          }\n        });\n      }\n    });\n  };\n  _proto.renderAttachments = function renderAttachments(borderRadius) {\n    var attachments = this.props.message ? this.props.message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        attachment: attachment,\n        key: \"attachment_\" + index,\n        borderRadius: borderRadius\n      });\n    });\n  };\n  _proto.renderPersonText = function renderPersonText(person) {\n    if (person.first_name !== null) {\n      return \"\" + person.first_name + (person.last_name ? \" \" + person.last_name : '');\n    } else {\n      return person.username;\n    }\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props2 = this.props,\n      lastMessage = _this$props2.lastMessage,\n      message = _this$props2.message,\n      nextMessage = _this$props2.nextMessage;\n    if (!message) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    var attachments = this.props.message && this.props.message.attachments;\n    var topLeftRadius = !lastMessage || lastMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em';\n    var bottomLeftRadius = !nextMessage || nextMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em';\n    var borderRadius = topLeftRadius + \" 1.3em 1.3em \" + bottomLeftRadius;\n    var paddingBottom = !nextMessage || nextMessage.sender.username !== message.sender.username ? '12px' : '2px';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingBottom: paddingBottom\n      },\n      className: \"ce-message-row ce-their-message\"\n    }, (!lastMessage || lastMessage.sender.username !== message.sender.username) && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$b.nameText,\n      className: \"ce-their-message-sender\"\n    }, this.renderPersonText(message.sender)), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        paddingLeft: '2px'\n      },\n      className: \"ce-their-message-row\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 11,\n      sm: 10,\n      md: 9\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '0px'\n      },\n      className: \"ce-their-message-avatar\"\n    }, (!nextMessage || nextMessage.sender.username !== message.sender.username) && /*#__PURE__*/React.createElement(Avatar, {\n      person: message.sender,\n      show_online: false\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'auto',\n        paddingLeft: '50px'\n      },\n      className: \"ce-their-message-attachments-container\"\n    }, this.renderAttachments()), !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingLeft: '48px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-message-bubble ce-their-message-bubble\",\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          selected: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          selected: false\n        });\n      },\n      style: _extends({}, styles$b.theirMessage, {\n        borderRadius: borderRadius\n      })\n    }, message.text))), /*#__PURE__*/React.createElement(Col, {\n      xs: 9,\n      style: {\n        marginLeft: '48px'\n      },\n      className: \"ce-reads-row ce-their-reads-row\"\n    }, this.renderReads())));\n  };\n  return TheirMessage;\n}(Component);\nvar styles$b = {\n  theirMessage: {\n    cusor: 'auto',\n    color: 'black',\n    \"float\": 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0'\n  },\n  nameText: {\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px'\n  }\n};\nvar Message$1 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Message$1, _Component);\n  function Message$1() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      selected: false\n    };\n    return _this;\n  }\n  var _proto = Message$1.prototype;\n  _proto.render = function render() {\n    var _this$props = this.props,\n      creds = _this$props.creds,\n      chat = _this$props.chat,\n      lastMessage = _this$props.lastMessage,\n      message = _this$props.message,\n      nextMessage = _this$props.nextMessage;\n    if (!message) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-message-and-date\"\n    }, /*#__PURE__*/React.createElement(DatePartition, {\n      lastCreated: lastMessage ? lastMessage.created : null,\n      created: message.created\n    }), message.sender.username == creds.userName ? /*#__PURE__*/React.createElement(Message, {\n      chat: chat,\n      creds: creds,\n      lastMessage: lastMessage,\n      message: message,\n      nextMessage: nextMessage\n    }) : /*#__PURE__*/React.createElement(TheirMessage, {\n      chat: chat,\n      creds: creds,\n      lastMessage: lastMessage,\n      message: message,\n      nextMessage: nextMessage\n    }));\n  };\n  return Message$1;\n}(Component);\nvar FileRow = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(FileRow, _React$Component);\n  function FileRow() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      hovered: false\n    };\n    return _this;\n  }\n  var _proto = FileRow.prototype;\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '12px 6px',\n        display: 'inline'\n      },\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: styles$c.imageSquare,\n      alt: this.props.file ? this.props.file.name : '',\n      src: URL.createObjectURL(this.props.file)\n    }), this.state.hovered && /*#__PURE__*/React.createElement(CloseCircleTwoTone, {\n      style: styles$c.closeIcon,\n      onClick: function onClick() {\n        return _this2.props.onRemove && _this2.props.onRemove();\n      }\n    }));\n  };\n  return FileRow;\n}(React.Component);\nvar styles$c = {\n  imageSquare: {\n    height: '108px',\n    width: '108px',\n    border: '1px solid #afafaf',\n    borderRadius: '8px',\n    objectFit: 'cover',\n    display: 'inline'\n  },\n  closeIcon: {\n    position: 'relative',\n    bottom: '91px',\n    right: '20px',\n    width: '0px',\n    cursor: 'pointer'\n  }\n};\nvar FileRow$1 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(FileRow$1, _React$Component);\n  function FileRow$1() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n  var _proto = FileRow$1.prototype;\n  _proto.renderFiles = function renderFiles() {\n    var _this = this;\n    return this.props.files.map(function (file, index) {\n      return /*#__PURE__*/React.createElement(FileRow, {\n        file: file,\n        key: \"thumb_\" + index,\n        onRemove: function onRemove() {\n          return _this.props.onRemove && _this.props.onRemove(index);\n        }\n      });\n    });\n  };\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 'calc(100% - 24px)',\n        paddingLeft: '12px'\n      }\n    }, this.renderFiles());\n  };\n  return FileRow$1;\n}(React.Component);\nvar ImagesInput = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ImagesInput, _React$Component);\n  function ImagesInput() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      hovered: false,\n      files: []\n    };\n    return _this;\n  }\n  var _proto = ImagesInput.prototype;\n  _proto.onSelect = function onSelect(event) {\n    var files = [];\n    var indexes = [].concat(Array(event.target.files.length).keys());\n    indexes.map(function (i, index) {\n      var file = event.target.files[index];\n      if (file) {\n        files.push(file);\n      }\n    });\n    this.props.onSelectFiles && this.props.onSelectFiles(files);\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"uploader\",\n      encType: \"multipart/form-data\",\n      style: {\n        height: '0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"files\",\n      id: \"upload-document-button\"\n    }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      style: _extends({}, {\n        cursor: 'pointer',\n        position: 'absolute',\n        bottom: '20px',\n        right: '63px',\n        fontSize: '18px'\n      }, {\n        color: this.state.hovered ? '#69c0ff' : '#1890ff'\n      })\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      id: \"files\",\n      accept: \"image/x-png,image/gif,image/jpeg\",\n      style: {\n        visibility: \"hidden\"\n      },\n      type: \"file\",\n      onChange: function onChange(e) {\n        return _this2.onSelect(e);\n      }\n    }));\n  };\n  return ImagesInput;\n}(React.Component);\nvar MessageForm = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MessageForm, _React$Component);\n  function MessageForm() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      value: '',\n      files: []\n    };\n    return _this;\n  }\n  var _proto = MessageForm.prototype;\n  _proto.onRemove = function onRemove(index) {\n    var files = this.state.files;\n    files.splice(index, 1);\n    this.setState({\n      files: files\n    });\n  };\n  _proto.handleChange = function handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    isTyping$1(this.props.creds, this.props.chatId);\n  };\n  _proto.handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    var files = this.state.files;\n    var text = this.state.value.trim();\n    if (text.length > 0 || files.length > 0) {\n      sendMessage$1(this.props.creds, this.props.chatId, {\n        text: text,\n        files: files\n      }, function (data) {});\n    }\n    this.setState({\n      value: '',\n      files: []\n    });\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"msg-form-container\",\n      style: styles$d.messageFormContainer,\n      className: \"ce-message-form-container\"\n    }, /*#__PURE__*/React.createElement(FileRow$1, {\n      files: this.state.files,\n      onRemove: function onRemove(i) {\n        return _this2.onRemove(i);\n      }\n    }), /*#__PURE__*/React.createElement(ImagesInput, {\n      onSelectFiles: function onSelectFiles(files) {\n        return _this2.setState({\n          files: files\n        });\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      className: \"ce-message-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$d.inputContainer,\n      className: \"ce-message-input-form\"\n    }, /*#__PURE__*/React.createElement(TextAreaInput, {\n      value: this.state.value,\n      label: \"Send a message...\",\n      handleChange: this.handleChange.bind(this),\n      onSubmit: this.handleSubmit.bind(this)\n    }), /*#__PURE__*/React.createElement(Button, {\n      icon: \"send\",\n      type: \"submit\",\n      style: {\n        position: 'absolute',\n        bottom: '10px',\n        right: '6px'\n      }\n    }))));\n  };\n  return MessageForm;\n}(React.Component);\nvar styles$d = {\n  messageFormContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    backgroundColor: 'white'\n  },\n  inputContainer: {\n    minHeight: '36px',\n    paddingTop: '10px',\n    paddingBottom: '6px'\n  }\n};\nvar ChatFeed = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ChatFeed, _Component);\n  function ChatFeed() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      duration: 0\n    };\n    return _this;\n  }\n  var _proto = ChatFeed.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n    setTimeout(function () {\n      _this2.setState({\n        duration: 100\n      });\n    }, 3000);\n  };\n  _proto.renderTypers = function renderTypers() {\n    var _this$props = this.props,\n      typingData = _this$props.typingData,\n      activeChat = _this$props.activeChat;\n    var typers = typingData[activeChat] ? typingData[activeChat] : [];\n    if (this.props.renderIsTyping) {\n      return this.props.renderIsTyping(typers);\n    }\n    return typers.map(function (typer, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"typer_\" + index,\n        style: {\n          color: stringToColor(typer),\n          padding: '2px',\n          paddingLeft: '12px'\n        }\n      }, typer + \" is typing...\");\n    });\n  };\n  _proto.renderMessages = function renderMessages() {\n    var _this3 = this;\n    var _this$props2 = this.props,\n      messages = _this$props2.messages,\n      chats = _this$props2.chats,\n      activeChat = _this$props2.activeChat;\n    var chat = chats && chats[activeChat];\n    var keys = Object.keys(messages);\n    return keys.map(function (key, index) {\n      var message = messages[key];\n      var lastMessageKey = index == 0 ? null : keys[index - 1];\n      var nextMessageKey = index == keys.length - 1 ? null : keys[index + 1];\n      if (_this3.props.renderMessageBubble) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"message_\" + index\n        }, _this3.props.renderMessageBubble(_this3.props, chat, messages[lastMessageKey], message, messages[nextMessageKey]));\n      }\n      return /*#__PURE__*/React.createElement(Message$1, {\n        key: \"message_\" + index,\n        creds: _this3.props,\n        chat: chat,\n        message: message,\n        lastMessage: messages[lastMessageKey],\n        nextMessage: messages[nextMessageKey]\n      });\n    });\n  };\n  _proto.scrollToBottom = function scrollToBottom() {\n    animateScroll.scrollToBottom({\n      duration: this.state.duration,\n      containerId: \"ce-feed-container\"\n    });\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (!_.isEmpty(this.props.messages)) {\n      this.scrollToBottom();\n    }\n  };\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n      chats = _this$props3.chats,\n      creds = _this$props3.creds,\n      activeChat = _this$props3.activeChat;\n    var chat = chats && chats[activeChat];\n    if (creds === null) {\n      return /*#__PURE__*/React.createElement(Loading, null);\n    }\n    if (creds === undefined) {\n      return /*#__PURE__*/React.createElement(AuthFail, null);\n    }\n    if (creds && chats !== null && _.isEmpty(chats)) {\n      return /*#__PURE__*/React.createElement(Welcome, null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-chat-feed\",\n      style: {\n        display: 'flex',\n        maxHeight: '100vh',\n        backgroundColor: '#f0f0f0'\n      }\n    }, this.props.renderChatHeader ? this.props.renderChatHeader(chat) : /*#__PURE__*/React.createElement(Title, {\n      chat: chat\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ce-feed-container\",\n      style: styles$e.feedContainer,\n      className: \"ce-chat-feed-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '88px'\n      },\n      className: \"ce-feed-container-top\"\n    }), this.renderMessages(), this.renderTypers(), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '54px'\n      },\n      className: \"ce-feed-container-bottom\"\n    })), this.props.renderNewMessageForm ? this.props.renderNewMessageForm(this.props, activeChat) : /*#__PURE__*/React.createElement(MessageForm, {\n      creds: this.props,\n      chatId: activeChat\n    }));\n  };\n  return ChatFeed;\n}(Component);\nvar styles$e = {\n  feedContainer: {\n    position: 'absolute',\n    top: '0px',\n    height: '100%',\n    width: '100%',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    backgroundColor: 'white'\n  }\n};\nvar Person = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Person, _Component);\n  function Person() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      selected: false\n    };\n    return _this;\n  }\n  var _proto = Person.prototype;\n  _proto.onRemovePerson = function onRemovePerson() {\n    removePerson$1(this.props.creds, this.props.chat.id, this.props.person.username);\n  };\n  _proto.renderPersonText = function renderPersonText(person) {\n    if (person.first_name !== null) {\n      return \"\" + person.first_name + (person.last_name ? \" \" + person.last_name : '');\n    } else {\n      return person.username;\n    }\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props = this.props,\n      person = _this$props.person,\n      chat = _this$props.chat,\n      creds = _this$props.creds;\n    if (!person || !chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    var admin = chat.admin;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-person-container\",\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          selected: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          selected: false\n        });\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-person-avatar\",\n      style: {\n        padding: '2px',\n        height: '0px'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      person: person\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-person-text\",\n      style: {\n        paddingLeft: '52px',\n        height: '44px',\n        position: 'relative',\n        top: '10px',\n        fontSize: '15px'\n      }\n    }, this.renderPersonText(person)), this.state.selected && creds.userName === admin.username && person.username !== admin.username && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-delete-chat\",\n      style: {\n        \"float\": 'right',\n        height: '0px',\n        position: 'relative',\n        bottom: '44px'\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      theme: \"danger\",\n      icon: \"delete\",\n      onClick: function onClick() {\n        return _this2.onRemovePerson();\n      }\n    })));\n  };\n  return Person;\n}(Component);\nvar Option = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Option, _React$Component);\n  function Option() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false\n    };\n    return _this;\n  }\n  var _proto = Option.prototype;\n  _proto.render = function render() {\n    var _this2 = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          focused: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          focused: false\n        });\n      },\n      onClick: function onClick() {\n        return _this2.props.onClick && _this2.props.onClick();\n      },\n      style: _extends({}, styles$f.option, {\n        backgroundColor: this.state.focused ? '#f5f5f5' : 'white'\n      })\n    }, this.props.text);\n  };\n  return Option;\n}(React.Component);\nvar styles$f = {\n  option: {\n    borderRadius: '24px',\n    padding: '8px 16px',\n    cursor: 'pointer',\n    fontSize: '15px'\n  }\n};\nvar PersonForm = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(PersonForm, _React$Component);\n  function PersonForm() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      value: '',\n      others: []\n    };\n    return _this;\n  }\n  var _proto = PersonForm.prototype;\n  _proto.handleChange = function handleChange(value) {\n    this.setState({\n      value: value\n    });\n  };\n  _proto.addPerson = function addPerson(name) {\n    var _this2 = this;\n    addPerson$1(this.props.creds, this.props.chat.id, name, function () {\n      _this2.setState({\n        value: ''\n      });\n      _this2.getOthers();\n    });\n  };\n  _proto.onGetOthers = function onGetOthers(others) {\n    var usernames = [];\n    others.map(function (other) {\n      usernames.push(other.username);\n    });\n    this.setState({\n      others: usernames\n    });\n  };\n  _proto.getOthers = function getOthers() {\n    var _this3 = this;\n    getOtherPeople$1(this.props.creds, this.props.chat.id, function (id, others) {\n      return _this3.onGetOthers(others);\n    }, function () {});\n  };\n  _proto.renderOption = function renderOption(option) {\n    var _this4 = this;\n    return /*#__PURE__*/React.createElement(Option, {\n      text: option,\n      onClick: function onClick() {\n        return _this4.addPerson(option);\n      }\n    });\n  };\n  _proto.render = function render() {\n    var _this5 = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: '12px'\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      style: {\n        width: '100%'\n      },\n      label: \"Type a username\",\n      value: this.state.value,\n      options: this.state.others,\n      onFocus: function onFocus() {\n        return _this5.getOthers();\n      },\n      handleChange: function handleChange(value) {\n        return _this5.handleChange(value);\n      },\n      renderOption: function renderOption(option) {\n        return _this5.renderOption(option);\n      }\n    }));\n  };\n  return PersonForm;\n}(React.Component);\nvar PeopleList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(PeopleList, _React$Component);\n  function PeopleList() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      collapsed: false,\n      hovered: false\n    };\n    return _this;\n  }\n  var _proto = PeopleList.prototype;\n  _proto.renderChatPeople = function renderChatPeople(people) {\n    var _this2 = this;\n    return people.map(function (chatPerson, index) {\n      return /*#__PURE__*/React.createElement(Person, {\n        key: \"person_\" + index,\n        person: chatPerson.person,\n        creds: _this2.props.creds,\n        chat: _this2.props.chat\n      });\n    });\n  };\n  _proto.render = function render() {\n    var _this3 = this;\n    var _this$props = this.props,\n      creds = _this$props.creds,\n      chat = _this$props.chat;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderTop: '1px solid #f0f0f0'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onMouseEnter: function onMouseEnter() {\n        return _this3.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this3.setState({\n          hovered: false\n        });\n      },\n      onClick: function onClick() {\n        return _this3.setState({\n          collapsed: !_this3.state.collapsed\n        });\n      },\n      style: this.state.hovered ? {\n        backgroundColor: '#f0f0f0',\n        cursor: 'pointer'\n      } : {},\n      className: \"ce-section-title-container ce-person-title-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-section-title ce-people-title\",\n      style: {\n        fontSize: '17px',\n        padding: '12px',\n        fontWeight: '600'\n      }\n    }, \"People\"), this.state.collapsed ? /*#__PURE__*/React.createElement(LeftOutlined, {\n      style: styles$g.collapseIcon\n    }) : /*#__PURE__*/React.createElement(DownOutlined, {\n      style: styles$g.collapseIcon\n    })), !this.state.collapsed && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '12px'\n      }\n    }), this.renderChatPeople(chat.people), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '12px'\n      }\n    }), creds && chat && creds.userName === chat.admin.username && /*#__PURE__*/React.createElement(PersonForm, {\n      creds: creds,\n      chat: chat\n    })));\n  };\n  return PeopleList;\n}(React.Component);\nvar styles$g = {\n  collapseIcon: {\n    \"float\": 'right',\n    position: 'relative',\n    bottom: '30px',\n    right: '12px'\n  }\n};\nvar Thumbnail$1 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Thumbnail, _React$Component);\n  function Thumbnail() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n  var _proto = Thumbnail.prototype;\n  _proto.render = function render() {\n    var attachment = this.props.attachment;\n    if (!attachment) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$h.container,\n      className: \"ce-photo-thumbnail\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: '100%'\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      alt: attachment.id,\n      style: styles$h.image,\n      src: attachment.file,\n      className: \"ce-photo-img\",\n      id: \"image-\" + attachment.id\n    }));\n  };\n  return Thumbnail;\n}(React.Component);\nvar styles$h = {\n  container: {\n    position: 'relative',\n    width: 'calc(33% - 2px)',\n    border: '1px solid white',\n    display: 'inline-block',\n    cursor: 'pointer'\n  },\n  image: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover'\n  }\n};\nvar Photos = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Photos, _React$Component);\n  function Photos() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      collapsed: true,\n      hovered: false\n    };\n    return _this;\n  }\n  var _proto = Photos.prototype;\n  _proto.renderPhotos = function renderPhotos(attachments) {\n    return attachments.map(function (attachment, index) {\n      return /*#__PURE__*/React.createElement(Thumbnail$1, {\n        key: \"person_\" + index,\n        attachment: attachment\n      });\n    });\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var chat = this.props.chat;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderTop: '1px solid #f0f0f0'\n      },\n      className: \"ce-photo-section\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      onClick: function onClick() {\n        return _this2.setState({\n          collapsed: !_this2.state.collapsed\n        });\n      },\n      style: this.state.hovered ? {\n        backgroundColor: '#f0f0f0',\n        cursor: 'pointer'\n      } : {},\n      className: \"ce-section-title-container ce-photo-title-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-section-title ce-photo-title\",\n      style: {\n        fontSize: '17px',\n        padding: '12px',\n        fontWeight: '600'\n      }\n    }, \"Photos\"), this.state.collapsed ? /*#__PURE__*/React.createElement(LeftOutlined, {\n      style: styles$i.collapseIcon\n    }) : /*#__PURE__*/React.createElement(DownOutlined, {\n      style: styles$i.collapseIcon\n    })), !this.state.collapsed && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-photo-feed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '12px'\n      }\n    }), this.renderPhotos(chat.attachments)));\n  };\n  return Photos;\n}(React.Component);\nvar styles$i = {\n  collapseIcon: {\n    \"float\": 'right',\n    position: 'relative',\n    bottom: '30px',\n    right: '12px'\n  }\n};\nvar Options = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Options, _React$Component);\n  function Options() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      collapsed: true,\n      hovered: false\n    };\n    return _this;\n  }\n  var _proto = Options.prototype;\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props = this.props,\n      chat = _this$props.chat,\n      creds = _this$props.creds;\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderTop: '1px solid #f0f0f0'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      onClick: function onClick() {\n        return _this2.setState({\n          collapsed: !_this2.state.collapsed\n        });\n      },\n      style: this.state.hovered ? {\n        backgroundColor: '#f0f0f0',\n        cursor: 'pointer'\n      } : {}\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: '17px',\n        padding: '12px',\n        fontWeight: '600'\n      }\n    }, \"Options\"), this.state.collapsed ? /*#__PURE__*/React.createElement(LeftOutlined, {\n      style: styles$j.collapseIcon\n    }) : /*#__PURE__*/React.createElement(DownOutlined, {\n      style: styles$j.collapseIcon\n    })), !this.state.collapsed && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '12px'\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      value: \"Delete\",\n      theme: \"danger\",\n      icon: \"delete\",\n      onClick: function onClick() {\n        return deleteChat$1(creds, chat.id, function (data) {});\n      },\n      style: {\n        width: '100%',\n        marginBottom: '12px'\n      }\n    })));\n  };\n  return Options;\n}(React.Component);\nvar styles$j = {\n  collapseIcon: {\n    \"float\": 'right',\n    position: 'relative',\n    bottom: '30px',\n    right: '12px'\n  }\n};\nvar MessageForm$1 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MessageForm, _React$Component);\n  function MessageForm() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      activeChat: null,\n      value: ''\n    };\n    return _this;\n  }\n  var _proto = MessageForm.prototype;\n  _proto.handleChange = function handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  };\n  _proto.handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    editChat$1(this.props.creds, this.props.chat.id, {\n      title: this.state.value\n    }, function (data) {});\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.props.chat.title !== this.state.value && this.state.activeChat !== this.props.chat.id) {\n      this.setState({\n        value: this.props.chat.title,\n        activeChat: this.props.chat.id\n      });\n    }\n  };\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      className: \"ce-chat-title-form\"\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"Rename this Chat\",\n      value: this.state.value,\n      \"default\": this.props.chat.title,\n      handleChange: this.handleChange.bind(this),\n      style: {\n        fontSize: '16px',\n        fontWeight: '600',\n        textAlign: 'center',\n        border: '0px solid white',\n        width: '100%'\n      }\n    }));\n  };\n  return MessageForm;\n}(React.Component);\nvar ChatSettings = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ChatSettings, _Component);\n  function ChatSettings() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = ChatSettings.prototype;\n  _proto.renderOnePerson = function renderOnePerson(people) {\n    return /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        paddingTop: '22px',\n        height: '80px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto',\n        width: '33%'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[0].person\n    })));\n  };\n  _proto.renderTwoPeople = function renderTwoPeople(people) {\n    return /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        paddingTop: '22px',\n        height: '80px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto',\n        width: '50%'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[0].person,\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        right: '5px'\n      }\n    }), /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[1].person,\n      style: {\n        \"float\": 'right',\n        position: 'relative',\n        left: '5px',\n        bottom: '44px',\n        zIndex: 11\n      }\n    })));\n  };\n  _proto.renderThreePeople = function renderThreePeople(people) {\n    return /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      style: {\n        paddingTop: '22px',\n        height: '80px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto',\n        width: '50%'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[0].person,\n      style: {\n        \"float\": 'right',\n        position: 'relative',\n        right: '28px',\n        top: '10px',\n        zIndex: 11\n      }\n    }), /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[1].person,\n      style: {\n        \"float\": 'right',\n        position: 'relative',\n        right: '14px',\n        bottom: '56px',\n        zIndex: 11\n      }\n    }), /*#__PURE__*/React.createElement(Avatar, {\n      show_online: false,\n      person: people[2].person,\n      style: {\n        \"float\": 'right',\n        position: 'relative',\n        left: '5px',\n        bottom: '78px',\n        zIndex: 11\n      }\n    })));\n  };\n  _proto.render = function render() {\n    var _this$props = this.props,\n      chat = _this$props.chat,\n      creds = _this$props.creds;\n    var topPeople = chat ? chat.people.slice(0, 3) : [];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-chat-settings-container\"\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"ce-chat-avatars-row\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 3\n    }), topPeople.length == 1 && this.renderOnePerson(topPeople), topPeople.length == 2 && this.renderTwoPeople(topPeople), topPeople.length == 3 && this.renderThreePeople(topPeople), /*#__PURE__*/React.createElement(Col, {\n      xs: 3\n    })), /*#__PURE__*/React.createElement(MessageForm$1, {\n      chat: chat,\n      creds: creds\n    }));\n  };\n  return ChatSettings;\n}(Component);\nvar ChatSettingsContainer = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ChatSettingsContainer, _Component);\n  function ChatSettingsContainer() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = ChatSettingsContainer.prototype;\n  _proto.render = function render() {\n    var _this$props = this.props,\n      chats = _this$props.chats,\n      activeChat = _this$props.activeChat;\n    var chat = chats && chats[activeChat];\n    if (!chat) return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$k.filler\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$k.settingsContainer,\n      className: \"ce-settings\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '90%',\n        paddingLeft: '5%'\n      },\n      className: \"ce-settings-container\"\n    }, this.props.renderChatSettingsTop ? this.props.renderChatSettingsTop(this.props, chat) : /*#__PURE__*/React.createElement(ChatSettings, {\n      creds: this.props,\n      chat: chat\n    }), this.props.renderPeopleSettings ? this.props.renderPeopleSettings(this.props, chat) : /*#__PURE__*/React.createElement(PeopleList, {\n      creds: this.props,\n      chat: chat\n    }), this.props.renderPhotosSettings ? this.props.renderPhotosSettings(chat) : /*#__PURE__*/React.createElement(Photos, {\n      chat: chat\n    }), this.props && chat && this.props.userName === chat.admin.username && /*#__PURE__*/React.createElement(\"div\", null, this.props.renderOptionsSettings ? this.props.renderOptionsSettings(this.props, chat) : /*#__PURE__*/React.createElement(Options, {\n      creds: this.props,\n      chat: chat\n    }))));\n  };\n  return ChatSettingsContainer;\n}(Component);\nvar styles$k = {\n  settingsContainer: {\n    height: '100%',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderLeft: '1px solid #afafaf',\n    backgroundColor: 'white'\n  },\n  filler: {\n    display: 'flex',\n    width: '90%',\n    paddingLeft: '5%',\n    borderLeft: '1px solid #afafaf'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\nvar App = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(App, _Component);\n  function App() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      creds: null,\n      chats: null,\n      messages: {},\n      activeChat: null,\n      typingCounter: {},\n      typingData: {}\n    };\n    return _this;\n  }\n  var _proto = App.prototype;\n  _proto.onConnect = function onConnect(creds) {\n    this.setState({\n      creds: creds\n    });\n    getChats(creds, function () {});\n    this.props.onConnect && this.props.onConnect(creds);\n  };\n  _proto.onFailAuth = function onFailAuth(creds) {\n    this.setState({\n      creds: undefined\n    });\n    this.props.onFailAuth && this.props.onFailAuth(creds);\n  };\n  _proto.setActiveChat = function setActiveChat(chatId) {\n    this.setState({\n      activeChat: chatId\n    });\n    getMessages(this.state.creds, chatId, function () {});\n  };\n  _proto.onGetChats = function onGetChats(chats) {\n    if (chats.length > 0) {\n      this.setActiveChat(chats[0].id);\n    }\n    this.setState({\n      chats: _.mapKeys(chats, 'id')\n    });\n    this.props.onGetChats && this.props.onGetChats(chats);\n  };\n  _proto.onNewChat = function onNewChat(chat) {\n    var chats = this.state.chats;\n    if (chats) {\n      chats[chat.id] = chat;\n      this.setState({\n        chats: chats\n      });\n      this.setActiveChat(chat.id);\n    }\n    this.props.onNewChat && this.props.onNewChat(chat);\n  };\n  _proto.onEditChat = function onEditChat(chat) {\n    var chats = this.state.chats;\n    if (chats) {\n      chats[chat.id] = chat;\n      this.setState({\n        chats: chats\n      });\n    }\n    this.props.onEditChat && this.props.onEditChat(chat);\n  };\n  _proto.onDeleteChat = function onDeleteChat(chat) {\n    var chats = this.state.chats;\n    if (chats) {\n      chats[chat.id] = undefined;\n      this.setState({\n        chats: chats\n      });\n      if (!_.isEmpty(chats)) {\n        this.setActiveChat(parseInt(Object.keys(chats)[0]));\n      }\n    }\n    this.props.onDeleteChat && this.props.onDeleteChat(chat);\n  };\n  _proto.onGetMessages = function onGetMessages(chatId, messages) {\n    this.setState({\n      messages: _.mapKeys(messages, 'id')\n    });\n    if (messages.length > 0) {\n      var messageId = messages[messages.length - 1].id;\n      readMessage(this.state.creds, this.state.activeChat, messageId, function () {});\n    }\n    this.props.onGetMessages && this.props.onGetMessages(chatId, messages);\n  };\n  _proto.onNewMessage = function onNewMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      var messages = this.state.messages;\n      messages[message.id] = message;\n      this.setState({\n        messages: messages\n      });\n    }\n    readMessage(this.state.creds, this.state.activeChat, message.id);\n    this.props.onNewMessage && this.props.onNewMessage(chatId, message);\n  };\n  _proto.onEditMessage = function onEditMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      var messages = this.state.messages;\n      messages[message.id] = message;\n      this.setState({\n        messages: messages\n      });\n    }\n    this.props.onEditMessage && this.props.onEditMessage(chatId, message);\n  };\n  _proto.onDeleteMessage = function onDeleteMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      var messages = this.state.messages;\n      messages[message.id] = undefined;\n      this.setState({\n        messages: messages\n      });\n    }\n    this.props.onDeleteMessage && this.props.onDeleteMessage(chatId, message);\n  };\n  _proto.onTyping = function onTyping(chatId, person) {\n    var _this2 = this;\n    if (this.state.typingCounter[chatId] && this.state.typingCounter[chatId][person]) {\n      var _extends2, _extends3;\n      this.setState(_extends({}, this.state, {\n        typingCounter: _extends({}, this.state.typingCounter, (_extends3 = {}, _extends3[chatId] = _extends({}, this.state.typingCounter[chatId], (_extends2 = {}, _extends2[person] = this.state.typingCounter[chatId][person] + 1, _extends2)), _extends3))\n      }));\n    } else {\n      var _extends4, _extends5;\n      this.setState(_extends({}, this.state, {\n        typingCounter: _extends({}, this.state.typingCounter, (_extends5 = {}, _extends5[chatId] = _extends({}, this.state.typingCounter[chatId], (_extends4 = {}, _extends4[person] = 1, _extends4)), _extends5))\n      }));\n    }\n    this.props.onTyping && this.props.onTyping(chatId, person);\n    setTimeout(function () {\n      var _extends6, _extends7;\n      _this2.setState(_extends({}, _this2.state, {\n        typingCounter: _extends({}, _this2.state.typingCounter, (_extends7 = {}, _extends7[chatId] = _extends({}, _this2.state.typingCounter[chatId], (_extends6 = {}, _extends6[person] = _this2.state.typingCounter[chatId][person] - 1, _extends6)), _extends7))\n      }));\n    }, 1250);\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _this3 = this;\n    var _this$state = this.state,\n      typingCounter = _this$state.typingCounter,\n      typingData = _this$state.typingData;\n    Object.keys(typingCounter).map(function (chat) {\n      var typers = [];\n      Object.keys(typingCounter[chat]).map(function (person) {\n        if (typingCounter[chat][person] > 0) {\n          typers.push(person);\n        }\n      });\n      if (!typingData[chat] || typingData[chat].length !== typers.length) {\n        var _extends8;\n        _this3.setState(_extends({}, _this3.state, {\n          typingData: _extends({}, _this3.state.typingData, (_extends8 = {}, _extends8[chat] = typers, _extends8))\n        }));\n      }\n    });\n  };\n  _proto.render = function render() {\n    var _this4 = this;\n    var height = this.props.height;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'left',\n        backgroundColor: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(Socket, _extends({}, this.props, {\n      onConnect: function onConnect(props) {\n        return _this4.onConnect(props);\n      },\n      onFailAuth: function onFailAuth(props) {\n        return _this4.onFailAuth(props);\n      },\n      onGetChats: function onGetChats(chats) {\n        return _this4.onGetChats(chats);\n      },\n      onNewChat: function onNewChat(chat) {\n        return _this4.onNewChat(chat);\n      },\n      onEditChat: function onEditChat(chat) {\n        return _this4.onEditChat(chat);\n      },\n      onDeleteChat: function onDeleteChat(chat) {\n        return _this4.onDeleteChat(chat);\n      },\n      onAddPerson: function onAddPerson(chat) {\n        return _this4.onEditChat(chat);\n      },\n      onRemovePerson: function onRemovePerson(chat) {\n        return _this4.onEditChat(chat);\n      },\n      onTyping: function onTyping(chatId, person) {\n        return _this4.onTyping(chatId, person);\n      },\n      onGetMessages: function onGetMessages(chatId, messages) {\n        return _this4.onGetMessages(chatId, messages);\n      },\n      onNewMessage: function onNewMessage(chatId, message) {\n        return _this4.onNewMessage(chatId, message);\n      },\n      onEditMessage: function onEditMessage(chatId, message) {\n        return _this4.onEditMessage(chatId, message);\n      },\n      onDeleteMessage: function onDeleteMessage(chatId, message) {\n        return _this4.onDeleteMessage(chatId, message);\n      }\n    })), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n      xs: 0,\n      sm: 3,\n      style: {\n        height: height ? height : ''\n      }\n    }, this.props.renderChatList ? this.props.renderChatList(_extends({}, this.props, this.state)) : /*#__PURE__*/React.createElement(ChatList, _extends({}, this.props, this.state, {\n      onChatClick: function onChatClick(chatId) {\n        return _this4.setActiveChat(chatId);\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      sm: 6,\n      style: {\n        height: height ? height : ''\n      }\n    }, this.props.renderChatFeed ? this.props.renderChatFeed(_extends({}, this.props, this.state)) : /*#__PURE__*/React.createElement(ChatFeed, _extends({}, this.props, this.state))), /*#__PURE__*/React.createElement(Col, {\n      xs: 0,\n      sm: 3,\n      style: {\n        height: height ? height : ''\n      }\n    }, this.props.renderChatSettings ? this.props.renderChatSettings(_extends({}, this.props, this.state)) : /*#__PURE__*/React.createElement(ChatSettingsContainer, _extends({}, this.props, this.state)))));\n  };\n  return App;\n}(Component);\nvar SocketConnector = function SocketConnector(props) {\n  if (props.hideUI) {\n    return /*#__PURE__*/React.createElement(Socket, props);\n  } else {\n    return /*#__PURE__*/React.createElement(App, props);\n  }\n};\nfunction isTyping(props, chatId, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/typing/\", {}, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {});\n}\nfunction addPerson(props, chatId, userName, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Person Error', error);\n  });\n}\nfunction removePerson(props, chatId, userName, callback) {\n  axios.put(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\nfunction getOtherPeople(props, chatId, successCallback, errorCallback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/others/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data);\n    successCallback && successCallback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Other People Error', error);\n    errorCallback && errorCallback();\n  });\n}\nfunction getMyData(props, callback) {\n  axios.get(getApiUrl(props) + \"/chats/me/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Myself Error', error);\n  });\n}\nfunction editMyData(props, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/me/\", data, {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Myself Error', error);\n  });\n}\nfunction leaveChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    headers: {\n      \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n      \"User-Name\": props.userName,\n      \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret\n    }\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\nvar ChatEngine = function ChatEngine(props) {\n  return /*#__PURE__*/React.createElement(SocketConnector, props);\n};\nexport { ChatEngine, addPerson, deleteChat, deleteMessage, editChat, editMessage, editMyData, getChats, getMessages, getMyData, getOtherPeople, isTyping, leaveChat, newChat, removePerson, sendMessage };","map":{"version":3,"names":["Socket","_Component","handleEvent","event","props","eventJSON","JSON","parse","action","console","log","projectID","userName","userSecret","onTyping","data","id","person","onNewChat","onEditChat","onDeleteChat","onAddPerson","onRemovePerson","onNewMessage","message","onEditMessage","onDeleteMessage","onClose","onFailAuth","render","_this","_this$props","publicKey","userPassword","development","wsStart","rootHost","project","secret","React","createElement","Websocket","url","onOpen","onConnect","bind","onMessage","Component","getApiUrl","getChats","callback","axios","get","headers","then","response","onGetChats","error","newChat","post","editChat","chatId","patch","deleteChat","getMessages","onGetMessages","sendMessage","formdata","FormData","files","i","length","append","name","text","editMessage","messageId","readMessage","last_read","deleteMessage","timeSinceDate","date","sent","Date","day","substr","time","daySinceSent","Button","state","hovered","_this2","value","icon","theme","style","customStyle","hoverStyle","styles","hoverButton","themeStyle","dangerButton","button","type","onClick","onMouseEnter","setState","onMouseLeave","_extends","className","PlusOutlined","ArrowUpOutlined","DeleteOutlined","UserAddOutlined","color","border","outline","height","fontSize","cursor","padding","borderRadius","backgroundColor","_dangerButton","opacity","TextInput","focused","componentDidMount","target","handleChange","defaultStyle","styles$1","focusInput","input","placeholder","label","onBlur","onFocus","onChange","e","boxSizing","TextAreaInput","resize","textarea","document","getElementById","Math","min","scrollHeight","onKeyDown","key","preventDefault","onSubmit","rows","styles$2","width","fontFamily","paddingLeft","paddingRight","position","left","AutoComplete","showAll","getNames","options","max","count","results","map","option","toLowerCase","indexOf","push","renderOptions","_this3","index","renderOption","styles$3","close","CloseOutlined","_this4","textAlign","ChatForm","_React$Component","handleSubmit","trim","newChat$1","creds","title","ChatList","readLastMessage","chat","people","chat_person","username","last_message","renderChats","chats","_","extraStyle","activeChat","styles$4","renderChatCard","onChatClick","chatContainer","titleText","display","messageText","created","chatListContainer","chatsContainer","renderNewChatForm","newChatContainer","maxHeight","overflow","overflowX","borderRight","paddingBottom","fontWeight","whiteSpace","bottom","Title","top","zIndex","styles$5","titleContainer","subtitleText","mobileSection","AuthFail","paddingTop","src","alt","href","Loading","LoadingOutlined","Welcome","months","suffix","DatePartition","getDate","formatDate","date_time","year","month","parseInt","dayDuffix","timeSuffix","String","lastCreated","lastDate","thisDate","styles$6","dateText","Thumbnail","attachment","styles$7","thumbnail","file","_thumbnail","objectFit","maxWidth","minHeight","minWidth","colors","stringToNumber","str","sum","charCodeAt","stringToColor","Dot","avatar","componentDidUpdate","split","styles$8","dot","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","setConfiguration","maxScreenClass","Message","selected","renderReads","chatPerson","marginLeft","renderAttachments","attachments","_this$props2","lastMessage","nextMessage","topRightRadius","sender","bottomRightRadius","Row","Col","xs","sm","md","styles$9","myMessage","Avatar","substring","toUpperCase","styles$a","avatarText","show_online","status","is_online","TheirMessage","renderPersonText","first_name","last_name","topLeftRadius","bottomLeftRadius","styles$b","nameText","theirMessage","cusor","Message$1","FileRow","styles$c","imageSquare","URL","createObjectURL","CloseCircleTwoTone","closeIcon","onRemove","right","FileRow$1","renderFiles","ImagesInput","onSelect","indexes","concat","Array","keys","onSelectFiles","encType","htmlFor","PaperClipOutlined","multiple","accept","visibility","MessageForm","splice","isTyping$1","sendMessage$1","styles$d","messageFormContainer","inputContainer","ChatFeed","duration","setTimeout","renderTypers","typingData","typers","renderIsTyping","typer","renderMessages","messages","Object","lastMessageKey","nextMessageKey","renderMessageBubble","scrollToBottom","animateScroll","containerId","isEmpty","_this$props3","undefined","renderChatHeader","styles$e","feedContainer","renderNewMessageForm","Person","removePerson$1","admin","Option","styles$f","PersonForm","others","addPerson","addPerson$1","getOthers","onGetOthers","usernames","other","getOtherPeople$1","_this5","marginBottom","PeopleList","collapsed","renderChatPeople","borderTop","LeftOutlined","styles$g","collapseIcon","DownOutlined","Thumbnail$1","styles$h","container","image","Photos","renderPhotos","styles$i","Options","styles$j","deleteChat$1","MessageForm$1","editChat$1","ChatSettings","renderOnePerson","margin","renderTwoPeople","renderThreePeople","topPeople","slice","ChatSettingsContainer","styles$k","filler","settingsContainer","renderChatSettingsTop","renderPeopleSettings","renderPhotosSettings","renderOptionsSettings","borderLeft","gutterWidth","App","typingCounter","setActiveChat","mapKeys","_extends2","_extends3","_extends4","_extends5","_extends6","_extends7","_this$state","_extends8","renderChatList","renderChatFeed","renderChatSettings","SocketConnector","hideUI","isTyping","removePerson","put","getOtherPeople","successCallback","errorCallback","onGetOtherPeople","getMyData","editMyData","leaveChat","ChatEngine"],"sources":["C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\Socket\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\chats\\getChats.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\chats\\newChat.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\chats\\editChat.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\chats\\deleteChat.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\messages\\getMessages.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\messages\\sendMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\messages\\editMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\messages\\readMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\messages\\deleteMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\Utilities\\dateToString.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Button\\Button.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Input\\TextInput.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Input\\TextAreaInput.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Input\\Autocomplete.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatList\\ChatForm\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatList\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\TitleSection\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Steps\\AuthFail.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Steps\\Loading.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Steps\\Welcome.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Message\\DatePartition.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Message\\Thumbnail.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\Utilities\\colorMapping.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Avatar\\Dot.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Message\\MyMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\components\\Avatar\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Message\\TheirMessage.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\Message\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\MessageForm\\Thumbnail.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\MessageForm\\FileRow.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\MessageForm\\ImagesInput.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\MessageForm\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatFeed\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\People\\Person.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\People\\PersonForm\\Option.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\People\\PersonForm\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\People\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\Photos\\Thumbnail.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\Photos\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\Options\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\TitleForm\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\ChatSettings.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\ChatSettings\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\ChatUi\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\components\\index.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\typing\\isTyping.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\addPerson.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\removePerson.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\getOtherPeople.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\getMyData.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\editMyData.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\actions\\people\\leaveChat.js","C:\\Users\\seifk\\OneDrive\\Documents\\GitHub\\chat-application\\node_modules\\react-chat-engine\\src\\index.js"],"sourcesContent":["import React, { Component } from 'react'\n\nimport Websocket from 'react-websocket';\n\nexport default class Socket extends Component {\n    handleEvent(event) {\n        const { props } = this\n        const eventJSON = JSON.parse(event)\n\n        if (eventJSON.action === 'login_error') {\n            console.log(\n                `Your login credentials were not correct: \\n\n                Project ID: ${props.projectID} \\n\n                Username: ${props.userName} \\n\n                User Secret: ${props.userSecret}\\n\n                Double check these credentials to make sure they're correct.\\n\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.`\n            )\n\n        } else if (eventJSON.action === 'is_typing') {\n            props.onTyping && props.onTyping(eventJSON.data.id, eventJSON.data.person)\n\n        } else if (eventJSON.action === 'new_chat') {\n            props.onNewChat && props.onNewChat(eventJSON.data)\n\n        } else if (eventJSON.action === 'edit_chat') {\n            props.onEditChat && props.onEditChat(eventJSON.data)\n\n        } else if (eventJSON.action === 'delete_chat') {\n            props.onDeleteChat && props.onDeleteChat(eventJSON.data)\n\n        } else if (eventJSON.action === 'add_person') {\n            props.onAddPerson && props.onAddPerson(eventJSON.data)\n\n        } else if (eventJSON.action === 'remove_person') {\n            props.onRemovePerson && props.onRemovePerson(eventJSON.data)\n\n        } else if (eventJSON.action === 'new_message') {\n            props.onNewMessage && props.onNewMessage(eventJSON.data.id, eventJSON.data.message)\n\n        } else if (eventJSON.action === 'edit_message') {\n            props.onEditMessage && props.onEditMessage(eventJSON.data.id, eventJSON.data.message)\n\n        } else if (eventJSON.action === 'delete_message') {\n            props.onDeleteMessage && props.onDeleteMessage(eventJSON.data.id, eventJSON.data.message)\n\n        }\n    }\n\n    onClose() {\n        this.props.onFailAuth && this.props.onFailAuth(this.props)\n    }\n\n    render() {\n        const { \n            publicKey, projectID, \n            userName, \n            userPassword, userSecret, \n            development \n        } = this.props \n        \n        const wsStart = development ? 'ws://' : 'wss://'\n        const rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io'\n        \n        const project = publicKey ? publicKey : projectID\n        const secret = userPassword ? userPassword : userSecret\n\n        return <Websocket \n            url={`${wsStart}${rootHost}/person/?publicKey=${project}&username=${userName}&secret=${secret}`}\n            onOpen={() => this.props.onConnect && this.props.onConnect(this.props)}\n            onClose={this.onClose.bind(this)}\n            onMessage={this.handleEvent.bind(this)}\n        />\n    }\n}\n","export function getApiUrl(props) { \n    if (props && props.development) {\n        return 'http://127.0.0.1:8000'\n    }\n    return 'https://api.chatengine.io'\n}\n","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function getChats(props, callback) {\n    axios.get(\n        `${str.getApiUrl(props)}/chats/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        // Run hook in Axios on GET requests\n        props.onGetChats && props.onGetChats(response.data)\n\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Fetch Chats Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function newChat(props, data, callback) {\n    axios.post(\n        `${str.getApiUrl(props)}/chats/`,\n        data, \n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('New Chat Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function editChat(props, chatId, data, callback) {\n    axios.patch(\n        `${str.getApiUrl(props)}/chats/${chatId}/`,\n        data, \n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Edit Chat Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function deleteChat(props, chatId, callback) {\n    axios.delete(\n        `${str.getApiUrl(props)}/chats/${chatId}/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Delete Chat Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function getMessages(props, chatId, callback) {\n    axios.get(\n        `${str.getApiUrl(props)}/chats/${chatId}/messages/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        // Run hook in Axios on GET requests\n        props.onGetMessages && props.onGetMessages(chatId, response.data)\n\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Fetch Messages Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function sendMessage(props, chatId, data, callback) {\n    let formdata = new FormData()\n    if(data.files) {\n        for (let i = 0; i < data.files.length; i++) { \n            formdata.append('attachments', data.files[i], data.files[i].name)\n        }\n    }\n    formdata.append('text', data.text)\n\n    axios.post(\n        `${str.getApiUrl(props)}/chats/${chatId}/messages/`,\n        formdata,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Send Messages Error', error)\n    });\n    \n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function editMessage(props, chatId, messageId, data, callback) {\n    axios.patch(\n        `${str.getApiUrl(props)}/chats/${chatId}/messages/${messageId}/`,\n        data,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Delete Messages Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function readMessage(props, chatId, messageId, callback) {\n    axios.patch(\n        `${str.getApiUrl(props)}/chats/${chatId}/people/`,\n        { last_read: messageId },\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Send Messages Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function deleteMessage(props, chatId, messageId, callback) {\n    axios.delete(\n        `${str.getApiUrl(props)}/chats/${chatId}/messages/${messageId}/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Delete Messages Error', error)\n    });\n}","export function timeSinceDate(date) {\n    const sent = Date(date)\n    const day = sent.substr(0, 10)\n    const time = sent.substr(15, 6)\n    return `${day} at ${time}`\n}\n\nexport function daySinceSent(date) {\n    const sent = Date(date)\n    return sent.substr(4, 6)\n}\n","import React, { Component } from 'react'\n\nimport { PlusOutlined, ArrowUpOutlined, DeleteOutlined, UserAddOutlined } from '@ant-design/icons'\n\nexport default class Button extends Component {\n    state = {\n        hovered: false\n    }\n\n    render() {\n        const { value, icon, theme, style } = this.props\n\n        const customStyle = style ? style : {}\n        const hoverStyle = this.state.hovered ? styles.hoverButton : {}\n        const themeStyle = theme == 'danger' ? styles.dangerButton : styles.button\n\n        return (\n            <button \n                type={this.props.type}\n                onClick={() => this.props.onClick && this.props.onClick()}\n                onMouseEnter={() => this.setState({ hovered: true })}\n                onMouseLeave={() => this.setState({ hovered: false })}\n                style={{ ...themeStyle, ...customStyle, ...hoverStyle }}\n                className={`ce-primary-button ${theme == 'danger' ? 'ce-danger-button' : ''}`}\n            >\n\n                { icon == 'plus' && <PlusOutlined /> }\n                { icon == 'send'  && <ArrowUpOutlined /> }\n                { icon == 'delete'  && <DeleteOutlined /> }\n                { icon == 'user-add'  && <UserAddOutlined /> }\n\n                { value && icon ? ` ${value}` : value}  \n\n            </button>\n        )\n    }\n}\n\nconst styles = {\n    button: {\n        color: 'white',\n        border: 'none',\n        outline: 'none',\n        height: '36px',\n        fontSize: '15px',\n        cursor: 'pointer',\n        padding: '8px 16px',\n        borderRadius: '33px',\n        backgroundColor: '#1890ff'\n    },\n    dangerButton: {\n        color: 'red',\n        border: 'none',\n        outline: 'none',\n        height: '36px',\n        fontSize: '15px',\n        cursor: 'pointer',\n        padding: '8px 16px',\n        borderRadius: '33px',\n        backgroundColor: 'white',\n        border: '1px solid red',\n    },\n    hoverButton: {\n        opacity: '0.66'\n    }\n}","import React, { Component } from 'react'\n\nexport default class TextInput extends Component {\n    state = {\n        focused: false,\n        value: null\n    }\n\n    componentDidMount() {\n        const value = this.props.default\n        if(value) {\n            const event = {target: {value}}\n            this.props.handleChange(event)\n            this.setState({ value })\n        }\n    }\n\n    render() {\n        const customStyle = this.props.style ? this.props.style : {}\n        const defaultStyle = this.state.focused ? styles.focusInput : styles.input\n\n        return (\n            // NOTE: You may need to make a div the searchContainer to put icons in...\n            <input \n                className='ce-input ce-text-input'\n                value={this.props.value} \n                placeholder={this.props.label}\n                style={{ ...defaultStyle, ...customStyle }}\n                onBlur={() => this.setState({ focused: false })}\n                onFocus={() => this.setState({ focused: true })}\n                type={this.props.type ? this.props.type : \"text\" }\n                onChange={(e) => this.props.handleChange && this.props.handleChange(e)} \n            />\n        )\n    }\n}\n\nconst styles = {\n    input: {\n        // Sizes\n        height: '36px',\n        fontSize: '15px',\n        // Border\n        outline: 'none',\n        borderRadius: '24px',\n        border: '1px solid #d9d9d9',\n        // Padding and fixed width\n        padding: '0px 12px',\n        boxSizing: 'border-box',\n    },\n    focusInput: {\n        // Sizes\n        height: '36px',\n        fontSize: '15px',\n        // Border\n        outline: 'none',\n        borderRadius: '24px',\n        border: '1px solid #1890ff',\n        // Padding and fixed width\n        padding: '0px 12px',\n        boxSizing: 'border-box',\n    }\n}","import React, { Component } from 'react'\n\nexport default class TextAreaInput extends Component {\n    state = {\n        focused: false,\n        value: null\n    }\n\n    componentDidMount() {\n        const value = this.props.default\n\n        if(value) {\n            this.props.handleChange({ target: { value } })\n            this.setState({ value })\n        }\n    }\n\n    resize() {\n        var textarea = document.getElementById(\"msg-textarea\");\n        textarea.style.height = \"\";\n        textarea.style.height = Math.min(textarea.scrollHeight, 150) + \"px\";\n    }\n\n    componentDidMount() {\n        this.resize()\n    }\n\n    handleChange(e) {\n        this.resize()\n        this.props.handleChange && this.props.handleChange(e)\n    }\n\n    onKeyDown(e) {\n        if (e.key === 'Enter') { \n            e.preventDefault()\n\n            if (this.props.value.length > 0) {\n                this.props.onSubmit && this.props.onSubmit(e) \n            }\n        }\n    }\n\n    render() {\n        return (\n            <textarea \n                id='msg-textarea'\n                className='ce-input ce-textarea-input'\n                rows='1'\n                style={ styles.input }\n                value={ this.props.value }\n                placeholder={ this.props.label }\n                onBlur={() => this.setState({ focused: false })}\n                onFocus={() => this.setState({ focused: true })}\n                type={this.props.type ? this.props.type : \"text\" }\n                onChange={(e) => this.handleChange(e)} \n                onKeyDown={(e) => this.onKeyDown(e)}\n            />\n        )\n    }\n}\n// This is another thing we need to chat about which regards the competence of one more\nconst styles = {\n    input: { \n        // Border\n        border: '1px solid white',\n        width: 'calc(100% - 64px - 24px - 44px)',\n        outline: 'none', \n        // Fonts\n        fontFamily: 'inherit',\n        fontSize: '15px',\n        // Padding\n        paddingLeft: '12px',\n        paddingRight: '12px',\n        // Position\n        position: 'relative', \n        left: '12px',\n        // Dynamic Sizing\n        resize: 'none', \n    }\n}","import React, { Component } from 'react'\n\nimport { CloseOutlined } from '@ant-design/icons'\n\nexport default class AutoComplete extends Component {\n    state = {\n        focused: false,\n        showAll: false,\n    }\n\n    onFocus() {\n        this.onChange('', true)\n        this.setState({ focused: true })\n        this.props.onFocus && this.props.onFocus()\n    }\n\n    onBlur() {\n        this.setState({ focused: false })\n        this.props.onBlur && this.props.onBlur()\n    }\n\n    onChange(value, showAll) {\n        this.setState({ showAll })\n        this.props.handleChange && this.props.handleChange(value)\n    }\n\n    getNames(options) {\n        const max = 3 \n        let count = 0\n        \n        const results = []\n        \n        options.map(option => {\n            if (option.toLowerCase().indexOf(this.props.value.toLowerCase()) !== -1 && count < max) {\n                count = count + 1\n                results.push(option)\n            }\n        })\n        \n        return results\n    }\n\n    renderOptions(options) {\n        if(!this.props.value && !this.state.showAll) { return <div /> }\n\n        const results = this.getNames(options)\n\n        return results.map((option, index) => {\n            return (\n                <div key={`option_${index}`} className='ce-autocomplete-option'>\n                    { this.props.renderOption && this.props.renderOption(option) }\n\n                    { \n                        index == results.length - 1 && \n                        <div \n                            style={styles.close} \n                            className='ce-autocomplete-close'\n                            onClick={() => this.onChange('', false)}\n                        >\n                            <CloseOutlined />\n                        </div>\n                    }\n                </div>\n            )\n        })\n    }\n\n    render() {\n        const { options } = this.props\n        const customStyle = this.props.style ? this.props.style : {}\n        const defaultStyle = { ...styles.input, ...{ border: this.state.focused ? '1px solid #1890ff' : '1px solid #d9d9d9' } }\n\n        return (\n            <div>\n                <input \n                    className='ce-input ce-autocomplete-input'\n                    value={this.props.value} \n                    placeholder={this.props.label}\n                    style={{ ...defaultStyle, ...customStyle }}\n                    type={this.props.type ? this.props.type : \"text\" }\n                    onBlur={() => this.onBlur()}\n                    onFocus={() => this.onFocus()}\n                    onChange={(e) => this.onChange(e.target.value, true)}\n                />\n\n                {\n                    options && options.length > 0 && this.state.showAll &&\n                    <div \n                        className='ce-autocomplete-options'\n                        style={{ borderRadius: '19px', border: '1px solid #afafaf' }}\n                    >\n                        { this.renderOptions(this.props.options) }\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    input: {\n        height: '36px',\n        fontSize: '15px',\n        outline: 'none',\n        borderRadius: '24px',\n        padding: '0px 12px',\n        boxSizing: 'border-box'\n    },\n    close: {\n        cursor: 'pointer',\n        textAlign: 'center',\n        padding: '8px 12px',\n        fontSize: '15px',\n        borderRadius: '24px',\n    }\n}","import React from 'react';\n\nimport { newChat } from 'react-chat-engine'\n\nimport { Button } from '../../components/Button'\nimport { TextInput } from '../../components/Input'\n\nexport default class ChatForm extends React.Component {\n    state = {\n        value: ''\n    }\n  \n    handleChange(event) {\n      this.setState({value: event.target.value});\n    }\n  \n    handleSubmit(event) {\n        event.preventDefault();\n\n        if (this.state.value.trim().length > 0) {\n          newChat(\n            this.props.creds, \n            { title: this.state.value },\n            () => {}\n          )\n        }\n\n        this.setState({ value: '' })\n    }\n  \n    render() {\n      return (\n        <form onSubmit={this.handleSubmit.bind(this)}>\n\n          <div style={{ width: 'calc(100% - 26px)' }}>\n            \n            <div style={{ height: '1px' }}>\n              <TextInput \n                label='New Chat'\n                value={this.state.value}\n                style={{ width: 'calc(100% - 48px)' }}\n                handleChange={(e) => this.handleChange(e)}\n              />\n            </div>\n\n            <div style={{ width: '100%', textAlign: 'right' }}>\n              <Button \n                icon='plus'\n                type=\"submit\" \n              />\n            </div>\n          \n          </div>\n\n        </form>\n      );\n    }\n}","import React, { Component } from 'react'\n\nimport _ from 'lodash'\n\nimport { daySinceSent } from '../Utilities/dateToString'\n\nimport ChatForm from './ChatForm'\n\nclass ChatList extends Component {\n    readLastMessage(creds, chat) {\n        let readLastMessage = true\n        chat.people.map(chat_person => {\n            if(creds && creds.userName === chat_person.person.username) {\n                readLastMessage = chat.last_message.id === chat_person.last_read\n            }\n        })\n        return readLastMessage\n    }\n\n    renderChats(chats) {\n        return _.map(chats, (chat, index) => {\n            if (!chat) return <div key={`chat_${index}`} />\n\n            const extraStyle = this.props.activeChat === chat.id ? styles.activeChat : {}\n            \n            if (this.props.renderChatCard) {\n                return <div key={`chat_${index}`}>{this.props.renderChatCard(chat, index)}</div>\n            }\n\n            return (\n                <div \n                    key={`chat_${index}`} \n                    onClick={() => this.props.onChatClick(chat.id)}\n                    style={{ ...styles.chatContainer, ...extraStyle }}\n                    className={`ce-chat-card ${this.props.activeChat === chat.id && 'ce-active-chat-card'}`}\n                >\n                    \n                    <div style={ styles.titleText } className='ce-chat-title-text'>\n                        { chat.title }\n                        {' '}\n                        {\n                            !this.readLastMessage(this.props, chat) &&\n                            <div \n                                className='ce-chat-unread-dot'\n                                style={{ \n                                    float: 'right',\n                                    width: '12px',\n                                    height: '12px',\n                                    borderRadius: '6px',\n                                    backgroundColor: '#1890ff',\n                                    display: 'inline-block'\n                                }} \n                            />\n                        }\n                        \n                    </div>\n\n                    <div style={{ width: '100%' }} className='ce-chat-subtitle'>\n                        <div style={styles.messageText} className='ce-chat-subtitle-text ce-chat-subtitle-message'>\n                            { chat.last_message.text ? chat.last_message.text : 'Say hello!' }\n                        </div>\n\n                        <div \n                            className='ce-chat-subtitle-text ce-chat-subtitle-date'\n                            style={{ ...styles.messageText, ...{ textAlign: 'right', width: '25%' } }}\n                        >\n                            { daySinceSent(chat.last_message.created) }\n                        </div>\n                    </div>\n\n                </div>\n            )\n        })\n    }\n\n    render() {        \n        return (\n            <div style={styles.chatListContainer} className='ce-chat-list'>\n\n                <div style={styles.chatsContainer} className='ce-chats-container'>\n\n                    { this.renderChats(this.props.chats) } \n\n                    <div style={{ height: '64px' }} />\n\n                    {\n                        this.props.renderNewChatForm ?\n                        this.props.renderNewChatForm(this.props) :\n                        <div style={styles.newChatContainer} className='ce-chat-form-container'>\n                            <ChatForm creds={this.props}  className='ce-chat-form' />\n                        </div>\n                    }\n                    \n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst styles={\n    chatListContainer: { \n        height: '100%', \n        maxHeight: '100vh', \n        overflow: 'scroll', \n        overflowX: 'hidden',\n        borderRight: '1px solid #afafaf', \n        backgroundColor: 'white' \n    },\n    chatsContainer: { \n        width: '100%', \n        backgroundColor: 'white', \n        borderRadius: '0px 0px 24px 24px'\n    },\n    chatContainer: { \n        padding: '16px', \n        paddingBottom: '12px',\n        cursor: 'pointer'\n    },\n    titleText: { \n        fontWeight: '500',\n         paddingBottom: '4px', \n         whiteSpace: 'nowrap', \n         overflow: 'hidden' \n    },\n    messageText: {\n        width: '75%',\n        color: 'rgba(153, 153, 153, 1)', \n        fontSize: '14px', \n        whiteSpace: 'nowrap', \n        overflow: 'hidden',\n        display: 'inline-block'\n    },\n    activeChat: {\n        backgroundColor: '#d9d9d9',\n        border: '4px solid white',\n        borderRadius: '12px'\n    },\n    newChatContainer: { \n        position: 'absolute', \n        bottom: '0px', \n        width: '100%', \n        padding: '12px', \n    }\n}\n\nexport default ChatList;\n","import React, { Component } from 'react'\n\nimport { timeSinceDate } from '../../Utilities/dateToString'\n\nexport default class Title extends Component {\n  \n    render() {\n        const { chat } = this.props\n\n        if (!chat) { return <div /> }\n\n        return (\n            <div \n                className='ce-chat-title'\n                style={{ position: 'absolute', top: '0px', width: '100%', zIndex: '1' }}\n            >\n                <div style={styles.titleContainer} className='ce-chat-title-container'>  \n                    <div style={styles.titleText} className='ce-chat-title-text'>\n                        { chat && chat.title }\n                    </div>\n                    \n                    <div style={styles.subtitleText} className='ce-chat-subtitle-text'>\n                        Active {timeSinceDate(chat.last_message.created)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst styles = {\n    mobileSection: {\n        textAlign: 'center', \n        padding: '30px 0px', \n        backgroundColor: 'rgb(256, 256, 256, 0.92)',\n        border: '1px solid rgb(256, 256, 256, 0.92)'\n    },\n    titleContainer: {\n        width: '100%',\n        padding: '18px 0px',\n        textAlign: 'center',\n        color: 'rgb(24, 144, 255)',\n        backgroundColor: 'rgb(256, 256, 256, 0.92)'\n    },\n    titleText: {\n        fontSize: '24px',\n        fontWeight: '600',\n    },\n    subtitleText: {\n        fontSize: '12px',\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class AuthFail extends Component {\n    render() {\n        return (\n            <div style={{ height: '100%', textAlign: 'center' }}>\n                \n                <div style={{ width: '100%' }}>\n                    <img\n                        style={{ width: '40%', paddingTop: '25vh' }}\n                        src='https://chat-engine-assets.s3.amazonaws.com/denied.svg'\n                        alt='welcome-to-chat-engine'\n                    />\n                </div>\n\n                <div style={{ fontSize: '18px', paddingTop: '24px', width: '75%', paddingLeft: '12.5%' }}>\n                    Your credentials are incorrect. Make sure your Public Key, Username, and Password are correct at <a href='https://chatengine.io'>chatengine.io</a>\n                </div>\n\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nimport { LoadingOutlined } from '@ant-design/icons'\n\nexport default class Loading extends Component {\n    render() {\n        return (\n            <LoadingOutlined \n                style={{ \n                    width: '100%', \n                    position: 'relative', \n                    top: 'calc(50% - 26px)', \n                    textAlign: 'center',\n                    fontSize: '52px'\n                }} \n            />\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Welcome extends Component {\n    render() {\n        return (\n            <div style={{ height: '100%', textAlign: 'center' }}>\n\n                <div style={{ width: '100%' }}>                    \n                    <img\n                        style={{ width: '60%', paddingTop: '33vh' }}\n                        src='https://chat-engine-assets.s3.amazonaws.com/welcome.svg'\n                        alt='welcome-to-chat-engine'\n                    />\n                </div>\n\n                <div style={{ fontSize: '18px', paddingTop: '24px', width: '75%', paddingLeft: '12.5%' }}>\n                    Fill out the \"New Chat\" form to get started.\n                </div>\n\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\nconst suffix = [\n  'st', 'nd', 'rd', 'th', 'th',\n  'th', 'th', 'th', 'th', 'th',\n  'th', 'th', 'th', 'th', 'th',\n  'th', 'th', 'th', 'th', 'th',\n  'st', 'nd', 'rd', 'th', 'th',\n  'th', 'th', 'th', 'th', 'th',\n  'st'\n]\n\nexport default class DatePartition extends Component {\n    getDate(date) {\n        return date ? date.substr(0, 10) : null\n    }\n\n    formatDate(date_time) {\n        const year = date_time.substr(0, 4)\n        const month = months[parseInt(date_time.substr(5, 2)) - 1]\n        const day = date_time.substr(8, 2)\n        const dayDuffix = suffix[parseInt(date_time.substr(8, 2)) - 1]\n\n        var time = date_time.substr(11, 5)\n        var timeSuffix = ''\n\n        if(parseInt(time.substr(0, 2)) >= 12){\n            if(parseInt(time.substr(0, 2)) > 12){\n            time = String(parseInt(time.substr(0, 2)) - 12) + ':' + time.substr(3, 2)\n            }\n            timeSuffix = 'PM'\n\n        } else {\n            timeSuffix = 'AM'\n        }\n\n        return time + timeSuffix + ', ' + month + ' ' + day + dayDuffix + ', ' + year\n    }\n\n    render() {\n        const { lastCreated, created } = this.props\n\n        const lastDate = this.getDate(lastCreated)\n        const thisDate = this.getDate(created)\n\n        if (lastCreated && lastDate === thisDate ) {\n            return <div />\n        }\n\n        return (\n            <div style={styles.dateText} className='ce-message-date-text'>\n                { this.formatDate(created) }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    dateText: { \n        width: '100%', \n        textAlign: 'center',\n        paddingTop: '4px',\n        paddingBottom: '10px',\n        fontSize: '15px',\n        color: 'rgba(0, 0, 0, .40)'\n    }\n}","import React, { Component } from 'react'\n\nexport default class Thumbnail extends Component {\n\n    render() {\n        const { attachment } = this.props\n\n        return (\n            <img \n                style={ styles.thumbnail }\n                src={attachment.file}\n                alt={'image'}\n            />\n        )\n    }\n}\n\nconst styles = {\n    thumbnail: { \n        width: '100%', \n        cursor: 'pointer',\n        textAlign: 'right', \n        display: 'inline', \n        objectFit: 'cover',\n        borderRadius: '0.3em',\n        paddingRight: '2px',\n\n        height: '30vw', \n        width: '30vw', \n        maxHeight: '200px',\n        maxWidth: '200px',\n        minHeight: '100px',\n        minWidth: '100px',\n    }\n}","\n\nconst colors = [\n    '#D64045',\n    '#5B3000',\n    '#00CC99',\n    '#467599',\n    '#1D3354',\n    '#8F250C',\n    '#6153CC',\n    '#961D4E',\n    '#A29F15',\n    '#0CAADC',\n    '#FF5154',\n    '#FA7921',\n    '#688E26',\n    '#550527',\n    '#A10702',\n    '#FF1053',\n    '#6C6EA0',\n    '#100B00',\n]\n\nfunction stringToNumber(str){\n    let sum = 0\n    for (var i = 0; i < str.length; i++) {\n        sum = sum + (str.charCodeAt(i) * i) - 97\n    }\n    return sum\n}\n\nexport function stringToColor(str) {\n    if (!str) {\n        return 'black'\n    } else {\n        return colors[stringToNumber(str) % colors.length]\n    }\n}","import React, { Component } from 'react'\n\nimport { stringToColor } from '../../Utilities/colorMapping' \n\n\nexport default class Dot extends Component {\n    state = { avatar: '' } // State to avoid img flickering\n\n    componentDidUpdate() {\n        const { person } = this.props\n        const avatar = (person && person.avatar !== null) ? person.avatar : ''\n        \n        if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n            this.setState({ avatar })\n        }\n    }\n\n    render() {\n        const { person } = this.props\n        const color = stringToColor(person.username)\n        const customStyle = this.props.style ? this.props.style : {}\n        \n        return (\n            <div\n                className='ce-avatar-dot'\n                style={{\n                    ...styles.dot,\n                    ...customStyle,\n                    ...{\n                        backgroundColor: this.state.avatar ? 'white' : color,\n                        backgroundImage: this.state.avatar && `url(${this.state.avatar})`,\n                        backgroundRepeat: 'no-repeat',\n                        backgroundPosition: 'center',\n                        backgroundSize: '14px'\n                    }\n                }}\n            />\n        )\n    }\n}\n\nconst styles = {\n    dot: {\n        width: '13px',\n        height: '13px',\n        borderRadius: '13px',\n        textAlign: 'center',\n    }\n}","import React, { Component } from 'react'\n\nimport Thumbnail from './Thumbnail'\n\nimport Dot from '../../components/Avatar/Dot'\n\nimport { Row, Col, setConfiguration } from 'react-grid-system'\n\nsetConfiguration({ maxScreenClass: 'xl' })\n\nexport default class Message extends Component {\n    state = {\n        selected: false\n    }\n\n    renderReads() {\n        const { chat, message } = this.props\n\n        if(!chat) { return <div /> }\n\n        return chat.people.map((chatPerson, index) => {\n            if (message.id == chatPerson.last_read) {\n                return <Dot key={`read_${index}`} person={chatPerson.person} style={{ float: 'right', marginLeft: '4px' }} />\n            }\n        })\n    }\n\n    renderAttachments(borderRadius) {\n        const attachments = this.props.message ? this.props.message.attachments : []\n        return attachments.map((attachment, index) => {\n            return <Thumbnail attachment={attachment} key={`attachment_${index}`} borderRadius={borderRadius} />\n        })\n    }\n\n    render() {\n        const { lastMessage, message, nextMessage } = this.props\n\n        if (!message) { return <div /> }\n\n        const attachments = this.props.message && this.props.message.attachments\n\n        const topRightRadius = !lastMessage || lastMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em'\n        const bottomRightRadius = !nextMessage || nextMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em'\n\n        const borderRadius = `1.3em ${topRightRadius} ${bottomRightRadius} 1.3em`\n        const paddingBottom = !nextMessage || nextMessage.sender.username !== message.sender.username ? '12px' : '2px'\n\n        return (\n            <div \n                className='ce-message-row ce-my-message'\n                onMouseEnter={() => this.setState({ selected: true })}\n                onMouseLeave={() => this.setState({ selected: false })}\n                style={{ width: '100%', textAlign: 'right', paddingBottom }}\n            >\n\n                <div \n                    style={{ display: 'auto' }} \n                    className='ce-my-message-attachments-container'\n                >\n                    { this.renderAttachments() }\n                </div>\n\n                <Row\n                    style={{ paddingRight: '2px' }} \n                    className='ce-message-bubble-row ce-my-message-bubble-row'\n                >\n\n                    <Col xs={1} sm={2} md={3} />\n\n                    <Col xs={11} sm={10} md={9}>\n\n                        {\n                            !attachments || message.text && \n                            <div\n                                className='ce-message-bubble ce-my-message-bubble'\n                                style={{ ...styles.myMessage, ...{ borderRadius } }}\n                            >\n                                { message.text }\n                            </div>\n                        }\n\n                    </Col>\n\n                    <Col xs={1} sm={2} md={3} />\n\n                    <Col xs={12} className='ce-reads-row ce-my-reads-row'>\n                        { this.renderReads() }\n                    </Col>\n            \n                </Row>\n                \n            </div>\n        )\n    }\n}\n\nconst styles = {\n    myMessage: {\n        color: 'white', \n        cursor: 'pointer',\n        float: 'right', textAlign: 'left', // Stay right but render text\n        padding: '12px',\n        fontSize: '15px',\n        whiteSpace: 'pre-line',\n        backgroundColor: 'rgb(24, 144, 255)', \n    }\n}","import React, { Component } from 'react'\n\nimport { stringToColor } from '../../Utilities/colorMapping' \n\n\nexport default class Avatar extends Component {\n    state = { avatar: '' }  // State to avoid img flickering\n\n    componentDidUpdate() {\n        const { person } = this.props\n        const avatar = (person && person.avatar !== null) ? person.avatar : ''\n        \n        if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n            this.setState({ avatar })\n        }\n    }\n\n    render() {\n        const { person } = this.props\n        const customStyle = this.props.style ? this.props.style : {}\n        const text = person.username ? person.username.substring(0, 2).toUpperCase() : ''\n        const color = stringToColor(person ? person.username : '')    \n                \n        return (\n            <div style={{ width: '48px', height: '48px' }}>\n                <div style={{ height: '0px' }}>\n                    <div \n                        className='ce-avatar'\n                        style={{ \n                            ...styles.avatar, \n                            ...customStyle, \n                            ...{ \n                                backgroundColor: this.state.avatar ? 'white' : color,\n                                backgroundImage: this.state.avatar && `url(${this.state.avatar})`,\n                                backgroundRepeat: 'no-repeat',\n                                backgroundPosition: 'center',\n                                backgroundSize: '48px',\n                            }\n                        }}\n                    >   \n                        <div \n                            className='ce-avatar-text'\n                            style={styles.avatarText}\n                        >\n                            { !this.state.avatar && text }\n                        </div>\n                    </div>\n                </div>\n\n                {\n                    this.props.show_online !== false && \n                    <div\n                        className='ce-avatar-status'\n                        style={{\n                            ...styles.status, \n                            ...{ backgroundColor: person.is_online ? '#52c41a' : '#f5222d' }\n                        }}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    avatar: {\n        width: '44px',\n        height: '44px',\n        borderRadius: '22px',\n        color: 'white',\n        textAlign: 'center',\n    },\n    avatarText: {\n        color: 'white', \n        paddingTop: '12px', \n        fontSize: '15px', \n        fontWeight: '600'\n    },\n    status: { \n        width: '8px', \n        height: '8px', \n        borderRadius: '100%', \n        border: '2px solid white',   \n    }\n}","import React, { Component } from 'react'\n\nimport Thumbnail from './Thumbnail'\n\nimport Dot from '../../components/Avatar/Dot'\nimport Avatar from '../../components/Avatar'\n\nimport { Row, Col, setConfiguration } from 'react-grid-system'\n\nsetConfiguration({ maxScreenClass: 'xl' })\n\n\nexport default class TheirMessage extends Component {\n    state = {\n        selected: false\n    }\n\n    renderReads() {\n        const { chat, message } = this.props\n\n        if(!chat) { return <div /> }\n\n        return chat.people.map((person, index) => {\n            if (message.id == person.last_read) {\n                return <Dot key={`read_${index}`} person={person.person} style={{ float: 'left', marginLeft: '4px' }} />\n            }\n        })\n    }\n\n    renderAttachments(borderRadius) {\n        const attachments = this.props.message ? this.props.message.attachments : []\n        return attachments.map((attachment, index) => {\n            return <Thumbnail attachment={attachment} key={`attachment_${index}`} borderRadius={borderRadius} />\n        })\n    }\n\n    renderPersonText(person) {\n        if (person.first_name !== null) {\n            return `${person.first_name}${person.last_name ? ` ${person.last_name}` : ''}`\n        } else {\n            return person.username\n        }\n    }\n\n    render() {\n        const { lastMessage, message, nextMessage } = this.props\n\n        if (!message) { return <div /> }\n\n        const attachments = this.props.message && this.props.message.attachments\n\n        const topLeftRadius = !lastMessage || lastMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em'\n        const bottomLeftRadius = !nextMessage || nextMessage.sender.username !== message.sender.username ? '1.3em' : '0.3em'\n\n        const borderRadius = `${topLeftRadius} 1.3em 1.3em ${bottomLeftRadius}`\n        const paddingBottom = !nextMessage || nextMessage.sender.username !== message.sender.username ? '12px' : '2px'\n\n        return (\n            <div \n                style={{ width: '100%', paddingBottom }}\n                className='ce-message-row ce-their-message'\n            >\n                {\n                    (!lastMessage || lastMessage.sender.username !== message.sender.username) &&\n                    <div style={styles.nameText} className='ce-their-message-sender'>\n                        { this.renderPersonText(message.sender) }\n                    </div>\n                }\n            \n                <Row style={{ paddingLeft: '2px' }} className='ce-their-message-row'>\n                    <Col xs={11} sm={10} md={9}>\n                        <div style={{ height: '0px' }} className='ce-their-message-avatar'>\n                            {\n                                (!nextMessage || nextMessage.sender.username !== message.sender.username) &&\n                                <Avatar person={message.sender} show_online={false} />\n                            }\n\n                        </div>\n\n                        <div \n                            style={{ display: 'auto', paddingLeft: '50px' }}\n                            className='ce-their-message-attachments-container'\n                        >\n                            { this.renderAttachments() }\n                        </div>\n\n                        {\n                            !attachments || message.text &&\n                            <div style={{ paddingLeft: '48px' }}>\n                                <div\n                                    className='ce-message-bubble ce-their-message-bubble'\n                                    onMouseEnter={() => this.setState({ selected: true })}\n                                    onMouseLeave={() => this.setState({ selected: false })}\n                                    style={{ ...styles.theirMessage, ...{ borderRadius } }}\n                                >\n                                    { message.text }\n                                </div>\n                            </div>  \n                        }\n                    </Col>\n\n                    {/* Col is 9 to not slipp into RHS */}\n                    <Col \n                        xs={9} \n                        style={{ marginLeft: '48px' }} \n                        className='ce-reads-row ce-their-reads-row'\n                    >\n                        { this.renderReads() }\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    theirMessage: {\n        cusor: 'auto',\n        color: 'black', \n        float: 'left',\n        padding: '12px',\n        fontSize: '15px',\n        whiteSpace: 'pre-line',\n        backgroundColor: '#f1f0f0', \n    },\n    nameText: { \n        paddingLeft: '62px', \n        paddingBottom: '2px', \n        color: 'rgba(0, 0, 0, .40)', \n        fontSize: '15px' \n    }\n}","import React, { Component } from 'react'\n\nimport DatePartition from './DatePartition'\nimport MyMessage from './MyMessage'\nimport TheirMessage from './TheirMessage'\n\nexport default class Message extends Component {\n    state = {\n        selected: false\n    }\n\n    render() {\n        const { creds, chat, lastMessage, message, nextMessage } = this.props\n\n        if (!message) { return <div /> }\n\n        return (\n            <div className='ce-message-and-date'>\n\n                <DatePartition \n                    lastCreated={lastMessage ? lastMessage.created : null} \n                    created={message.created} \n                />\n\n                {\n                    message.sender.username == creds.userName ?\n                    <MyMessage \n                        chat={chat} \n                        creds={creds} \n                        lastMessage={lastMessage} \n                        message={message} \n                        nextMessage={nextMessage} \n                    /> :\n                    <TheirMessage \n                        chat={chat} \n                        creds={creds} \n                        lastMessage={lastMessage} \n                        message={message} \n                        nextMessage={nextMessage} \n                    />\n                }\n                \n            </div>\n        ) \n    }\n}\n","import React from 'react'\n\nimport { CloseCircleTwoTone } from '@ant-design/icons'\n\nexport default class FileRow extends React.Component {\n    state = {\n        hovered: false\n    }\n  \n    render() {\n        return (\n            <div \n                style={{ padding: '12px 6px', display: 'inline' }}\n                onMouseEnter={() => this.setState({ hovered: true })}\n                onMouseLeave={() => this.setState({ hovered: false })}\n            >\n                \n                <img\n                    style={styles.imageSquare}\n                    alt={this.props.file ? this.props.file.name : ''}\n                    src={URL.createObjectURL(this.props.file)}\n                />\n\n                {\n                    this.state.hovered &&\n                    <CloseCircleTwoTone \n                        style={styles.closeIcon} \n                        onClick={() => this.props.onRemove && this.props.onRemove()}\n                    />\n                }\n\n            </div>\n      ) ;\n    }\n}\n\nconst styles = {\n    imageSquare: { \n        height: '108px', \n        width: '108px', \n        border: '1px solid #afafaf',\n        borderRadius: '8px',\n        objectFit: 'cover',\n        display: 'inline',\n    },\n    closeIcon: {\n        position: 'relative', \n        bottom: '91px', \n        right: '20px', \n        width: '0px', \n        cursor: 'pointer'\n    }\n}","import React from 'react'\n\nimport Thumbnail from './Thumbnail'\n\nexport default class FileRow extends React.Component {\n    renderFiles() {\n        return this.props.files.map((file, index) => {\n            return (\n                <Thumbnail \n                    file={file} \n                    key={`thumb_${index}`} \n                    onRemove={() => this.props.onRemove && this.props.onRemove(index)}\n                />\n            )\n        })\n    }\n  \n    render() {\n        return (\n            <div style={{ width: 'calc(100% - 24px)', paddingLeft: '12px' }}>\n                { this.renderFiles() }\n            </div>\n      ) ;\n    }\n}","import React from 'react';\n\nimport { PaperClipOutlined } from '@ant-design/icons'\n\nexport default class ImagesInput extends React.Component {\n    state = {\n        hovered: false,\n        files: []\n    }\n\n    onSelect(event) {\n        let files = []\n        const indexes = [...Array(event.target.files.length).keys()]\n\n        indexes.map((i, index) => {\n            const file = event.target.files[index]\n            if (file) { files.push(file) }\n        })\n        \n        this.props.onSelectFiles &&  this.props.onSelectFiles(files)\n    }\n\n    render() {\n        return (\n            <form\n                className=\"uploader\"\n                encType=\"multipart/form-data\"\n                style={{ height: '0px' }}\n            >\n\n                <label\n                    htmlFor=\"files\"\n                    id='upload-document-button'\n                >\n\n                    <PaperClipOutlined \n                        onMouseEnter={() => this.setState({ hovered: true })}\n                        onMouseLeave={() => this.setState({ hovered: false })}\n                        style={{\n                            ...{ cursor: 'pointer', position: 'absolute', bottom: '20px', right: '63px', fontSize: '18px' },\n                            ...{ color: this.state.hovered ? '#69c0ff' : '#1890ff' }\n                        }}\n                    />\n\n                </label>\n\n                <input\n                    multiple\n                    id=\"files\"\n                    accept=\"image/x-png,image/gif,image/jpeg\"\n                    style={{ visibility: \"hidden\" }}\n                    type=\"file\"\n                    onChange={(e) => this.onSelect(e)} \n                />\n\n            </form>\n        );\n    }\n}\n","import React from 'react';\n\nimport { sendMessage, isTyping } from 'react-chat-engine'\n\nimport FileRow from './FileRow'\nimport ImagesInput from './ImagesInput'\n\nimport { Button } from '../../components/Button'\nimport { TextAreaInput } from '../../components/Input'\n\nexport default class MessageForm extends React.Component {\n    state = {\n      value: '',\n      files: []\n    }\n\n    onRemove(index) {\n      let { files } = this.state \n      files.splice(index, 1)\n      this.setState({ files })\n    }\n  \n    handleChange(event) {\n      this.setState({value: event.target.value});\n\n      isTyping(this.props.creds, this.props.chatId)\n    }\n  \n    handleSubmit(event) {\n      event.preventDefault();\n\n      const { files } = this.state\n      const text = this.state.value.trim()\n\n      if (text.length > 0 || files.length > 0) {\n        sendMessage(\n          this.props.creds, \n          this.props.chatId, \n          { text, files },\n          (data) => {}\n        )\n      }\n\n      this.setState({ value: '', files: [] })\n    }\n  \n    render() {\n      return (\n        <div \n          id='msg-form-container'\n          style={styles.messageFormContainer}\n          className='ce-message-form-container'\n        >\n          <FileRow files={this.state.files} onRemove={(i) => this.onRemove(i)} />\n\n          <ImagesInput onSelectFiles={(files) => this.setState({ files })} />\n\n          <form onSubmit={this.handleSubmit.bind(this)} className='ce-message-form'>\n            <div style={styles.inputContainer} className='ce-message-input-form'>\n              <TextAreaInput\n                value={this.state.value}\n                label='Send a message...'\n                handleChange={this.handleChange.bind(this)}\n                onSubmit={this.handleSubmit.bind(this)}\n              />\n\n              <Button \n                icon='send'\n                type=\"submit\"\n                style={{ position: 'absolute', bottom: '10px', right: '6px' }}\n              />\n            </div>\n          </form>\n        </div>\n      );\n    }\n}\n\nconst styles = {\n  messageFormContainer: { \n    position: 'absolute', \n    bottom: '0px', \n    width: '100%', \n    backgroundColor: 'white',\n  },\n  inputContainer: { \n    minHeight: '36px',\n    paddingTop: '10px',\n    paddingBottom: '6px',\n  },\n}","import React, { Component } from 'react'\n\nimport Title from './TitleSection'\nimport { Loading, AuthFail, Welcome } from './Steps'\n\nimport Message from './Message'\nimport MessageForm from './MessageForm'\n\nimport _ from 'lodash'\n\nimport { animateScroll } from \"react-scroll\"\n\nimport { stringToColor } from '../Utilities/colorMapping'\n\nexport default class ChatFeed extends Component {\n    state = {\n        duration: 0\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            this.setState({ duration: 100 })\n        }, 3000); // Once the chat loads, start animating\n    }\n\n    renderTypers() {\n        const { typingData, activeChat } = this.props\n        const typers = typingData[activeChat] ? typingData[activeChat] : []\n\n        if (this.props.renderIsTyping) {\n            return this.props.renderIsTyping(typers)\n        }\n\n        return typers.map((typer, index) => {\n            return (\n                <div \n                    key={`typer_${index}`} \n                    style={{ color: stringToColor(typer), padding: '2px', paddingLeft: '12px' }}\n                >\n                    {`${typer} is typing...`}\n                </div>\n            )\n        })\n    }\n\n    renderMessages() {\n        const { messages, chats, activeChat } = this.props\n        const chat = chats && chats[activeChat]\n        const keys = Object.keys(messages)\n\n        return keys.map((key, index) => {\n            const message = messages[key]\n            const lastMessageKey = index == 0 ? null : keys[index - 1]\n            const nextMessageKey = index == keys.length - 1 ? null : keys[index + 1]\n\n            if (this.props.renderMessageBubble) {\n                return (\n                    <div key={`message_${index}`}>\n                        { \n                            this.props.renderMessageBubble(\n                                this.props, \n                                chat, \n                                messages[lastMessageKey], \n                                message, \n                                messages[nextMessageKey]\n                            ) \n                        }\n                    </div>\n                )\n            }\n            \n            return (\n                <Message \n                    key={`message_${index}`}\n                    creds={this.props}\n                    chat={chat}\n                    message={message}\n                    lastMessage={messages[lastMessageKey]}\n                    nextMessage={messages[nextMessageKey]}\n                />\n            )\n        })\n    }\n\n    scrollToBottom() {\n        animateScroll.scrollToBottom({\n            duration: this.state.duration,\n            containerId: \"ce-feed-container\"\n        })\n    }\n\n    componentDidUpdate() {\n        // Only scroll if messages loaded\n        // TODO: Make more sophisticated\n        if(!_.isEmpty(this.props.messages)) {\n            this.scrollToBottom()\n        }\n    }\n\n    render() {\n        const { chats, creds, activeChat } = this.props\n        const chat = chats && chats[activeChat] \n\n        if(creds === null) { \n            return <Loading />\n        }\n\n        if(creds === undefined) {\n            return <AuthFail />\n        }\n\n        if(creds && chats !== null && _.isEmpty(chats)) {\n            return <Welcome />\n        }\n\n        return (\n            <div \n                className='ce-chat-feed'\n                style={{ display: 'flex', maxHeight: '100vh', backgroundColor: '#f0f0f0' }}\n            >\n\n                {\n                    this.props.renderChatHeader ? \n                    this.props.renderChatHeader(chat) :\n                    <Title chat={chat} />\n                }\n\n\n                <div\n                    id='ce-feed-container'\n                    style={styles.feedContainer} \n                    className='ce-chat-feed-container'\n                >\n\n                    <div style={{ height: '88px' }} className='ce-feed-container-top' />\n\n                    { this.renderMessages() }\n\n                    { this.renderTypers() }\n\n                    <div style={{ height: '54px' }} className='ce-feed-container-bottom' />\n\n                </div>\n\n                {\n                    this.props.renderNewMessageForm ?\n                    this.props.renderNewMessageForm(this.props, activeChat) :\n                    <MessageForm creds={this.props} chatId={activeChat} />\n                }\n\n            </div>\n        )\n    }\n}\nconst styles = {\n    feedContainer: { \n        position: 'absolute', \n        top: '0px', \n        height: '100%', \n        width: '100%', \n        overflow: 'scroll',\n        overflowX: 'hidden',\n        backgroundColor: 'white'\n    }\n}","import React, { Component } from 'react'\n\nimport { removePerson } from 'react-chat-engine'\n\nimport Avatar from '../../components/Avatar'\nimport { Button } from '../../components/Button'\n\nexport default class Person extends Component {\n    state = {\n        selected: false\n    }\n\n    onRemovePerson() {\n        removePerson(\n            this.props.creds,\n            this.props.chat.id,\n            this.props.person.username\n        )\n    }\n\n    renderPersonText(person) {\n        if (person.first_name !== null) {\n            return `${person.first_name}${person.last_name ? ` ${person.last_name}` : ''}`\n        } else {\n            return person.username\n        }\n    }\n\n    render() {\n        const { person, chat, creds } = this.props\n\n        if (!person || !chat) { return <div /> }\n\n        const { admin } = chat\n\n        return (\n            <div \n                className='ce-person-container'\n                onMouseEnter={() => this.setState({ selected: true })}\n                onMouseLeave={() => this.setState({ selected: false })}\n            >\n                <div \n                    className='ce-person-avatar'\n                    style={{ padding: '2px', height: '0px' }}\n                >\n                    <Avatar person={person} />\n                </div>\n\n                <div\n                    className='ce-person-text'\n                    style={{ paddingLeft: '52px', height: '44px', position: 'relative', top: '10px', fontSize: '15px' }}\n                >\n                    { this.renderPersonText(person) }\n                </div>\n\n                {\n                    this.state.selected && (creds.userName === admin.username) && (person.username !== admin.username) &&\n                    <div\n                        className='ce-delete-chat' \n                        style={{ float: 'right', height: '0px', position: 'relative', bottom: '44px'}}\n                    >\n                        <Button \n                            theme='danger'\n                            icon='delete'\n                            onClick={() => this.onRemovePerson()}\n                        />\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n","import React from 'react';\n\n\nexport default class Option extends React.Component {\n    state = {\n        focused: false\n    }\n\n    render() {\n        return (\n            <div \n                onMouseEnter={() => this.setState({ focused: true })}\n                onMouseLeave={() => this.setState({ focused: false })}\n                onClick={() => this.props.onClick && this.props.onClick()}\n                style={{ ...styles.option, ...{ backgroundColor: this.state.focused ? '#f5f5f5' : 'white'} }}\n            >\n                {this.props.text}\n            </div>\n        );\n    }\n}\n\nconst styles = {\n  option: {\n    borderRadius: '24px',\n    padding: '8px 16px',\n    cursor: 'pointer',\n    fontSize: '15px'\n  },\n}","import React from 'react';\n\nimport { addPerson, getOtherPeople } from 'react-chat-engine'\n\nimport { AutoCompleteInput } from '../../../components/Input'\n\nimport Option from './Option'\n\nexport default class PersonForm extends React.Component {\n  state = {\n    value: '',\n    others: []\n  }\n\n  handleChange(value) {\n    this.setState({ value });\n  }\n\n  addPerson(name) {\n    addPerson(\n      this.props.creds,\n      this.props.chat.id,\n      name,\n      () => { \n        this.setState({ value: '' }); \n        this.getOthers(); \n      }\n    )\n  }\n\n  onGetOthers(others) {\n    const usernames = []\n    others.map(other => {\n      usernames.push(other.username)\n    })\n    this.setState({ others: usernames })\n  }\n\n  getOthers() {\n    getOtherPeople(\n      this.props.creds,\n      this.props.chat.id,\n      (id, others) => this.onGetOthers(others),\n      () => {},\n    )\n  }\n\n  renderOption(option) {\n    return <Option text={option} onClick={() => this.addPerson(option)} />\n  }\n\n  render() {\n    return (\n      <div style={{ marginBottom: '12px' }}>\n\n        <AutoCompleteInput \n          style={{ width: '100%' }}\n          label='Type a username'\n          value={this.state.value}\n          options={this.state.others}\n          onFocus={() => this.getOthers()}\n          handleChange={(value) => this.handleChange(value)} \n          renderOption={(option) => this.renderOption(option)}\n        />\n        \n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport Person from './Person'\nimport PersonForm from './PersonForm'\n\nimport { LeftOutlined, DownOutlined } from '@ant-design/icons'\n\nexport default class PeopleList extends React.Component {\n    state = {\n        collapsed: false,\n        hovered: false\n    }\n\n    renderChatPeople(people) {\n        return people.map((chatPerson, index) => {\n            return (\n                <Person \n                    key={`person_${index}`} \n                    person={chatPerson.person}\n                    creds={this.props.creds} \n                    chat={this.props.chat} \n                />\n            )\n        })\n    }\n  \n    render() {\n        const { creds, chat } = this.props \n\n        if (!chat) { return <div /> }\n\n        return (\n            <div style={{ borderTop: '1px solid #f0f0f0' }}>\n                <div \n                    onMouseEnter={() => this.setState({ hovered: true })}\n                    onMouseLeave={() => this.setState({ hovered: false })}\n                    onClick={() => this.setState({ collapsed: !this.state.collapsed })}\n                    style={this.state.hovered ? { backgroundColor: '#f0f0f0', cursor: 'pointer' } : {}}\n                    className='ce-section-title-container ce-person-title-container'\n                >\n                    <div\n                        className='ce-section-title ce-people-title'\n                        style={{ fontSize: '17px', padding: '12px', fontWeight: '600' }}>\n                        People\n                    </div>\n\n                    {\n                        this.state.collapsed ?\n                        <LeftOutlined style={styles.collapseIcon} /> :\n                        <DownOutlined style={styles.collapseIcon} />\n                    }\n                </div>\n\n                {\n                    !this.state.collapsed &&\n                    <div>\n                        <div style={{ height: '12px' }} />\n\n                        { this.renderChatPeople(chat.people) }\n\n                        <div style={{ height: '12px' }} />\n\n                        {\n                            creds && chat && creds.userName === chat.admin.username &&\n                            <PersonForm creds={creds} chat={chat} />\n                        }\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    collapseIcon: {\n        float: 'right',\n        position: 'relative',\n        bottom: '30px',\n        right: '12px'\n    }\n}","import React from 'react'\n\nexport default class Thumbnail extends React.Component {\n    render() {\n        const { attachment } = this.props \n\n        if (!attachment) { return <div /> }\n\n        return (\n            <div style={styles.container} className='ce-photo-thumbnail'>\n                \n                <div style={{ paddingTop: '100%' }} />\n                \n                <img\n                    alt={attachment.id}\n                    style={styles.image}\n                    src={attachment.file}\n                    className='ce-photo-img'\n                    id={`image-${attachment.id}`}\n                />\n                \n            </div>\n        )\n    }\n}\n\nconst styles = {\n    container: { \n        position: 'relative', \n        width: 'calc(33% - 2px)', \n        border: '1px solid white', \n        display: 'inline-block',\n        cursor: 'pointer'\n    },\n    image: {\n        top: '0px', \n        width: '100%', \n        height: '100%',\n        position: 'absolute',\n        objectFit: 'cover'\n    }\n}","import React from 'react'\n\nimport Thumbnail from './Thumbnail'\n\nimport { LeftOutlined, DownOutlined } from '@ant-design/icons'\n\nexport default class Photos extends React.Component {\n    state = {\n        collapsed: true,\n        hovered: false\n    }\n\n    renderPhotos(attachments) {\n        return attachments.map((attachment, index) => {\n            return <Thumbnail key={`person_${index}`} attachment={attachment} />\n        })\n    }\n  \n    render() {\n        const { chat } = this.props \n\n        if (!chat) { return <div /> }\n\n        return (\n            <div style={{ borderTop: '1px solid #f0f0f0' }} className='ce-photo-section'>\n                <div \n                    onMouseEnter={() => this.setState({ hovered: true })}\n                    onMouseLeave={() => this.setState({ hovered: false })}\n                    onClick={() => this.setState({ collapsed: !this.state.collapsed })}\n                    style={this.state.hovered ? { backgroundColor: '#f0f0f0', cursor: 'pointer' } : {}}\n                    className='ce-section-title-container ce-photo-title-container'\n                >\n                    <div \n                        className='ce-section-title ce-photo-title'\n                        style={{ fontSize: '17px', padding: '12px', fontWeight: '600' }}\n                    >\n                        Photos\n                    </div>\n\n                    {\n                        this.state.collapsed ?\n                        <LeftOutlined style={styles.collapseIcon} /> :\n                        <DownOutlined style={styles.collapseIcon} />\n                    }\n                </div>\n\n                {\n                    !this.state.collapsed &&\n                    <div className='ce-photo-feed'>\n                        <div style={{ height: '12px' }} />\n\n                        { this.renderPhotos(chat.attachments) }\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    collapseIcon: {\n        float: 'right',\n        position: 'relative',\n        bottom: '30px',\n        right: '12px'\n    }\n}\n","import React from 'react'\n\nimport { Button } from '../../components/Button'\n\nimport { deleteChat } from 'react-chat-engine'\n\nimport { LeftOutlined, DownOutlined } from '@ant-design/icons'\n\nexport default class Options extends React.Component {\n    state = {\n        collapsed: true,\n        hovered: false\n    }\n  \n    render() {\n        const { chat, creds } = this.props \n\n        if (!chat) { return <div /> }\n\n        return (\n            <div style={{ borderTop: '1px solid #f0f0f0' }}>\n\n                <div \n                    onMouseEnter={() => this.setState({ hovered: true })}\n                    onMouseLeave={() => this.setState({ hovered: false })}\n                    onClick={() => this.setState({ collapsed: !this.state.collapsed })}\n                    style={this.state.hovered ? { backgroundColor: '#f0f0f0', cursor: 'pointer' } : {}}\n                >\n\n                    <div style={{ fontSize: '17px', padding: '12px', fontWeight: '600' }}>\n                        Options\n                    </div>\n\n                    {\n                        this.state.collapsed ?\n                        <LeftOutlined style={styles.collapseIcon} /> :\n                        <DownOutlined style={styles.collapseIcon} />\n                    }\n\n                </div>\n                \n                {\n                    !this.state.collapsed &&\n                    <div>\n\n                        <div style={{ height: '12px' }} />\n\n                        <Button \n                            value=\"Delete\" \n                            theme='danger'\n                            icon='delete'\n                            onClick={() => deleteChat(creds, chat.id, (data) => {})}\n                            style={{ width: '100%', marginBottom: '12px' }}\n                        />\n\n                    </div>\n                }\n            \n            </div>\n        )\n    }\n}\n\nconst styles = {\n    collapseIcon: {\n        float: 'right',\n        position: 'relative',\n        bottom: '30px',\n        right: '12px'\n    }\n}\n","import React from 'react';\n\nimport { editChat } from 'react-chat-engine'\n\nimport { TextInput } from '../../components/Input'\n\nexport default class MessageForm extends React.Component {\n    state = {\n        activeChat: null,\n        value: ''\n    }\n  \n    handleChange(event) {\n      this.setState({value: event.target.value});\n    }\n  \n    handleSubmit(event) {\n        event.preventDefault();\n\n        editChat(\n            this.props.creds, \n            this.props.chat.id,\n            { title: this.state.value },\n            (data) => {}\n        )\n    }\n\n    // Update on new active chat. TODO: Find more eloquent way perhaps\n    componentDidUpdate() {\n        if(this.props.chat.title !== this.state.value && this.state.activeChat !== this.props.chat.id) {\n            this.setState({ \n                value: this.props.chat.title,\n                activeChat: this.props.chat.id\n            })\n        }\n    }\n  \n    render() {\n        return (\n            <form onSubmit={this.handleSubmit.bind(this)} className='ce-chat-title-form'>\n\n                <TextInput \n                    label=\"Rename this Chat\" \n                    value={this.state.value} \n                    default={this.props.chat.title}\n                    handleChange={this.handleChange.bind(this)} \n                    style={{ \n                        fontSize: '16px',\n                        fontWeight: '600',\n                        textAlign: 'center',\n                        border: '0px solid white',\n                        width: '100%',\n                    }}\n                />\n\n            </form>\n        );\n    }\n}","import React, { Component } from 'react'\n\nimport { Row, Col } from 'react-grid-system'\n\nimport Avatar from '../components/Avatar'\n\nimport TitleForm from './TitleForm'\n\nexport default class ChatSettings extends Component {\n\n    renderOnePerson(people) {\n        return (\n            <Col xs={6} style={{ paddingTop: '22px', height: '80px' }}>\n                <div style={{ margin: 'auto', width: '33%' }}>\n                    <Avatar show_online={false} person={people[0].person} />\n                </div>\n            </Col>\n        )\n    }\n\n    renderTwoPeople(people) {\n        return (\n            <Col xs={6} style={{ paddingTop: '22px', height: '80px' }}>\n                <div style={{ margin: 'auto', width: '50%' }}>\n                    <Avatar \n                        show_online={false}\n                        person={people[0].person} \n                        style={{ float: 'left', position: 'relative', right: '5px' }}\n                    />\n                    <Avatar \n                        show_online={false}\n                        person={people[1].person} \n                        style={{ float: 'right', position: 'relative', left: '5px', bottom: '44px', zIndex: 11 }}\n                    />\n                </div>\n            </Col>\n        )\n    }\n\n    renderThreePeople(people) {\n        return (\n            <Col xs={6} style={{ paddingTop: '22px', height: '80px' }}>\n                <div style={{ margin: 'auto', width: '50%' }}>\n                    <Avatar \n                        show_online={false}\n                        person={people[0].person} \n                        style={{ float: 'right', position: 'relative', right: '28px', top: '10px', zIndex: 11 }}\n                    />\n                    <Avatar \n                        show_online={false}\n                        person={people[1].person} \n                        style={{ float: 'right', position: 'relative', right: '14px', bottom: '56px', zIndex: 11 }}\n                    />\n                    <Avatar \n                        show_online={false}\n                        person={people[2].person} \n                        style={{ float: 'right', position: 'relative', left: '5px', bottom: '78px', zIndex: 11 }}\n                    />\n                </div>\n            </Col>\n        )\n    }\n\n    render() {\n        const { chat, creds } = this.props\n        const topPeople = chat ? chat.people.slice(0, 3) : []\n        \n        return (\n            <div className='ce-chat-settings-container'>\n                <Row className='ce-chat-avatars-row'>\n                    <Col xs={3} />\n\n                    { topPeople.length == 1 && this.renderOnePerson(topPeople) }\n                    { topPeople.length == 2 && this.renderTwoPeople(topPeople) }\n                    { topPeople.length == 3 && this.renderThreePeople(topPeople) }\n\n                    <Col xs={3} />\n                </Row>\n\n                <TitleForm chat={chat} creds={creds} />\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\n\nimport People from './People'\nimport Photos from './Photos'\nimport Options from './Options'\nimport ChatSettings from './ChatSettings'\n\nexport default class ChatSettingsContainer extends Component {\n\n    render() {\n        const { chats, activeChat } = this.props\n        const chat = chats && chats[activeChat] \n        \n        if (!chat) return <div style={styles.filler} />\n        \n        return (\n            <div style={styles.settingsContainer} className='ce-settings'>\n\n                <div style={{ width: '90%', paddingLeft: '5%' }} className='ce-settings-container'>\n\n                    {\n                        this.props.renderChatSettingsTop ?\n                        this.props.renderChatSettingsTop(this.props, chat) :\n                        <ChatSettings creds={this.props} chat={chat} />\n                    }\n\n                    {\n                        this.props.renderPeopleSettings ?\n                        this.props.renderPeopleSettings(this.props, chat) :\n                        <People creds={this.props} chat={chat} />\n                    }\n\n                    {\n                        this.props.renderPhotosSettings ?\n                        this.props.renderPhotosSettings(chat) :\n                        <Photos chat={chat} />\n                    }\n\n                    {\n                        this.props && chat && this.props.userName === chat.admin.username  &&\n                        <div>\n                            {\n                                this.props.renderOptionsSettings ?\n                                this.props.renderOptionsSettings(this.props, chat) :\n                                <Options creds={this.props} chat={chat} />\n                            }\n                        </div>\n                    }\n\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    settingsContainer: { \n        height: '100%',\n        overflow: 'scroll',\n        overflowX: 'hidden',\n        borderLeft: '1px solid #afafaf',\n        backgroundColor: 'white'\n    },\n    filler: { \n        display: 'flex',\n        width: '90%',\n        paddingLeft: '5%',\n        borderLeft: '1px solid #afafaf'\n    }\n}","import React, { Component } from 'react'\n\nimport _ from 'lodash'\n\nimport { getChats } from '../../actions/chats'\nimport { getMessages, readMessage } from '../../actions/messages'\n\nimport Socket from '../Socket'\n\nimport ChatList from './ChatList'\nimport ChatFeed from './ChatFeed'\nimport ChatSettings from './ChatSettings'\n\nimport { Row, Col } from 'react-grid-system'\n\nimport { setConfiguration } from 'react-grid-system';\n \nsetConfiguration({ maxScreenClass: 'xl', gutterWidth: 0 });\n\nexport default class App extends Component {\n  state = {\n    creds: null, // TODO: Remove after fixing fail auth\n    chats: null,\n    messages: {},\n    activeChat: null,\n    typingCounter: {},\n    typingData: {},\n  }\n\n  onConnect(creds) {\n    this.setState({ creds })\n    getChats(creds, () => {})\n\n    this.props.onConnect && this.props.onConnect(creds)\n  }\n\n  onFailAuth(creds) {\n    this.setState({ creds: undefined })\n\n    this.props.onFailAuth && this.props.onFailAuth(creds)\n  }\n\n  setActiveChat(chatId) {\n    this.setState({ activeChat: chatId })\n    getMessages(this.state.creds, chatId, () => {})\n  }\n\n  onGetChats(chats) {\n    if (chats.length > 0) { this.setActiveChat(chats[0].id) }\n    this.setState({ chats: _.mapKeys(chats, 'id') })\n\n    this.props.onGetChats && this.props.onGetChats(chats)\n  }\n\n  onNewChat(chat) {\n    const { chats } = this.state\n\n    if (chats) {\n      chats[chat.id] = chat\n      this.setState({ chats })\n      this.setActiveChat(chat.id)\n    }\n\n    this.props.onNewChat && this.props.onNewChat(chat)\n  }\n\n  onEditChat(chat) {\n    const { chats } = this.state\n    \n    if (chats) {\n      chats[chat.id] = chat\n      this.setState({ chats })\n    }\n\n    this.props.onEditChat && this.props.onEditChat(chat)\n  }\n\n  onDeleteChat(chat) {\n    const { chats } = this.state\n\n    if (chats) {\n      chats[chat.id] = undefined\n      this.setState({ chats })\n      if (!_.isEmpty(chats)) {\n        this.setActiveChat(parseInt(Object.keys(chats)[0]))\n      }\n    }\n\n    this.props.onDeleteChat && this.props.onDeleteChat(chat)\n  }\n\n  onGetMessages(chatId, messages) {\n    this.setState({ messages: _.mapKeys(messages, 'id') })\n\n    if (messages.length > 0) {\n      const messageId = messages[messages.length - 1].id\n      readMessage(this.state.creds, this.state.activeChat, messageId, () => {})\n    }\n    \n    this.props.onGetMessages && this.props.onGetMessages(chatId, messages)\n  }\n\n  onNewMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      const { messages } = this.state\n      messages[message.id] = message\n      this.setState({ messages })\n    }\n\n    readMessage(this.state.creds, this.state.activeChat, message.id)\n\n    this.props.onNewMessage && this.props.onNewMessage(chatId, message)\n  }\n\n  onEditMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      const { messages } = this.state\n      messages[message.id] = message\n      this.setState({ messages })\n    }\n\n    this.props.onEditMessage && this.props.onEditMessage(chatId, message)\n  }\n\n  onDeleteMessage(chatId, message) {\n    if (chatId === this.state.activeChat) {\n      const { messages } = this.state\n      messages[message.id] = undefined\n      this.setState({ messages })\n    }\n\n    this.props.onDeleteMessage && this.props.onDeleteMessage(chatId, message)\n  }\n\n  onTyping(chatId, person) {\n    if (this.state.typingCounter[chatId] && this.state.typingCounter[chatId][person]) {\n      this.setState({\n        ...this.state,\n        typingCounter: {\n          ...this.state.typingCounter,\n          [chatId]: {\n            ...this.state.typingCounter[chatId],\n            [person]: this.state.typingCounter[chatId][person] + 1\n          }\n        }\n      })\n\n    } else {\n      this.setState({\n        ...this.state,\n        typingCounter: {\n          ...this.state.typingCounter,\n          [chatId]: {\n            ...this.state.typingCounter[chatId],\n            [person]: 1\n          }\n        }\n      })\n    }\n\n    this.props.onTyping && this.props.onTyping(chatId, person)\n\n    setTimeout(() => {\n      this.setState({\n        ...this.state,\n        typingCounter: {\n          ...this.state.typingCounter,\n          [chatId]: {\n            ...this.state.typingCounter[chatId],\n            [person]: this.state.typingCounter[chatId][person] - 1\n          }\n        }\n      })\n    }, 1250);\n  }\n\n  componentDidUpdate() {\n    const { typingCounter, typingData } = this.state\n\n    Object.keys(typingCounter).map((chat) => {\n      let typers = []\n\n      Object.keys(typingCounter[chat]).map((person) => {\n        if (typingCounter[chat][person] > 0) {\n          typers.push(person)\n        }\n      })\n\n      if (!typingData[chat] || typingData[chat].length !== typers.length) {\n        this.setState({ ...this.state, typingData: { ...this.state.typingData, [chat]: typers } })\n      }\n    })\n  }\n\n  render() {\n    const { height } = this.props\n\n    return (\n      <div style={{ textAlign: 'left', backgroundColor: 'white' }}>\n\n        <Socket\n          {...this.props}\n          // API Hooks\n          onConnect={(props) => this.onConnect(props)}\n          onFailAuth={(props) => this.onFailAuth(props)}\n          onGetChats={(chats) => this.onGetChats(chats)}\n          onNewChat={(chat) => this.onNewChat(chat)}\n          onEditChat={(chat) => this.onEditChat(chat)}\n          onDeleteChat={(chat) => this.onDeleteChat(chat)}\n          onAddPerson={(chat) => this.onEditChat(chat)}\n          onRemovePerson={(chat) => this.onEditChat(chat)}\n          onTyping={(chatId, person) => this.onTyping(chatId, person)}\n          onGetMessages={(chatId, messages) => this.onGetMessages(chatId, messages)}\n          onNewMessage={(chatId, message) => this.onNewMessage(chatId, message)}\n          onEditMessage={(chatId, message) => this.onEditMessage(chatId, message)}\n          onDeleteMessage={(chatId, message) => this.onDeleteMessage(chatId, message)}\n        />\n\n        <Row>\n\n          <Col xs={0} sm={3} style={{ height: height ? height : '' }}>\n            \n            {\n              this.props.renderChatList ?\n              this.props.renderChatList({...this.props, ...this.state}) :\n              <ChatList {...this.props} {...this.state}\n                onChatClick={(chatId) => this.setActiveChat(chatId)}\n              />\n            }\n\n          </Col>\n\n          <Col xs={12} sm={6} style={{ height: height ? height : '' }}>\n\n            {\n              this.props.renderChatFeed ?\n              this.props.renderChatFeed({...this.props, ...this.state}) :\n              <ChatFeed {...this.props} {...this.state} />\n            }\n\n          </Col>\n\n          <Col xs={0} sm={3} style={{ height: height ? height : '' }}>\n\n            {\n              this.props.renderChatSettings ?\n              this.props.renderChatSettings({...this.props, ...this.state}) :\n              <ChatSettings {...this.props} {...this.state} />\n            }\n\n          </Col>\n\n        </Row>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nimport Socket from './Socket'\nimport ChatUi from './ChatUi'\n\nconst SocketConnector = (props) => {\n    if (props.hideUI) {\n        return <Socket {...props} />\n    } else {\n        return <ChatUi {...props} />\n    }\n    \n}\n\nexport default SocketConnector\n","import axios from 'axios'\nimport * as str from '..'\n\nexport function isTyping(props, chatId, callback) {\n    axios.post(\n        `${str.getApiUrl(props)}/chats/${chatId}/typing/`,\n        {},\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {});\n}","import axios from 'axios'\nimport * as str from '..'\n\nexport function addPerson(props, chatId, userName, callback) {\n    axios.post(\n        `${str.getApiUrl(props)}/chats/${chatId}/people/`,\n        { username: userName },\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('New Person Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '..'\n\nexport function removePerson(props, chatId, userName, callback) {\n    axios.put(\n        `${str.getApiUrl(props)}/chats/${chatId}/people/`,\n        { username: userName },\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Delete Person Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '../../actions'\n\nexport function getOtherPeople(props, chatId, successCallback, errorCallback) {\n    axios.get(\n        `${str.getApiUrl(props)}/chats/${chatId}/others/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        // Run hook in Axios on GET requests\n        props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data)\n\n        successCallback && successCallback(chatId, response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Fetch Other People Error', error)\n\n        errorCallback && errorCallback()\n    });\n}","import axios from 'axios'\nimport * as str from '..'\n\nexport function getMyData(props, callback) {\n    axios.get(\n        `${str.getApiUrl(props)}/chats/me/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Get Myself Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '..'\n\nexport function editMyData(props, data, callback) {\n    axios.patch(\n        `${str.getApiUrl(props)}/chats/me/`,\n        data,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Edit Myself Error', error)\n    });\n}","import axios from 'axios'\nimport * as str from '..'\n\nexport function leaveChat(props, chatId, callback) {\n    axios.delete(\n        `${str.getApiUrl(props)}/chats/${chatId}/people/`,\n        { headers: { \n            \"Public-Key\": props.publicKey ? props.publicKey : props.projectID,\n            \"User-Name\": props.userName,\n            \"User-Secret\": props.userPassword ? props.userPassword : props.userSecret,\n        }}\n    )\n\n    .then((response) => {\n        callback && callback(response.data)\n    })\n    \n    .catch((error) => {\n        console.log('Delete Person Error', error)\n    });\n}","import React from 'react'\n\nimport SocketConnector from './components'\n\nimport { isTyping } from './actions/typing'\nimport { getChats, newChat, editChat, deleteChat } from './actions/chats'\nimport { addPerson, removePerson, getOtherPeople, getMyData, editMyData, leaveChat } from './actions/people'\nimport { getMessages, sendMessage, editMessage, deleteMessage } from './actions/messages'\n\nconst ChatEngine = (props) => {\n  return <SocketConnector {...props} />\n}\n\nexport {\n  ChatEngine,\n  \n  getChats,\n  newChat,\n  editChat,\n  deleteChat,\n\n  addPerson,\n  removePerson,\n  getOtherPeople,\n  getMyData,\n  editMyData,\n  leaveChat,\n\n  getMessages,\n  sendMessage,\n  editMessage,\n  deleteMessage,\n\n  isTyping,\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IAIqBA,MAAA,0BAAAC,UAAA;;;;;;SACjBC,WAAA,YAAAA,YAAYC,KAAZ,EAAmB;IAAA,IACPC,KADO,GACG,IADH,CACPA,KADO;IAEf,IAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAlB;IAEA,IAAIE,SAAS,CAACG,MAAV,KAAqB,aAAzB,EAAwC;MACpCC,OAAO,CAACC,GAAR,+EAEkBN,KAAK,CAACO,SAFxB,uCAGgBP,KAAK,CAACQ,QAHtB,0CAImBR,KAAK,CAACS,UAJzB;IASH,CAVD,MAUO,IAAIR,SAAS,CAACG,MAAV,KAAqB,WAAzB,EAAsC;MACzCJ,KAAK,CAACU,QAAN,IAAkBV,KAAK,CAACU,QAAN,CAAeT,SAAS,CAACU,IAAV,CAAeC,EAA9B,EAAkCX,SAAS,CAACU,IAAV,CAAeE,MAAjD,CAAlB;IAEH,CAHM,MAGA,IAAIZ,SAAS,CAACG,MAAV,KAAqB,UAAzB,EAAqC;MACxCJ,KAAK,CAACc,SAAN,IAAmBd,KAAK,CAACc,SAAN,CAAgBb,SAAS,CAACU,IAA1B,CAAnB;IAEH,CAHM,MAGA,IAAIV,SAAS,CAACG,MAAV,KAAqB,WAAzB,EAAsC;MACzCJ,KAAK,CAACe,UAAN,IAAoBf,KAAK,CAACe,UAAN,CAAiBd,SAAS,CAACU,IAA3B,CAApB;IAEH,CAHM,MAGA,IAAIV,SAAS,CAACG,MAAV,KAAqB,aAAzB,EAAwC;MAC3CJ,KAAK,CAACgB,YAAN,IAAsBhB,KAAK,CAACgB,YAAN,CAAmBf,SAAS,CAACU,IAA7B,CAAtB;IAEH,CAHM,MAGA,IAAIV,SAAS,CAACG,MAAV,KAAqB,YAAzB,EAAuC;MAC1CJ,KAAK,CAACiB,WAAN,IAAqBjB,KAAK,CAACiB,WAAN,CAAkBhB,SAAS,CAACU,IAA5B,CAArB;IAEH,CAHM,MAGA,IAAIV,SAAS,CAACG,MAAV,KAAqB,eAAzB,EAA0C;MAC7CJ,KAAK,CAACkB,cAAN,IAAwBlB,KAAK,CAACkB,cAAN,CAAqBjB,SAAS,CAACU,IAA/B,CAAxB;IAEH,CAHM,MAGA,IAAIV,SAAS,CAACG,MAAV,KAAqB,aAAzB,EAAwC;MAC3CJ,KAAK,CAACmB,YAAN,IAAsBnB,KAAK,CAACmB,YAAN,CAAmBlB,SAAS,CAACU,IAAV,CAAeC,EAAlC,EAAsCX,SAAS,CAACU,IAAV,CAAeS,OAArD,CAAtB;IAEH,CAHM,MAGA,IAAInB,SAAS,CAACG,MAAV,KAAqB,cAAzB,EAAyC;MAC5CJ,KAAK,CAACqB,aAAN,IAAuBrB,KAAK,CAACqB,aAAN,CAAoBpB,SAAS,CAACU,IAAV,CAAeC,EAAnC,EAAuCX,SAAS,CAACU,IAAV,CAAeS,OAAtD,CAAvB;IAEH,CAHM,MAGA,IAAInB,SAAS,CAACG,MAAV,KAAqB,gBAAzB,EAA2C;MAC9CJ,KAAK,CAACsB,eAAN,IAAyBtB,KAAK,CAACsB,eAAN,CAAsBrB,SAAS,CAACU,IAAV,CAAeC,EAArC,EAAyCX,SAAS,CAACU,IAAV,CAAeS,OAAxD,CAAzB;IAEH;EACJ;SAEDG,OAAA,YAAAA,QAAA,EAAU;IACN,KAAKvB,KAAL,CAAWwB,UAAX,IAAyB,KAAKxB,KAAL,CAAWwB,UAAX,CAAsB,KAAKxB,KAA3B,CAAzB;EACH;SAEDyB,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAC,KAAA;IAAA,IAAAC,WAAA,GAMD,KAAK3B,KANJ;MAED4B,SAFC,GAAAD,WAAA,CAEDC,SAFC;MAEUrB,SAFV,GAAAoB,WAAA,CAEUpB,SAFV;MAGDC,QAHC,GAAAmB,WAAA,CAGDnB,QAHC;MAIDqB,YAJC,GAAAF,WAAA,CAIDE,YAJC;MAIapB,UAJb,GAAAkB,WAAA,CAIalB,UAJb;MAKDqB,WALC,GAAAH,WAAA,CAKDG,WALC;IAQL,IAAMC,OAAO,GAAGD,WAAW,GAAG,OAAH,GAAa,QAAxC;IACA,IAAME,QAAQ,GAAGF,WAAW,GAAG,gBAAH,GAAsB,mBAAlD;IAEA,IAAMG,OAAO,GAAGL,SAAS,GAAGA,SAAH,GAAerB,SAAxC;IACA,IAAM2B,MAAM,GAAGL,YAAY,GAAGA,YAAH,GAAkBpB,UAA7C;IAEA,oBAAO0B,KAAA,CAAAC,aAAA,CAACC,SAAD;MACHC,GAAG,OAAKP,OAAL,GAAeC,QAAf,2BAA6CC,OAA7C,kBAAiEzB,QAAjE,gBAAoF0B,MADpF;MAEHK,MAAM,EAAE,SAAAA,OAAA;QAAA,OAAMb,KAAI,CAAC1B,KAAL,CAAWwC,SAAX,IAAwBd,KAAI,CAAC1B,KAAL,CAAWwC,SAAX,CAAqBd,KAAI,CAAC1B,KAA1B,CAA9B;MAAA,CAFL;MAGHuB,OAAO,EAAE,KAAKA,OAAL,CAAakB,IAAb,CAAkB,IAAlB,CAHN;MAIHC,SAAS,EAAE,KAAK5C,WAAL,CAAiB2C,IAAjB,CAAsB,IAAtB;IAJR,EAAP;EAMH;;EArE+BE,SAAA;ACJ7B,SAASC,SAATA,CAAmB5C,KAAnB,EAA0B;EAC7B,IAAIA,KAAK,IAAIA,KAAK,CAAC8B,WAAnB,EAAgC;IAC5B,OAAO,uBAAP;EACH;EACD,OAAO,2BAAP;AACH;ACFM,SAASe,QAATA,CAAkB7C,KAAlB,EAAyB8C,QAAzB,EAAmC;EACtCC,KAAK,CAACC,GAAN,CACOJ,SAAA,CAAc5C,KAAd,CADP,cAEI;IAAEiD,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAEhBnD,KAAK,CAACoD,UAAN,IAAoBpD,KAAK,CAACoD,UAAN,CAAiBD,QAAQ,CAACxC,IAA1B,CAApB;IAEAmC,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAdD,WAgBO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC+C,KAAjC;EACH,CAlBD;AAmBH;ACpBM,SAASC,OAATA,CAAiBtD,KAAjB,EAAwBW,IAAxB,EAA8BmC,QAA9B,EAAwC;EAC3CC,KAAK,CAACQ,IAAN,CACOX,SAAA,CAAc5C,KAAd,CADP,cAEIW,IAFJ,EAGI;IAAEsC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B+C,KAA9B;EACH,CAhBD;AAiBH;AClBM,SAASG,QAATA,CAAkBxD,KAAlB,EAAyByD,MAAzB,EAAiC9C,IAAjC,EAAuCmC,QAAvC,EAAiD;EACpDC,KAAK,CAACW,KAAN,CACOd,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,QAEI9C,IAFJ,EAGI;IAAEsC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B+C,KAA/B;EACH,CAhBD;AAiBH;AClBM,SAASM,UAATA,CAAoB3D,KAApB,EAA2ByD,MAA3B,EAAmCX,QAAnC,EAA6C;EAChDC,KAAK,UAAL,CACOH,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,QAEI;IAAER,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAXD,WAaO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC+C,KAAjC;EACH,CAfD;AAgBH;ACjBM,SAASO,WAATA,CAAqB5D,KAArB,EAA4ByD,MAA5B,EAAoCX,QAApC,EAA8C;EACjDC,KAAK,CAACC,GAAN,CACOJ,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,iBAEI;IAAER,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAEhBnD,KAAK,CAAC6D,aAAN,IAAuB7D,KAAK,CAAC6D,aAAN,CAAoBJ,MAApB,EAA4BN,QAAQ,CAACxC,IAArC,CAAvB;IAEAmC,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAdD,WAgBO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC+C,KAApC;EACH,CAlBD;AAmBH;ACpBM,SAASS,WAATA,CAAqB9D,KAArB,EAA4ByD,MAA5B,EAAoC9C,IAApC,EAA0CmC,QAA1C,EAAoD;EACvD,IAAIiB,QAAQ,GAAG,IAAIC,QAAJ,EAAf;EACA,IAAGrD,IAAI,CAACsD,KAAR,EAAe;IACX,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvD,IAAI,CAACsD,KAAL,CAAWE,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;MACxCH,QAAQ,CAACK,MAAT,CAAgB,aAAhB,EAA+BzD,IAAI,CAACsD,KAAL,CAAWC,CAAX,CAA/B,EAA8CvD,IAAI,CAACsD,KAAL,CAAWC,CAAX,EAAcG,IAA5D;IACH;EACJ;EACDN,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwBzD,IAAI,CAAC2D,IAA7B;EAEAvB,KAAK,CAACQ,IAAN,CACOX,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,iBAEIM,QAFJ,EAGI;IAAEd,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+C,KAAnC;EACH,CAhBD;AAkBH;AC3BM,SAASkB,WAATA,CAAqBvE,KAArB,EAA4ByD,MAA5B,EAAoCe,SAApC,EAA+C7D,IAA/C,EAAqDmC,QAArD,EAA+D;EAClEC,KAAK,CAACW,KAAN,CACOd,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,kBACwDe,SADxD,QAEI7D,IAFJ,EAGI;IAAEsC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqC+C,KAArC;EACH,CAhBD;AAiBH;AClBM,SAASoB,WAATA,CAAqBzE,KAArB,EAA4ByD,MAA5B,EAAoCe,SAApC,EAA+C1B,QAA/C,EAAyD;EAC5DC,KAAK,CAACW,KAAN,CACOd,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI;IAAEiB,SAAS,EAAEF;EAAb,CAFJ,EAGI;IAAEvB,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+C,KAAnC;EACH,CAhBD;AAiBH;AClBM,SAASsB,aAATA,CAAuB3E,KAAvB,EAA8ByD,MAA9B,EAAsCe,SAAtC,EAAiD1B,QAAjD,EAA2D;EAC9DC,KAAK,UAAL,CACOH,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,kBACwDe,SADxD,QAEI;IAAEvB,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAXD,WAaO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqC+C,KAArC;EACH,CAfD;AAgBH;ACpBM,SAASuB,aAATA,CAAuBC,IAAvB,EAA6B;EAChC,IAAMC,IAAI,GAAGC,IAAI,CAACF,IAAD,CAAjB;EACA,IAAMG,GAAG,GAAGF,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAe,EAAf,CAAZ;EACA,IAAMC,IAAI,GAAGJ,IAAI,CAACG,MAAL,CAAY,EAAZ,EAAgB,CAAhB,CAAb;EACA,OAAUD,GAAV,YAAoBE,IAApB;AACH;AAED,SAAgBC,YAATA,CAAsBN,IAAtB,EAA4B;EAC/B,IAAMC,IAAI,GAAGC,IAAI,CAACF,IAAD,CAAjB;EACA,OAAOC,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAP;AACH;;ICNoBG,MAAA,0BAAAvF,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJC,OAAO,EAAE;IADL;;;;SAIR7D,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IAAA5D,WAAA,GACiC,KAAK3B,KADtC;MACGwF,KADH,GAAA7D,WAAA,CACG6D,KADH;MACUC,IADV,GAAA9D,WAAA,CACU8D,IADV;MACgBC,KADhB,GAAA/D,WAAA,CACgB+D,KADhB;MACuBC,KADvB,GAAAhE,WAAA,CACuBgE,KADvB;IAGL,IAAMC,WAAW,GAAGD,KAAK,GAAGA,KAAH,GAAW,EAApC;IACA,IAAME,UAAU,GAAG,KAAKR,KAAL,CAAWC,OAAX,GAAqBQ,MAAM,CAACC,WAA5B,GAA0C,EAA7D;IACA,IAAMC,UAAU,GAAGN,KAAK,IAAI,QAAT,GAAoBI,MAAM,CAACG,YAA3B,GAA0CH,MAAM,CAACI,MAApE;IAEA,oBACI/D,KAAA,CAAAC,aAAA;MACI+D,IAAI,EAAE,KAAKnG,KAAL,CAAWmG,IADrB;MAEIC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACvF,KAAL,CAAWoG,OAAX,IAAsBb,MAAI,CAACvF,KAAL,CAAWoG,OAAX,EAA5B;MAAA,CAFb;MAGIC,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAHlB;MAIIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAJlB;MAKIK,KAAK,EAAAa,QAAA,KAAOR,UAAP,EAAsBJ,WAAtB,EAAsCC,UAAtC,CALT;MAMIY,SAAS,0BAAuBf,KAAK,IAAI,QAAT,GAAoB,kBAApB,GAAyC,EAAhE;IANb,GASMD,IAAI,IAAI,MAAR,iBAAkBtD,KAAA,CAAAC,aAAA,CAACsE,YAAD,OATxB,EAUMjB,IAAI,IAAI,MAAR,iBAAmBtD,KAAA,CAAAC,aAAA,CAACuE,eAAD,OAVzB,EAWMlB,IAAI,IAAI,QAAR,iBAAqBtD,KAAA,CAAAC,aAAA,CAACwE,cAAD,OAX3B,EAYMnB,IAAI,IAAI,UAAR,iBAAuBtD,KAAA,CAAAC,aAAA,CAACyE,eAAD,OAZ7B,EAcMrB,KAAK,IAAIC,IAAT,SAAoBD,KAApB,GAA8BA,KAdpC,CADJ;EAmBH;;EA/B+B7C,SAAA;AAkCpC,IAAMmD,MAAM,GAAG;EACXI,MAAM,EAAE;IACJY,KAAK,EAAE,OADH;IAEJC,MAAM,EAAE,MAFJ;IAGJC,OAAO,EAAE,MAHL;IAIJC,MAAM,EAAE,MAJJ;IAKJC,QAAQ,EAAE,MALN;IAMJC,MAAM,EAAE,SANJ;IAOJC,OAAO,EAAE,UAPL;IAQJC,YAAY,EAAE,MARV;IASJC,eAAe,EAAE;EATb,CADG;EAYXrB,YAAY,GAAAsB,aAAA;IACRT,KAAK,EAAE,KADC;IAERC,MAAM,EAAE,MAFA;IAGRC,OAAO,EAAE,MAHD;IAIRC,MAAM,EAAE,MAJA;IAKRC,QAAQ,EAAE,MALF;IAMRC,MAAM,EAAE,SANA;IAORC,OAAO,EAAE,UAPD;IAQRC,YAAY,EAAE,MARN;IASRC,eAAe,EAAE;EATT,GAAAC,aAAA,aAUA,eAVA,EAAAA,aAAA,CAZD;EAwBXxB,WAAW,EAAE;IACTyB,OAAO,EAAE;EADA;AAxBF,CAAf;ICpCqBC,SAAA,0BAAA5H,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJqC,OAAO,EAAE,KADL;MAEJlC,KAAK,EAAE;IAFH;;;;SAKRmC,iBAAA,YAAAA,kBAAA,EAAoB;IAChB,IAAMnC,KAAK,GAAG,KAAKxF,KAAL,WAAd;IACA,IAAGwF,KAAH,EAAU;MACN,IAAMzF,KAAK,GAAG;QAAC6H,MAAM,EAAE;UAACpC,KAAK,EAALA;QAAD;MAAT,CAAd;MACA,KAAKxF,KAAL,CAAW6H,YAAX,CAAwB9H,KAAxB;MACA,KAAKuG,QAAL,CAAc;QAAEd,KAAK,EAALA;MAAF,CAAd;IACH;EACJ;SAED/D,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACL,IAAMK,WAAW,GAAG,KAAK5F,KAAL,CAAW2F,KAAX,GAAmB,KAAK3F,KAAL,CAAW2F,KAA9B,GAAsC,EAA1D;IACA,IAAMmC,YAAY,GAAG,KAAKzC,KAAL,CAAWqC,OAAX,GAAqBK,QAAM,CAACC,UAA5B,GAAyCD,QAAM,CAACE,KAArE;IAEA;MAEI9F,KAAA,CAAAC,aAAA;QACIqE,SAAS,EAAC,wBADd;QAEIjB,KAAK,EAAE,KAAKxF,KAAL,CAAWwF,KAFtB;QAGI0C,WAAW,EAAE,KAAKlI,KAAL,CAAWmI,KAH5B;QAIIxC,KAAK,EAAAa,QAAA,KAAOsB,YAAP,EAAwBlC,WAAxB,CAJT;QAKIwC,MAAM,EAAE,SAAAA,OAAA;UAAA,OAAM7C,MAAI,CAACe,QAAL,CAAc;YAAEoB,OAAO,EAAE;UAAX,CAAd,CAAN;QAAA,CALZ;QAMIW,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM9C,MAAI,CAACe,QAAL,CAAc;YAAEoB,OAAO,EAAE;UAAX,CAAd,CAAN;QAAA,CANb;QAOIvB,IAAI,EAAE,KAAKnG,KAAL,CAAWmG,IAAX,GAAkB,KAAKnG,KAAL,CAAWmG,IAA7B,GAAoC,MAP9C;QAQImC,QAAQ,EAAE,SAAAA,SAACC,CAAD;UAAA,OAAOhD,MAAI,CAACvF,KAAL,CAAW6H,YAAX,IAA2BtC,MAAI,CAACvF,KAAL,CAAW6H,YAAX,CAAwBU,CAAxB,CAAlC;QAAA;MARd;IAAA;EAWP;;EAhCkC5F,SAAA;AAmCvC,IAAMoF,QAAM,GAAG;EACXE,KAAK,EAAE;IAEHhB,MAAM,EAAE,MAFL;IAGHC,QAAQ,EAAE,MAHP;IAKHF,OAAO,EAAE,MALN;IAMHK,YAAY,EAAE,MANX;IAOHN,MAAM,EAAE,mBAPL;IASHK,OAAO,EAAE,UATN;IAUHoB,SAAS,EAAE;EAVR,CADI;EAaXR,UAAU,EAAE;IAERf,MAAM,EAAE,MAFA;IAGRC,QAAQ,EAAE,MAHF;IAKRF,OAAO,EAAE,MALD;IAMRK,YAAY,EAAE,MANN;IAORN,MAAM,EAAE,mBAPA;IASRK,OAAO,EAAE,UATD;IAURoB,SAAS,EAAE;EAVH;AAbD,CAAf;ICnCqBC,aAAA,0BAAA5I,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJqC,OAAO,EAAE,KADL;MAEJlC,KAAK,EAAE;IAFH;;;;SAKRmC,iBAAA,YAAAA,kBAAA,EAAoB;IAChB,IAAMnC,KAAK,GAAG,KAAKxF,KAAL,WAAd;IAEA,IAAGwF,KAAH,EAAU;MACN,KAAKxF,KAAL,CAAW6H,YAAX,CAAwB;QAAED,MAAM,EAAE;UAAEpC,KAAK,EAALA;QAAF;MAAV,CAAxB;MACA,KAAKc,QAAL,CAAc;QAAEd,KAAK,EAALA;MAAF,CAAd;IACH;EACJ;SAEDkD,MAAA,YAAAA,OAAA,EAAS;IACL,IAAIC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAf;IACAF,QAAQ,CAAChD,KAAT,CAAesB,MAAf,GAAwB,EAAxB;IACA0B,QAAQ,CAAChD,KAAT,CAAesB,MAAf,GAAwB6B,IAAI,CAACC,GAAL,CAASJ,QAAQ,CAACK,YAAlB,EAAgC,GAAhC,IAAuC,IAA/D;EACH;SAEDrB,iBAAA,YAAAA,kBAAA,EAAoB;IAChB,KAAKe,MAAL;EACH;SAEDb,YAAA,YAAAA,aAAaU,CAAb,EAAgB;IACZ,KAAKG,MAAL;IACA,KAAK1I,KAAL,CAAW6H,YAAX,IAA2B,KAAK7H,KAAL,CAAW6H,YAAX,CAAwBU,CAAxB,CAA3B;EACH;SAEDU,SAAA,YAAAA,UAAUV,CAAV,EAAa;IACT,IAAIA,CAAC,CAACW,GAAF,KAAU,OAAd,EAAuB;MACnBX,CAAC,CAACY,cAAF;MAEA,IAAI,KAAKnJ,KAAL,CAAWwF,KAAX,CAAiBrB,MAAjB,GAA0B,CAA9B,EAAiC;QAC7B,KAAKnE,KAAL,CAAWoJ,QAAX,IAAuB,KAAKpJ,KAAL,CAAWoJ,QAAX,CAAoBb,CAApB,CAAvB;MACH;IACJ;EACJ;SAED9G,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACL,oBACIpD,KAAA,CAAAC,aAAA;MACIxB,EAAE,EAAC,cADP;MAEI6F,SAAS,EAAC,4BAFd;MAGI4C,IAAI,EAAC,GAHT;MAII1D,KAAK,EAAG2D,QAAM,CAACrB,KAJnB;MAKIzC,KAAK,EAAG,KAAKxF,KAAL,CAAWwF,KALvB;MAMI0C,WAAW,EAAG,KAAKlI,KAAL,CAAWmI,KAN7B;MAOIC,MAAM,EAAE,SAAAA,OAAA;QAAA,OAAM7C,MAAI,CAACe,QAAL,CAAc;UAAEoB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAPZ;MAQIW,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM9C,MAAI,CAACe,QAAL,CAAc;UAAEoB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CARb;MASIvB,IAAI,EAAE,KAAKnG,KAAL,CAAWmG,IAAX,GAAkB,KAAKnG,KAAL,CAAWmG,IAA7B,GAAoC,MAT9C;MAUImC,QAAQ,EAAE,SAAAA,SAACC,CAAD;QAAA,OAAOhD,MAAI,CAACsC,YAAL,CAAkBU,CAAlB,CAAP;MAAA,CAVd;MAWIU,SAAS,EAAE,SAAAA,UAACV,CAAD;QAAA,OAAOhD,MAAI,CAAC0D,SAAL,CAAeV,CAAf,CAAP;MAAA;IAXf,EADJ;EAeH;;EAxDsC5F,SAAA;AA2D3C,IAAM2G,QAAM,GAAG;EACXrB,KAAK,EAAE;IAEHlB,MAAM,EAAE,iBAFL;IAGHwC,KAAK,EAAE,iCAHJ;IAIHvC,OAAO,EAAE,MAJN;IAMHwC,UAAU,EAAE,SANT;IAOHtC,QAAQ,EAAE,MAPP;IASHuC,WAAW,EAAE,MATV;IAUHC,YAAY,EAAE,MAVX;IAYHC,QAAQ,EAAE,UAZP;IAaHC,IAAI,EAAE,MAbH;IAeHlB,MAAM,EAAE;EAfL;AADI,CAAf;ICzDqBmB,YAAA,0BAAAhK,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJqC,OAAO,EAAE,KADL;MAEJoC,OAAO,EAAE;IAFL;;;;SAKRzB,OAAA,YAAAA,QAAA,EAAU;IACN,KAAKC,QAAL,CAAc,EAAd,EAAkB,IAAlB;IACA,KAAKhC,QAAL,CAAc;MAAEoB,OAAO,EAAE;IAAX,CAAd;IACA,KAAK1H,KAAL,CAAWqI,OAAX,IAAsB,KAAKrI,KAAL,CAAWqI,OAAX,EAAtB;EACH;SAEDD,MAAA,YAAAA,OAAA,EAAS;IACL,KAAK9B,QAAL,CAAc;MAAEoB,OAAO,EAAE;IAAX,CAAd;IACA,KAAK1H,KAAL,CAAWoI,MAAX,IAAqB,KAAKpI,KAAL,CAAWoI,MAAX,EAArB;EACH;SAEDE,QAAA,YAAAA,SAAS9C,KAAT,EAAgBsE,OAAhB,EAAyB;IACrB,KAAKxD,QAAL,CAAc;MAAEwD,OAAO,EAAPA;IAAF,CAAd;IACA,KAAK9J,KAAL,CAAW6H,YAAX,IAA2B,KAAK7H,KAAL,CAAW6H,YAAX,CAAwBrC,KAAxB,CAA3B;EACH;SAEDuE,QAAA,YAAAA,SAASC,OAAT,EAAkB;IAAA,IAAAzE,MAAA;IACd,IAAM0E,GAAG,GAAG,CAAZ;IACA,IAAIC,KAAK,GAAG,CAAZ;IAEA,IAAMC,OAAO,GAAG,EAAhB;IAEAH,OAAO,CAACI,GAAR,CAAY,UAAAC,MAAM,EAAI;MAClB,IAAIA,MAAM,CAACC,WAAP,GAAqBC,OAArB,CAA6BhF,MAAI,CAACvF,KAAL,CAAWwF,KAAX,CAAiB8E,WAAjB,EAA7B,MAAiE,CAAC,CAAlE,IAAuEJ,KAAK,GAAGD,GAAnF,EAAwF;QACpFC,KAAK,GAAGA,KAAK,GAAG,CAAhB;QACAC,OAAO,CAACK,IAAR,CAAaH,MAAb;MACH;IACJ,CALD;IAOA,OAAOF,OAAP;EACH;SAEDM,aAAA,YAAAA,cAAcT,OAAd,EAAuB;IAAA,IAAAU,MAAA;IACnB,IAAG,CAAC,KAAK1K,KAAL,CAAWwF,KAAZ,IAAqB,CAAC,KAAKH,KAAL,CAAWyE,OAApC,EAA6C;MAAE,oBAAO3H,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE/D,IAAM+H,OAAO,GAAG,KAAKJ,QAAL,CAAcC,OAAd,CAAhB;IAEA,OAAOG,OAAO,CAACC,GAAR,CAAY,UAACC,MAAD,EAASM,KAAT,EAAmB;MAClC,oBACIxI,KAAA,CAAAC,aAAA;QAAK8G,GAAG,cAAYyB,KAApB;QAA6BlE,SAAS,EAAC;MAAvC,GACMiE,MAAI,CAAC1K,KAAL,CAAW4K,YAAX,IAA2BF,MAAI,CAAC1K,KAAL,CAAW4K,YAAX,CAAwBP,MAAxB,CADjC,EAIQM,KAAK,IAAIR,OAAO,CAAChG,MAAR,GAAiB,CAA1B,iBACAhC,KAAA,CAAAC,aAAA;QACIuD,KAAK,EAAEkF,QAAM,CAACC,KADlB;QAEIrE,SAAS,EAAC,uBAFd;QAGIL,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMsE,MAAI,CAACpC,QAAL,CAAc,EAAd,EAAkB,KAAlB,CAAN;QAAA;MAHb,gBAKInG,KAAA,CAAAC,aAAA,CAAC2I,aAAD,OALJ,CALR,CADJ;IAgBH,CAjBM,CAAP;EAkBH;SAEDtJ,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAuJ,MAAA;IAAA,IACGhB,OADH,GACe,KAAKhK,KADpB,CACGgK,OADH;IAEL,IAAMpE,WAAW,GAAG,KAAK5F,KAAL,CAAW2F,KAAX,GAAmB,KAAK3F,KAAL,CAAW2F,KAA9B,GAAsC,EAA1D;IACA,IAAMmC,YAAY,GAAAtB,QAAA,KAAQqE,QAAM,CAAC5C,KAAf,EAAyB;MAAElB,MAAM,EAAE,KAAK1B,KAAL,CAAWqC,OAAX,GAAqB,mBAArB,GAA2C;IAArD,CAAzB,CAAlB;IAEA,oBACIvF,KAAA,CAAAC,aAAA,2BACID,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,gCADd;MAEIjB,KAAK,EAAE,KAAKxF,KAAL,CAAWwF,KAFtB;MAGI0C,WAAW,EAAE,KAAKlI,KAAL,CAAWmI,KAH5B;MAIIxC,KAAK,EAAAa,QAAA,KAAOsB,YAAP,EAAwBlC,WAAxB,CAJT;MAKIO,IAAI,EAAE,KAAKnG,KAAL,CAAWmG,IAAX,GAAkB,KAAKnG,KAAL,CAAWmG,IAA7B,GAAoC,MAL9C;MAMIiC,MAAM,EAAE,SAAAA,OAAA;QAAA,OAAM4C,MAAI,CAAC5C,MAAL,EAAN;MAAA,CANZ;MAOIC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM2C,MAAI,CAAC3C,OAAL,EAAN;MAAA,CAPb;MAQIC,QAAQ,EAAE,SAAAA,SAACC,CAAD;QAAA,OAAOyC,MAAI,CAAC1C,QAAL,CAAcC,CAAC,CAACX,MAAF,CAASpC,KAAvB,EAA8B,IAA9B,CAAP;MAAA;IARd,EADJ,EAaQwE,OAAO,IAAIA,OAAO,CAAC7F,MAAR,GAAiB,CAA5B,IAAiC,KAAKkB,KAAL,CAAWyE,OAA5C,iBACA3H,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,yBADd;MAEId,KAAK,EAAE;QAAE0B,YAAY,EAAE,MAAhB;QAAwBN,MAAM,EAAE;MAAhC;IAFX,GAIM,KAAK0D,aAAL,CAAmB,KAAKzK,KAAL,CAAWgK,OAA9B,CAJN,CAdR,CADJ;EAwBH;;EA5FqCrH,SAAA;AA+F1C,IAAMkI,QAAM,GAAG;EACX5C,KAAK,EAAE;IACHhB,MAAM,EAAE,MADL;IAEHC,QAAQ,EAAE,MAFP;IAGHF,OAAO,EAAE,MAHN;IAIHK,YAAY,EAAE,MAJX;IAKHD,OAAO,EAAE,UALN;IAMHoB,SAAS,EAAE;EANR,CADI;EASXsC,KAAK,EAAE;IACH3D,MAAM,EAAE,SADL;IAEH8D,SAAS,EAAE,QAFR;IAGH7D,OAAO,EAAE,UAHN;IAIHF,QAAQ,EAAE,MAJP;IAKHG,YAAY,EAAE;EALX;AATI,CAAf;IC5FqB6D,QAAA,0BAAAC,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJG,KAAK,EAAE;IADH;;;;SAIRqC,YAAA,YAAAA,aAAa9H,KAAb,EAAoB;IAClB,KAAKuG,QAAL,CAAc;MAACd,KAAK,EAAEzF,KAAK,CAAC6H,MAAN,CAAapC;IAArB,CAAd;EACD;SAED4F,YAAA,YAAAA,aAAarL,KAAb,EAAoB;IAChBA,KAAK,CAACoJ,cAAN;IAEA,IAAI,KAAK9D,KAAL,CAAWG,KAAX,CAAiB6F,IAAjB,GAAwBlH,MAAxB,GAAiC,CAArC,EAAwC;MACtCmH,SAAO,CACL,KAAKtL,KAAL,CAAWuL,KADN,EAEL;QAAEC,KAAK,EAAE,KAAKnG,KAAL,CAAWG;MAApB,CAFK,EAGL,YAAM,EAHD,CAAP;IAKD;IAED,KAAKc,QAAL,CAAc;MAAEd,KAAK,EAAE;IAAT,CAAd;EACH;SAED/D,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACP,oBACEpD,KAAA,CAAAC,aAAA;MAAMgH,QAAQ,EAAE,KAAKgC,YAAL,CAAkB3I,IAAlB,CAAuB,IAAvB;IAAhB,gBAEEN,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE;MAAT;IAAZ,gBAEEpH,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,gBACE9E,KAAA,CAAAC,aAAA,CAACqF,SAAD;MACEU,KAAK,EAAC,UADR;MAEE3C,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAFpB;MAGEG,KAAK,EAAE;QAAE4D,KAAK,EAAE;MAAT,CAHT;MAIE1B,YAAY,EAAE,SAAAA,aAACU,CAAD;QAAA,OAAOhD,MAAI,CAACsC,YAAL,CAAkBU,CAAlB,CAAP;MAAA;IAJhB,EADF,CAFF,eAWEpG,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,MAAT;QAAiB0B,SAAS,EAAE;MAA5B;IAAZ,gBACE9I,KAAA,CAAAC,aAAA,CAACgD,MAAD;MACEK,IAAI,EAAC,MADP;MAEEU,IAAI,EAAC;IAFP,EADF,CAXF,CAFF,CADF;EAyBD;;EAjDiChE,KAAK,CAACQ,SAAA;ICCtC8I,QAAA,0BAAA5L,UAAA;;;;;;SACF6L,eAAA,YAAAA,gBAAgBH,KAAhB,EAAuBI,IAAvB,EAA6B;IACzB,IAAID,eAAe,GAAG,IAAtB;IACAC,IAAI,CAACC,MAAL,CAAYxB,GAAZ,CAAgB,UAAAyB,WAAW,EAAI;MAC3B,IAAGN,KAAK,IAAIA,KAAK,CAAC/K,QAAN,KAAmBqL,WAAW,CAAChL,MAAZ,CAAmBiL,QAAlD,EAA4D;QACxDJ,eAAe,GAAGC,IAAI,CAACI,YAAL,CAAkBnL,EAAlB,KAAyBiL,WAAW,CAACnH,SAAvD;MACH;IACJ,CAJD;IAKA,OAAOgH,eAAP;EACH;SAEDM,WAAA,YAAAA,YAAYC,KAAZ,EAAmB;IAAA,IAAAvK,KAAA;IACf,OAAOwK,CAAC,CAAC9B,GAAF,CAAM6B,KAAN,EAAa,UAACN,IAAD,EAAOhB,KAAP,EAAiB;MACjC,IAAI,CAACgB,IAAL,EAAW,oBAAOxJ,KAAA,CAAAC,aAAA;QAAK8G,GAAG,YAAUyB;MAAlB,EAAP;MAEX,IAAMwB,UAAU,GAAGzK,KAAI,CAAC1B,KAAL,CAAWoM,UAAX,KAA0BT,IAAI,CAAC/K,EAA/B,GAAoCyL,QAAM,CAACD,UAA3C,GAAwD,EAA3E;MAEA,IAAI1K,KAAI,CAAC1B,KAAL,CAAWsM,cAAf,EAA+B;QAC3B,oBAAOnK,KAAA,CAAAC,aAAA;UAAK8G,GAAG,YAAUyB;QAAlB,GAA4BjJ,KAAI,CAAC1B,KAAL,CAAWsM,cAAX,CAA0BX,IAA1B,EAAgChB,KAAhC,CAA5B,CAAP;MACH;MAED,oBACIxI,KAAA,CAAAC,aAAA;QACI8G,GAAG,YAAUyB,KADjB;QAEIvE,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM1E,KAAI,CAAC1B,KAAL,CAAWuM,WAAX,CAAuBZ,IAAI,CAAC/K,EAA5B,CAAN;QAAA,CAFb;QAGI+E,KAAK,EAAAa,QAAA,KAAO6F,QAAM,CAACG,aAAd,EAAgCL,UAAhC,CAHT;QAII1F,SAAS,qBAAkB/E,KAAI,CAAC1B,KAAL,CAAWoM,UAAX,KAA0BT,IAAI,CAAC/K,EAA/B,IAAqC,qBAAvD;MAJb,gBAOIuB,KAAA,CAAAC,aAAA;QAAKuD,KAAK,EAAG0G,QAAM,CAACI,SAApB;QAAgChG,SAAS,EAAC;MAA1C,GACMkF,IAAI,CAACH,KADX,EAEK,GAFL,EAIQ,CAAC9J,KAAI,CAACgK,eAAL,CAAqBhK,KAAI,CAAC1B,KAA1B,EAAiC2L,IAAjC,CAAD,iBACAxJ,KAAA,CAAAC,aAAA;QACIqE,SAAS,EAAC,oBADd;QAEId,KAAK,EAAE;UACH,SAAO,OADJ;UAEH4D,KAAK,EAAE,MAFJ;UAGHtC,MAAM,EAAE,MAHL;UAIHI,YAAY,EAAE,KAJX;UAKHC,eAAe,EAAE,SALd;UAMHoF,OAAO,EAAE;QANN;MAFX,EALR,CAPJ,eA2BIvK,KAAA,CAAAC,aAAA;QAAKuD,KAAK,EAAE;UAAE4D,KAAK,EAAE;QAAT,CAAZ;QAA+B9C,SAAS,EAAC;MAAzC,gBACItE,KAAA,CAAAC,aAAA;QAAKuD,KAAK,EAAE0G,QAAM,CAACM,WAAnB;QAAgClG,SAAS,EAAC;MAA1C,GACMkF,IAAI,CAACI,YAAL,CAAkBzH,IAAlB,GAAyBqH,IAAI,CAACI,YAAL,CAAkBzH,IAA3C,GAAkD,YADxD,CADJ,eAKInC,KAAA,CAAAC,aAAA;QACIqE,SAAS,EAAC,6CADd;QAEId,KAAK,EAAAa,QAAA,KAAO6F,QAAM,CAACM,WAAd,EAA8B;UAAE1B,SAAS,EAAE,OAAb;UAAsB1B,KAAK,EAAE;QAA7B,CAA9B;MAFT,GAIMpE,YAAY,CAACwG,IAAI,CAACI,YAAL,CAAkBa,OAAnB,CAJlB,CALJ,CA3BJ,CADJ;IA2CH,CApDM,CAAP;EAqDH;SAEDnL,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE0G,QAAM,CAACQ,iBAAnB;MAAsCpG,SAAS,EAAC;IAAhD,gBAEItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE0G,QAAM,CAACS,cAAnB;MAAmCrG,SAAS,EAAC;IAA7C,GAEM,KAAKuF,WAAL,CAAiB,KAAKhM,KAAL,CAAWiM,KAA5B,CAFN,eAII9J,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,EAJJ,EAOQ,KAAKjH,KAAL,CAAW+M,iBAAX,GACA,KAAK/M,KAAL,CAAW+M,iBAAX,CAA6B,KAAK/M,KAAlC,CADA,gBAEAmC,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE0G,QAAM,CAACW,gBAAnB;MAAqCvG,SAAS,EAAC;IAA/C,gBACItE,KAAA,CAAAC,aAAA,CAAC8I,QAAD;MAAUK,KAAK,EAAE,KAAKvL,KAAtB;MAA8ByG,SAAS,EAAC;IAAxC,EADJ,CATR,CAFJ,CADJ;EAqBH;;EAzFkB9D,SAAA;AA4FvB,IAAM0J,QAAM,GAAC;EACTQ,iBAAiB,EAAE;IACf5F,MAAM,EAAE,MADO;IAEfgG,SAAS,EAAE,OAFI;IAGfC,QAAQ,EAAE,QAHK;IAIfC,SAAS,EAAE,QAJI;IAKfC,WAAW,EAAE,mBALE;IAMf9F,eAAe,EAAE;EANF,CADV;EASTwF,cAAc,EAAE;IACZvD,KAAK,EAAE,MADK;IAEZjC,eAAe,EAAE,OAFL;IAGZD,YAAY,EAAE;EAHF,CATP;EAcTmF,aAAa,EAAE;IACXpF,OAAO,EAAE,MADE;IAEXiG,aAAa,EAAE,MAFJ;IAGXlG,MAAM,EAAE;EAHG,CAdN;EAmBTsF,SAAS,EAAE;IACPa,UAAU,EAAE,KADL;IAEND,aAAa,EAAE,KAFT;IAGNE,UAAU,EAAE,QAHN;IAINL,QAAQ,EAAE;EAJJ,CAnBF;EAyBTP,WAAW,EAAE;IACTpD,KAAK,EAAE,KADE;IAETzC,KAAK,EAAE,wBAFE;IAGTI,QAAQ,EAAE,MAHD;IAITqG,UAAU,EAAE,QAJH;IAKTL,QAAQ,EAAE,QALD;IAMTR,OAAO,EAAE;EANA,CAzBJ;EAiCTN,UAAU,EAAE;IACR9E,eAAe,EAAE,SADT;IAERP,MAAM,EAAE,iBAFA;IAGRM,YAAY,EAAE;EAHN,CAjCH;EAsCT2F,gBAAgB,EAAE;IACdrD,QAAQ,EAAE,UADI;IAEd6D,MAAM,EAAE,KAFM;IAGdjE,KAAK,EAAE,MAHO;IAIdnC,OAAO,EAAE;EAJK;AAtCT,CAAb;IChGqBqG,KAAA,0BAAA5N,UAAA;;;;;;SAEjB4B,MAAA,YAAAA,OAAA,EAAS;IAAA,IACGkK,IADH,GACY,KAAK3L,KADjB,CACG2L,IADH;IAGL,IAAI,CAACA,IAAL,EAAW;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE7B,oBACID,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,eADd;MAEId,KAAK,EAAE;QAAEgE,QAAQ,EAAE,UAAZ;QAAwB+D,GAAG,EAAE,KAA7B;QAAoCnE,KAAK,EAAE,MAA3C;QAAmDoE,MAAM,EAAE;MAA3D;IAFX,gBAIIxL,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEiI,QAAM,CAACC,cAAnB;MAAmCpH,SAAS,EAAC;IAA7C,gBACItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEiI,QAAM,CAACnB,SAAnB;MAA8BhG,SAAS,EAAC;IAAxC,GACMkF,IAAI,IAAIA,IAAI,CAACH,KADnB,CADJ,eAKIrJ,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEiI,QAAM,CAACE,YAAnB;MAAiCrH,SAAS,EAAC;IAA3C,cACY7B,aAAa,CAAC+G,IAAI,CAACI,YAAL,CAAkBa,OAAnB,CADzB,CALJ,CAJJ,CADJ;EAgBH;;EAvB8BjK,SAAA;AA0BnC,IAAMiL,QAAM,GAAG;EACXG,aAAa,EAAE;IACX9C,SAAS,EAAE,QADA;IAEX7D,OAAO,EAAE,UAFE;IAGXE,eAAe,EAAE,0BAHN;IAIXP,MAAM,EAAE;EAJG,CADJ;EAOX8G,cAAc,EAAE;IACZtE,KAAK,EAAE,MADK;IAEZnC,OAAO,EAAE,UAFG;IAGZ6D,SAAS,EAAE,QAHC;IAIZnE,KAAK,EAAE,mBAJK;IAKZQ,eAAe,EAAE;EALL,CAPL;EAcXmF,SAAS,EAAE;IACPvF,QAAQ,EAAE,MADH;IAEPoG,UAAU,EAAE;EAFL,CAdA;EAkBXQ,YAAY,EAAE;IACV5G,QAAQ,EAAE;EADA;AAlBH,CAAf;IC5BqB8G,QAAA,0BAAAnO,UAAA;;;;;;SACjB4B,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE,MAAV;QAAkBgE,SAAS,EAAE;MAA7B;IAAZ,gBAEI9I,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE;MAAT;IAAZ,gBACIpH,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,KAAT;QAAgB0E,UAAU,EAAE;MAA5B,CADX;MAEIC,GAAG,EAAC,wDAFR;MAGIC,GAAG,EAAC;IAHR,EADJ,CAFJ,eAUIhM,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEuB,QAAQ,EAAE,MAAZ;QAAoB+G,UAAU,EAAE,MAAhC;QAAwC1E,KAAK,EAAE,KAA/C;QAAsDE,WAAW,EAAE;MAAnE;IAAZ,qHACqGtH,KAAA,CAAAC,aAAA;MAAGgM,IAAI,EAAC;IAAR,mBADrG,CAVJ,CADJ;EAiBH;;EAnBiCzL,SAAA;ICEjB0L,OAAA,0BAAAxO,UAAA;;;;;;SACjB4B,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA,CAACkM,eAAD;MACI3I,KAAK,EAAE;QACH4D,KAAK,EAAE,MADJ;QAEHI,QAAQ,EAAE,UAFP;QAGH+D,GAAG,EAAE,kBAHF;QAIHzC,SAAS,EAAE,QAJR;QAKH/D,QAAQ,EAAE;MALP;IADX,EADJ;EAWH;;EAbgCvE,SAAA;ICFhB4L,OAAA,0BAAA1O,UAAA;;;;;;SACjB4B,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE,MAAV;QAAkBgE,SAAS,EAAE;MAA7B;IAAZ,gBAEI9I,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE;MAAT;IAAZ,gBACIpH,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,KAAT;QAAgB0E,UAAU,EAAE;MAA5B,CADX;MAEIC,GAAG,EAAC,yDAFR;MAGIC,GAAG,EAAC;IAHR,EADJ,CAFJ,eAUIhM,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEuB,QAAQ,EAAE,MAAZ;QAAoB+G,UAAU,EAAE,MAAhC;QAAwC1E,KAAK,EAAE,KAA/C;QAAsDE,WAAW,EAAE;MAAnE;IAAZ,oDAVJ,CADJ;EAiBH;;EAnBgC9G,SAAA;ACArC,IAAM6L,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CAAf;AACA,IAAMC,MAAM,GAAG,CACb,IADa,EACP,IADO,EACD,IADC,EACK,IADL,EACW,IADX,EAEb,IAFa,EAEP,IAFO,EAED,IAFC,EAEK,IAFL,EAEW,IAFX,EAGb,IAHa,EAGP,IAHO,EAGD,IAHC,EAGK,IAHL,EAGW,IAHX,EAIb,IAJa,EAIP,IAJO,EAID,IAJC,EAIK,IAJL,EAIW,IAJX,EAKb,IALa,EAKP,IALO,EAKD,IALC,EAKK,IALL,EAKW,IALX,EAMb,IANa,EAMP,IANO,EAMD,IANC,EAMK,IANL,EAMW,IANX,EAOb,IAPa,CAAf;IAUqBC,aAAA,0BAAA7O,UAAA;;;;;;SACjB8O,OAAA,YAAAA,QAAQ9J,IAAR,EAAc;IACV,OAAOA,IAAI,GAAGA,IAAI,CAACI,MAAL,CAAY,CAAZ,EAAe,EAAf,CAAH,GAAwB,IAAnC;EACH;SAED2J,UAAA,YAAAA,WAAWC,SAAX,EAAsB;IAClB,IAAMC,IAAI,GAAGD,SAAS,CAAC5J,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAb;IACA,IAAM8J,KAAK,GAAGP,MAAM,CAACQ,QAAQ,CAACH,SAAS,CAAC5J,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAD,CAAR,GAAmC,CAApC,CAApB;IACA,IAAMD,GAAG,GAAG6J,SAAS,CAAC5J,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAZ;IACA,IAAMgK,SAAS,GAAGR,MAAM,CAACO,QAAQ,CAACH,SAAS,CAAC5J,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAD,CAAR,GAAmC,CAApC,CAAxB;IAEA,IAAIC,IAAI,GAAG2J,SAAS,CAAC5J,MAAV,CAAiB,EAAjB,EAAqB,CAArB,CAAX;IACA,IAAIiK,UAAU,GAAG,EAAjB;IAEA,IAAGF,QAAQ,CAAC9J,IAAI,CAACD,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAR,IAA+B,EAAlC,EAAqC;MACjC,IAAG+J,QAAQ,CAAC9J,IAAI,CAACD,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAR,GAA8B,EAAjC,EAAoC;QACpCC,IAAI,GAAGiK,MAAM,CAACH,QAAQ,CAAC9J,IAAI,CAACD,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAR,GAA8B,EAA/B,CAAN,GAA2C,GAA3C,GAAiDC,IAAI,CAACD,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAxD;MACC;MACDiK,UAAU,GAAG,IAAb;IAEH,CAND,MAMO;MACHA,UAAU,GAAG,IAAb;IACH;IAED,OAAOhK,IAAI,GAAGgK,UAAP,GAAoB,IAApB,GAA2BH,KAA3B,GAAmC,GAAnC,GAAyC/J,GAAzC,GAA+CiK,SAA/C,GAA2D,IAA3D,GAAkEH,IAAzE;EACH;SAEDrN,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAE,WAAA,GAC4B,KAAK3B,KADjC;MACGoP,WADH,GAAAzN,WAAA,CACGyN,WADH;MACgBxC,OADhB,GAAAjL,WAAA,CACgBiL,OADhB;IAGL,IAAMyC,QAAQ,GAAG,KAAKV,OAAL,CAAaS,WAAb,CAAjB;IACA,IAAME,QAAQ,GAAG,KAAKX,OAAL,CAAa/B,OAAb,CAAjB;IAEA,IAAIwC,WAAW,IAAIC,QAAQ,KAAKC,QAAhC,EAA2C;MACvC,oBAAOnN,KAAA,CAAAC,aAAA,aAAP;IACH;IAED,oBACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE4J,QAAM,CAACC,QAAnB;MAA6B/I,SAAS,EAAC;IAAvC,GACM,KAAKmI,UAAL,CAAgBhC,OAAhB,CADN,CADJ;EAKH;;EA1CsCjK,SAAA;AA6C3C,IAAM4M,QAAM,GAAG;EACXC,QAAQ,EAAE;IACNjG,KAAK,EAAE,MADD;IAEN0B,SAAS,EAAE,QAFL;IAGNgD,UAAU,EAAE,KAHN;IAINZ,aAAa,EAAE,MAJT;IAKNnG,QAAQ,EAAE,MALJ;IAMNJ,KAAK,EAAE;EAND;AADC,CAAf;;ICxDqB2I,SAAA,0BAAA5P,UAAA;;;;;;SAEjB4B,MAAA,YAAAA,OAAA,EAAS;IAAA,IACGiO,UADH,GACkB,KAAK1P,KADvB,CACG0P,UADH;IAGL,oBACIvN,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAGgK,QAAM,CAACC,SADnB;MAEI1B,GAAG,EAAEwB,UAAU,CAACG,IAFpB;MAGI1B,GAAG,EAAE;IAHT,EADJ;EAOH;;EAZkCxL,SAAA;AAevC,IAAMgN,QAAM,GAAG;EACXC,SAAS,GAAAE,UAAA;IACLvG,KAAK,EAAE,MADF;IAELpC,MAAM,EAAE,SAFH;IAGL8D,SAAS,EAAE,OAHN;IAILyB,OAAO,EAAE,QAJJ;IAKLqD,SAAS,EAAE,OALN;IAML1I,YAAY,EAAE,OANT;IAOLqC,YAAY,EAAE,KAPT;IASLzC,MAAM,EAAE;EATH,GAAA6I,UAAA,YAUE,MAVF,EAAAA,UAAA,CAWL7C,SAXK,GAWM,OAXN,EAAA6C,UAAA,CAYLE,QAZK,GAYK,OAZL,EAAAF,UAAA,CAaLG,SAbK,GAaM,OAbN,EAAAH,UAAA,CAcLI,QAdK,GAcK,OAdL,EAAAJ,UAAA;AADE,CAAf;ACfA,IAAMK,MAAM,GAAG,CACX,SADW,EAEX,SAFW,EAGX,SAHW,EAIX,SAJW,EAKX,SALW,EAMX,SANW,EAOX,SAPW,EAQX,SARW,EASX,SATW,EAUX,SAVW,EAWX,SAXW,EAYX,SAZW,EAaX,SAbW,EAcX,SAdW,EAeX,SAfW,EAgBX,SAhBW,EAiBX,SAjBW,EAkBX,SAlBW,CAAf;AAqBA,SAASC,cAATA,CAAwBC,GAAxB,EAA4B;EACxB,IAAIC,GAAG,GAAG,CAAV;EACA,KAAK,IAAIpM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmM,GAAG,CAAClM,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;IACjCoM,GAAG,GAAGA,GAAG,GAAID,GAAG,CAACE,UAAJ,CAAerM,CAAf,IAAoBA,CAA3B,GAAgC,EAAtC;EACH;EACD,OAAOoM,GAAP;AACH;AAED,SAAgBE,aAATA,CAAuBH,GAAvB,EAA4B;EAC/B,IAAI,CAACA,GAAL,EAAU;IACN,OAAO,OAAP;EACH,CAFD,MAEO;IACH,OAAOF,MAAM,CAACC,cAAc,CAACC,GAAD,CAAd,GAAsBF,MAAM,CAAChM,MAA9B,CAAb;EACH;AACJ;IChCoBsM,GAAA,0BAAA5Q,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MAAEqL,MAAM,EAAE;IAAV;;;;SAERC,kBAAA,YAAAA,mBAAA,EAAqB;IAAA,IACT9P,MADS,GACE,KAAKb,KADP,CACTa,MADS;IAEjB,IAAM6P,MAAM,GAAI7P,MAAM,IAAIA,MAAM,CAAC6P,MAAP,KAAkB,IAA7B,GAAqC7P,MAAM,CAAC6P,MAA5C,GAAqD,EAApE;IAEA,IAAIA,MAAM,CAACE,KAAP,CAAa,GAAb,EAAkB,CAAlB,MAAyB,KAAKvL,KAAL,CAAWqL,MAAX,CAAkBE,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAA7B,EAA8D;MAC1D,KAAKtK,QAAL,CAAc;QAAEoK,MAAM,EAANA;MAAF,CAAd;IACH;EACJ;SAEDjP,MAAA,YAAAA,OAAA,EAAS;IAAA,IACGZ,MADH,GACc,KAAKb,KADnB,CACGa,MADH;IAEL,IAAMiG,KAAK,GAAG0J,aAAa,CAAC3P,MAAM,CAACiL,QAAR,CAA3B;IACA,IAAMlG,WAAW,GAAG,KAAK5F,KAAL,CAAW2F,KAAX,GAAmB,KAAK3F,KAAL,CAAW2F,KAA9B,GAAsC,EAA1D;IAEA,oBACIxD,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,eADd;MAEId,KAAK,EAAAa,QAAA,KACEqK,QAAM,CAACC,GADT,EAEElL,WAFF,EAGE;QACC0B,eAAe,EAAE,KAAKjC,KAAL,CAAWqL,MAAX,GAAoB,OAApB,GAA8B5J,KADhD;QAECiK,eAAe,EAAE,KAAK1L,KAAL,CAAWqL,MAAX,aAA4B,KAAKrL,KAAL,CAAWqL,MAAvC,MAFlB;QAGCM,gBAAgB,EAAE,WAHnB;QAICC,kBAAkB,EAAE,QAJrB;QAKCC,cAAc,EAAE;MALjB,CAHF;IAFT,EADJ;EAgBH;;EAjC4BvO,SAAA;AAoCjC,IAAMkO,QAAM,GAAG;EACXC,GAAG,EAAE;IACDvH,KAAK,EAAE,MADN;IAEDtC,MAAM,EAAE,MAFP;IAGDI,YAAY,EAAE,MAHb;IAID4D,SAAS,EAAE;EAJV;AADM,CAAf;ACjCAkG,gBAAgB,CAAC;EAAEC,cAAc,EAAE;AAAlB,CAAD,CAAhB;IAEqBC,OAAA,0BAAAxR,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJiM,QAAQ,EAAE;IADN;;;;SAIRC,WAAA,YAAAA,YAAA,EAAc;IAAA,IAAA5P,WAAA,GACgB,KAAK3B,KADrB;MACF2L,IADE,GAAAhK,WAAA,CACFgK,IADE;MACIvK,OADJ,GAAAO,WAAA,CACIP,OADJ;IAGV,IAAG,CAACuK,IAAJ,EAAU;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE5B,OAAOuJ,IAAI,CAACC,MAAL,CAAYxB,GAAZ,CAAgB,UAACoH,UAAD,EAAa7G,KAAb,EAAuB;MAC1C,IAAIvJ,OAAO,CAACR,EAAR,IAAc4Q,UAAU,CAAC9M,SAA7B,EAAwC;QACpC,oBAAOvC,KAAA,CAAAC,aAAA,CAACqO,GAAD;UAAKvH,GAAG,YAAUyB,KAAlB;UAA2B9J,MAAM,EAAE2Q,UAAU,CAAC3Q,MAA9C;UAAsD8E,KAAK,EAAE;YAAE,SAAO,OAAT;YAAkB8L,UAAU,EAAE;UAA9B;QAA7D,EAAP;MACH;IACJ,CAJM,CAAP;EAKH;SAEDC,iBAAA,YAAAA,kBAAkBrK,YAAlB,EAAgC;IAC5B,IAAMsK,WAAW,GAAG,KAAK3R,KAAL,CAAWoB,OAAX,GAAqB,KAAKpB,KAAL,CAAWoB,OAAX,CAAmBuQ,WAAxC,GAAsD,EAA1E;IACA,OAAOA,WAAW,CAACvH,GAAZ,CAAgB,UAACsF,UAAD,EAAa/E,KAAb,EAAuB;MAC1C,oBAAOxI,KAAA,CAAAC,aAAA,CAACqN,SAAD;QAAWC,UAAU,EAAEA,UAAvB;QAAmCxG,GAAG,kBAAgByB,KAAtD;QAA+DtD,YAAY,EAAEA;MAA7E,EAAP;IACH,CAFM,CAAP;EAGH;SAED5F,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IAAAqM,YAAA,GACyC,KAAK5R,KAD9C;MACG6R,WADH,GAAAD,YAAA,CACGC,WADH;MACgBzQ,OADhB,GAAAwQ,YAAA,CACgBxQ,OADhB;MACyB0Q,WADzB,GAAAF,YAAA,CACyBE,WADzB;IAGL,IAAI,CAAC1Q,OAAL,EAAc;MAAE,oBAAOe,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAEhC,IAAMuP,WAAW,GAAG,KAAK3R,KAAL,CAAWoB,OAAX,IAAsB,KAAKpB,KAAL,CAAWoB,OAAX,CAAmBuQ,WAA7D;IAEA,IAAMI,cAAc,GAAG,CAACF,WAAD,IAAgBA,WAAW,CAACG,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,OAA1E,GAAoF,OAA3G;IACA,IAAMmG,iBAAiB,GAAG,CAACH,WAAD,IAAgBA,WAAW,CAACE,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,OAA1E,GAAoF,OAA9G;IAEA,IAAMzE,YAAY,cAAY0K,cAAZ,SAA8BE,iBAA9B,WAAlB;IACA,IAAM5E,aAAa,GAAG,CAACyE,WAAD,IAAgBA,WAAW,CAACE,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,MAA1E,GAAmF,KAAzG;IAEA,oBACI3J,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,8BADd;MAEIJ,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA,CAFlB;MAGI/K,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA,CAHlB;MAII3L,KAAK,EAAE;QAAE4D,KAAK,EAAE,MAAT;QAAiB0B,SAAS,EAAE,OAA5B;QAAqCoC,aAAa,EAAbA;MAArC;IAJX,gBAOIlL,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAE+G,OAAO,EAAE;MAAX,CADX;MAEIjG,SAAS,EAAC;IAFd,GAIM,KAAKiL,iBAAL,EAJN,CAPJ,eAcIvP,KAAA,CAAAC,aAAA,CAAC8P,GAAD;MACIvM,KAAK,EAAE;QAAE+D,YAAY,EAAE;MAAhB,CADX;MAEIjD,SAAS,EAAC;IAFd,gBAKItE,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYC,EAAE,EAAE,CAAhB;MAAmBC,EAAE,EAAE;IAAvB,EALJ,eAOInQ,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,EAAT;MAAaC,EAAE,EAAE,EAAjB;MAAqBC,EAAE,EAAE;IAAzB,GAGQ,CAACX,WAAD,IAAgBvQ,OAAO,CAACkD,IAAR,iBAChBnC,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,wCADd;MAEId,KAAK,EAAAa,QAAA,KAAO+L,QAAM,CAACC,SAAd,EAA4B;QAAEnL,YAAY,EAAZA;MAAF,CAA5B;IAFT,GAIMjG,OAAO,CAACkD,IAJd,CAJR,CAPJ,eAqBInC,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYC,EAAE,EAAE,CAAhB;MAAmBC,EAAE,EAAE;IAAvB,EArBJ,eAuBInQ,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,EAAT;MAAa3L,SAAS,EAAC;IAAvB,GACM,KAAK8K,WAAL,EADN,CAvBJ,CAdJ,CADJ;EA8CH;;EAnFgC5O,SAAA;AAsFrC,IAAM4P,QAAM,GAAG;EACXC,SAAS,EAAE;IACP1L,KAAK,EAAE,OADA;IAEPK,MAAM,EAAE,SAFD;IAGP,SAAO,OAHA;IAGS8D,SAAS,EAAE,MAHpB;IAIP7D,OAAO,EAAE,MAJF;IAKPF,QAAQ,EAAE,MALH;IAMPqG,UAAU,EAAE,UANL;IAOPjG,eAAe,EAAE;EAPV;AADA,CAAf;IC3FqBmL,MAAA,0BAAA5S,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MAAEqL,MAAM,EAAE;IAAV;;;;SAERC,kBAAA,YAAAA,mBAAA,EAAqB;IAAA,IACT9P,MADS,GACE,KAAKb,KADP,CACTa,MADS;IAEjB,IAAM6P,MAAM,GAAI7P,MAAM,IAAIA,MAAM,CAAC6P,MAAP,KAAkB,IAA7B,GAAqC7P,MAAM,CAAC6P,MAA5C,GAAqD,EAApE;IAEA,IAAIA,MAAM,CAACE,KAAP,CAAa,GAAb,EAAkB,CAAlB,MAAyB,KAAKvL,KAAL,CAAWqL,MAAX,CAAkBE,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAA7B,EAA8D;MAC1D,KAAKtK,QAAL,CAAc;QAAEoK,MAAM,EAANA;MAAF,CAAd;IACH;EACJ;SAEDjP,MAAA,YAAAA,OAAA,EAAS;IAAA,IACGZ,MADH,GACc,KAAKb,KADnB,CACGa,MADH;IAEL,IAAM+E,WAAW,GAAG,KAAK5F,KAAL,CAAW2F,KAAX,GAAmB,KAAK3F,KAAL,CAAW2F,KAA9B,GAAsC,EAA1D;IACA,IAAMrB,IAAI,GAAGzD,MAAM,CAACiL,QAAP,GAAkBjL,MAAM,CAACiL,QAAP,CAAgB4G,SAAhB,CAA0B,CAA1B,EAA6B,CAA7B,EAAgCC,WAAhC,EAAlB,GAAkE,EAA/E;IACA,IAAM7L,KAAK,GAAG0J,aAAa,CAAC3P,MAAM,GAAGA,MAAM,CAACiL,QAAV,GAAqB,EAA5B,CAA3B;IAEA,oBACI3J,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,MAAT;QAAiBtC,MAAM,EAAE;MAAzB;IAAZ,gBACI9E,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,gBACI9E,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,WADd;MAEId,KAAK,EAAAa,QAAA,KACEoM,QAAM,CAAClC,MADT,EAEE9K,WAFF,EAGE;QACC0B,eAAe,EAAE,KAAKjC,KAAL,CAAWqL,MAAX,GAAoB,OAApB,GAA8B5J,KADhD;QAECiK,eAAe,EAAE,KAAK1L,KAAL,CAAWqL,MAAX,aAA4B,KAAKrL,KAAL,CAAWqL,MAAvC,MAFlB;QAGCM,gBAAgB,EAAE,WAHnB;QAICC,kBAAkB,EAAE,QAJrB;QAKCC,cAAc,EAAE;MALjB,CAHF;IAFT,gBAcI/O,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,gBADd;MAEId,KAAK,EAAEiN,QAAM,CAACC;IAFlB,GAIM,CAAC,KAAKxN,KAAL,CAAWqL,MAAZ,IAAsBpM,IAJ5B,CAdJ,CADJ,CADJ,EA0BQ,KAAKtE,KAAL,CAAW8S,WAAX,KAA2B,KAA3B,iBACA3Q,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,kBADd;MAEId,KAAK,EAAAa,QAAA,KACEoM,QAAM,CAACG,MADT,EAEE;QAAEzL,eAAe,EAAEzG,MAAM,CAACmS,SAAP,GAAmB,SAAnB,GAA+B;MAAlD,CAFF;IAFT,EA3BR,CADJ;EAsCH;;EAxD+BrQ,SAAA;AA2DpC,IAAMiQ,QAAM,GAAG;EACXlC,MAAM,EAAE;IACJnH,KAAK,EAAE,MADH;IAEJtC,MAAM,EAAE,MAFJ;IAGJI,YAAY,EAAE,MAHV;IAIJP,KAAK,EAAE,OAJH;IAKJmE,SAAS,EAAE;EALP,CADG;EAQX4H,UAAU,EAAE;IACR/L,KAAK,EAAE,OADC;IAERmH,UAAU,EAAE,MAFJ;IAGR/G,QAAQ,EAAE,MAHF;IAIRoG,UAAU,EAAE;EAJJ,CARD;EAcXyF,MAAM,EAAE;IACJxJ,KAAK,EAAE,KADH;IAEJtC,MAAM,EAAE,KAFJ;IAGJI,YAAY,EAAE,MAHV;IAIJN,MAAM,EAAE;EAJJ;AAdG,CAAf;ACvDAoK,gBAAgB,CAAC;EAAEC,cAAc,EAAE;AAAlB,CAAD,CAAhB;IAGqB6B,YAAA,0BAAApT,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJiM,QAAQ,EAAE;IADN;;;;SAIRC,WAAA,YAAAA,YAAA,EAAc;IAAA,IAAA5P,WAAA,GACgB,KAAK3B,KADrB;MACF2L,IADE,GAAAhK,WAAA,CACFgK,IADE;MACIvK,OADJ,GAAAO,WAAA,CACIP,OADJ;IAGV,IAAG,CAACuK,IAAJ,EAAU;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE5B,OAAOuJ,IAAI,CAACC,MAAL,CAAYxB,GAAZ,CAAgB,UAACvJ,MAAD,EAAS8J,KAAT,EAAmB;MACtC,IAAIvJ,OAAO,CAACR,EAAR,IAAcC,MAAM,CAAC6D,SAAzB,EAAoC;QAChC,oBAAOvC,KAAA,CAAAC,aAAA,CAACqO,GAAD;UAAKvH,GAAG,YAAUyB,KAAlB;UAA2B9J,MAAM,EAAEA,MAAM,CAACA,MAA1C;UAAkD8E,KAAK,EAAE;YAAE,SAAO,MAAT;YAAiB8L,UAAU,EAAE;UAA7B;QAAzD,EAAP;MACH;IACJ,CAJM,CAAP;EAKH;SAEDC,iBAAA,YAAAA,kBAAkBrK,YAAlB,EAAgC;IAC5B,IAAMsK,WAAW,GAAG,KAAK3R,KAAL,CAAWoB,OAAX,GAAqB,KAAKpB,KAAL,CAAWoB,OAAX,CAAmBuQ,WAAxC,GAAsD,EAA1E;IACA,OAAOA,WAAW,CAACvH,GAAZ,CAAgB,UAACsF,UAAD,EAAa/E,KAAb,EAAuB;MAC1C,oBAAOxI,KAAA,CAAAC,aAAA,CAACqN,SAAD;QAAWC,UAAU,EAAEA,UAAvB;QAAmCxG,GAAG,kBAAgByB,KAAtD;QAA+DtD,YAAY,EAAEA;MAA7E,EAAP;IACH,CAFM,CAAP;EAGH;SAED6L,gBAAA,YAAAA,iBAAiBrS,MAAjB,EAAyB;IACrB,IAAIA,MAAM,CAACsS,UAAP,KAAsB,IAA1B,EAAgC;MAC5B,YAAUtS,MAAM,CAACsS,UAAjB,IAA8BtS,MAAM,CAACuS,SAAP,SAAuBvS,MAAM,CAACuS,SAA9B,GAA4C,EAA1E;IACH,CAFD,MAEO;MACH,OAAOvS,MAAM,CAACiL,QAAd;IACH;EACJ;SAEDrK,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IAAAqM,YAAA,GACyC,KAAK5R,KAD9C;MACG6R,WADH,GAAAD,YAAA,CACGC,WADH;MACgBzQ,OADhB,GAAAwQ,YAAA,CACgBxQ,OADhB;MACyB0Q,WADzB,GAAAF,YAAA,CACyBE,WADzB;IAGL,IAAI,CAAC1Q,OAAL,EAAc;MAAE,oBAAOe,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAEhC,IAAMuP,WAAW,GAAG,KAAK3R,KAAL,CAAWoB,OAAX,IAAsB,KAAKpB,KAAL,CAAWoB,OAAX,CAAmBuQ,WAA7D;IAEA,IAAM0B,aAAa,GAAG,CAACxB,WAAD,IAAgBA,WAAW,CAACG,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,OAA1E,GAAoF,OAA1G;IACA,IAAMwH,gBAAgB,GAAG,CAACxB,WAAD,IAAgBA,WAAW,CAACE,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,OAA1E,GAAoF,OAA7G;IAEA,IAAMzE,YAAY,GAAMgM,aAAN,qBAAmCC,gBAArD;IACA,IAAMjG,aAAa,GAAG,CAACyE,WAAD,IAAgBA,WAAW,CAACE,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAA/D,GAA0E,MAA1E,GAAmF,KAAzG;IAEA,oBACI3J,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,MAAT;QAAiB8D,aAAa,EAAbA;MAAjB,CADX;MAEI5G,SAAS,EAAC;IAFd,GAKQ,CAAC,CAACoL,WAAD,IAAgBA,WAAW,CAACG,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAAhE,kBACA3J,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE4N,QAAM,CAACC,QAAnB;MAA6B/M,SAAS,EAAC;IAAvC,GACM,KAAKyM,gBAAL,CAAsB9R,OAAO,CAAC4Q,MAA9B,CADN,CANR,eAWI7P,KAAA,CAAAC,aAAA,CAAC8P,GAAD;MAAKvM,KAAK,EAAE;QAAE8D,WAAW,EAAE;MAAf,CAAZ;MAAoChD,SAAS,EAAC;IAA9C,gBACItE,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,EAAT;MAAaC,EAAE,EAAE,EAAjB;MAAqBC,EAAE,EAAE;IAAzB,gBACInQ,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV,CAAZ;MAA+BR,SAAS,EAAC;IAAzC,GAEQ,CAAC,CAACqL,WAAD,IAAgBA,WAAW,CAACE,MAAZ,CAAmBlG,QAAnB,KAAgC1K,OAAO,CAAC4Q,MAAR,CAAelG,QAAhE,kBACA3J,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MAAQ5R,MAAM,EAAEO,OAAO,CAAC4Q,MAAxB;MAAgCc,WAAW,EAAE;IAA7C,EAHR,CADJ,eASI3Q,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAE+G,OAAO,EAAE,MAAX;QAAmBjD,WAAW,EAAE;MAAhC,CADX;MAEIhD,SAAS,EAAC;IAFd,GAIM,KAAKiL,iBAAL,EAJN,CATJ,EAiBQ,CAACC,WAAD,IAAgBvQ,OAAO,CAACkD,IAAR,iBAChBnC,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE8D,WAAW,EAAE;MAAf;IAAZ,gBACItH,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,2CADd;MAEIJ,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA,CAFlB;MAGI/K,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA,CAHlB;MAII3L,KAAK,EAAAa,QAAA,KAAO+M,QAAM,CAACE,YAAd,EAA+B;QAAEpM,YAAY,EAAZA;MAAF,CAA/B;IAJT,GAMMjG,OAAO,CAACkD,IANd,CADJ,CAlBR,CADJ,eAiCInC,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MACIC,EAAE,EAAE,CADR;MAEIzM,KAAK,EAAE;QAAE8L,UAAU,EAAE;MAAd,CAFX;MAGIhL,SAAS,EAAC;IAHd,GAKM,KAAK8K,WAAL,EALN,CAjCJ,CAXJ,CADJ;EAuDH;;EApGqC5O,SAAA;AAuG1C,IAAM4Q,QAAM,GAAG;EACXE,YAAY,EAAE;IACVC,KAAK,EAAE,MADG;IAEV5M,KAAK,EAAE,OAFG;IAGV,SAAO,MAHG;IAIVM,OAAO,EAAE,MAJC;IAKVF,QAAQ,EAAE,MALA;IAMVqG,UAAU,EAAE,UANF;IAOVjG,eAAe,EAAE;EAPP,CADH;EAUXkM,QAAQ,EAAE;IACN/J,WAAW,EAAE,MADP;IAEN4D,aAAa,EAAE,KAFT;IAGNvG,KAAK,EAAE,oBAHD;IAINI,QAAQ,EAAE;EAJJ;AAVC,CAAf;IC7GqByM,SAAA,0BAAA9T,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJiM,QAAQ,EAAE;IADN;;;;SAIR7P,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAE,WAAA,GACsD,KAAK3B,KAD3D;MACGuL,KADH,GAAA5J,WAAA,CACG4J,KADH;MACUI,IADV,GAAAhK,WAAA,CACUgK,IADV;MACgBkG,WADhB,GAAAlQ,WAAA,CACgBkQ,WADhB;MAC6BzQ,OAD7B,GAAAO,WAAA,CAC6BP,OAD7B;MACsC0Q,WADtC,GAAAnQ,WAAA,CACsCmQ,WADtC;IAGL,IAAI,CAAC1Q,OAAL,EAAc;MAAE,oBAAOe,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAEhC,oBACID,KAAA,CAAAC,aAAA;MAAKqE,SAAS,EAAC;IAAf,gBAEItE,KAAA,CAAAC,aAAA,CAACsM,aAAD;MACIU,WAAW,EAAEyC,WAAW,GAAGA,WAAW,CAACjF,OAAf,GAAyB,IADrD;MAEIA,OAAO,EAAExL,OAAO,CAACwL;IAFrB,EAFJ,EAQQxL,OAAO,CAAC4Q,MAAR,CAAelG,QAAf,IAA2BP,KAAK,CAAC/K,QAAjC,gBACA2B,KAAA,CAAAC,aAAA,CAACiP,OAAD;MACI1F,IAAI,EAAEA,IADV;MAEIJ,KAAK,EAAEA,KAFX;MAGIsG,WAAW,EAAEA,WAHjB;MAIIzQ,OAAO,EAAEA,OAJb;MAKI0Q,WAAW,EAAEA;IALjB,EADA,gBAQA3P,KAAA,CAAAC,aAAA,CAAC6Q,YAAD;MACItH,IAAI,EAAEA,IADV;MAEIJ,KAAK,EAAEA,KAFX;MAGIsG,WAAW,EAAEA,WAHjB;MAIIzQ,OAAO,EAAEA,OAJb;MAKI0Q,WAAW,EAAEA;IALjB,EAhBR,CADJ;EA4BH;;EAtCgCnP,SAAA;ICFhBiR,OAAA,0BAAAzI,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJC,OAAO,EAAE;IADL;;;;SAIR7D,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACL,oBACIpD,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAE;QAAEyB,OAAO,EAAE,UAAX;QAAuBsF,OAAO,EAAE;MAAhC,CADX;MAEIrG,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA;IAHlB,gBAMInD,KAAA,CAAAC,aAAA;MACIuD,KAAK,EAAEkO,QAAM,CAACC,WADlB;MAEI3F,GAAG,EAAE,KAAKnO,KAAL,CAAW6P,IAAX,GAAkB,KAAK7P,KAAL,CAAW6P,IAAX,CAAgBxL,IAAlC,GAAyC,EAFlD;MAGI6J,GAAG,EAAE6F,GAAG,CAACC,eAAJ,CAAoB,KAAKhU,KAAL,CAAW6P,IAA/B;IAHT,EANJ,EAaQ,KAAKxK,KAAL,CAAWC,OAAX,iBACAnD,KAAA,CAAAC,aAAA,CAAC6R,kBAAD;MACItO,KAAK,EAAEkO,QAAM,CAACK,SADlB;MAEI9N,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACvF,KAAL,CAAWmU,QAAX,IAAuB5O,MAAI,CAACvF,KAAL,CAAWmU,QAAX,EAA7B;MAAA;IAFb,EAdR,CADJ;EAuBH;;EA7BgChS,KAAK,CAACQ,SAAA;AAgC3C,IAAMkR,QAAM,GAAG;EACXC,WAAW,EAAE;IACT7M,MAAM,EAAE,OADC;IAETsC,KAAK,EAAE,OAFE;IAGTxC,MAAM,EAAE,mBAHC;IAITM,YAAY,EAAE,KAJL;IAKT0I,SAAS,EAAE,OALF;IAMTrD,OAAO,EAAE;EANA,CADF;EASXwH,SAAS,EAAE;IACPvK,QAAQ,EAAE,UADH;IAEP6D,MAAM,EAAE,MAFD;IAGP4G,KAAK,EAAE,MAHA;IAIP7K,KAAK,EAAE,KAJA;IAKPpC,MAAM,EAAE;EALD;AATA,CAAf;IChCqBkN,SAAA,0BAAAlJ,gBAAA;;;;;;SACjBmJ,WAAA,YAAAA,YAAA,EAAc;IAAA,IAAA5S,KAAA;IACV,OAAO,KAAK1B,KAAL,CAAWiE,KAAX,CAAiBmG,GAAjB,CAAqB,UAACyF,IAAD,EAAOlF,KAAP,EAAiB;MACzC,oBACIxI,KAAA,CAAAC,aAAA,CAACwR,OAAD;QACI/D,IAAI,EAAEA,IADV;QAEI3G,GAAG,aAAWyB,KAFlB;QAGIwJ,QAAQ,EAAE,SAAAA,SAAA;UAAA,OAAMzS,KAAI,CAAC1B,KAAL,CAAWmU,QAAX,IAAuBzS,KAAI,CAAC1B,KAAL,CAAWmU,QAAX,CAAoBxJ,KAApB,CAA7B;QAAA;MAHd,EADJ;IAOH,CARM,CAAP;EASH;SAEDlJ,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,mBAAT;QAA8BE,WAAW,EAAE;MAA3C;IAAZ,GACM,KAAK6K,WAAL,EADN,CADJ;EAKH;;EAnBgCnS,KAAK,CAACQ,SAAA;ICAtB4R,WAAA,0BAAApJ,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJC,OAAO,EAAE,KADL;MAEJrB,KAAK,EAAE;IAFH;;;;SAKRuQ,QAAA,YAAAA,SAASzU,KAAT,EAAgB;IACZ,IAAIkE,KAAK,GAAG,EAAZ;IACA,IAAMwQ,OAAO,MAAAC,MAAA,CAAOC,KAAK,CAAC5U,KAAK,CAAC6H,MAAN,CAAa3D,KAAb,CAAmBE,MAApB,CAAL,CAAiCyQ,IAAjC,EAAP,CAAb;IAEAH,OAAO,CAACrK,GAAR,CAAY,UAAClG,CAAD,EAAIyG,KAAJ,EAAc;MACtB,IAAMkF,IAAI,GAAG9P,KAAK,CAAC6H,MAAN,CAAa3D,KAAb,CAAmB0G,KAAnB,CAAb;MACA,IAAIkF,IAAJ,EAAU;QAAE5L,KAAK,CAACuG,IAAN,CAAWqF,IAAX;MAAkB;IACjC,CAHD;IAKA,KAAK7P,KAAL,CAAW6U,aAAX,IAA6B,KAAK7U,KAAL,CAAW6U,aAAX,CAAyB5Q,KAAzB,CAA7B;EACH;SAEDxC,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACL,oBACIpD,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,UADd;MAEIqO,OAAO,EAAC,qBAFZ;MAGInP,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAHX,gBAMI9E,KAAA,CAAAC,aAAA;MACI2S,OAAO,EAAC,OADZ;MAEInU,EAAE,EAAC;IAFP,gBAKIuB,KAAA,CAAAC,aAAA,CAAC4S,iBAAD;MACI3O,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CADlB;MAEIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGIK,KAAK,EAAAa,QAAA,KACE;QAAEW,MAAM,EAAE,SAAV;QAAqBwC,QAAQ,EAAE,UAA/B;QAA2C6D,MAAM,EAAE,MAAnD;QAA2D4G,KAAK,EAAE,MAAlE;QAA0ElN,QAAQ,EAAE;MAApF,CADF,EAEE;QAAEJ,KAAK,EAAE,KAAKzB,KAAL,CAAWC,OAAX,GAAqB,SAArB,GAAiC;MAA1C,CAFF;IAHT,EALJ,CANJ,eAsBInD,KAAA,CAAAC,aAAA;MACI6S,QAAQ,MADZ;MAEIrU,EAAE,EAAC,OAFP;MAGIsU,MAAM,EAAC,kCAHX;MAIIvP,KAAK,EAAE;QAAEwP,UAAU,EAAE;MAAd,CAJX;MAKIhP,IAAI,EAAC,MALT;MAMImC,QAAQ,EAAE,SAAAA,SAACC,CAAD;QAAA,OAAOhD,MAAI,CAACiP,QAAL,CAAcjM,CAAd,CAAP;MAAA;IANd,EAtBJ,CADJ;EAkCH;;EArDoCpG,KAAK,CAACQ,SAAA;ICM1ByS,WAAA,0BAAAjK,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACNG,KAAK,EAAE,EADD;MAENvB,KAAK,EAAE;IAFD;;;;SAKRkQ,QAAA,YAAAA,SAASxJ,KAAT,EAAgB;IAAA,IACR1G,KADQ,GACE,KAAKoB,KADP,CACRpB,KADQ;IAEdA,KAAK,CAACoR,MAAN,CAAa1K,KAAb,EAAoB,CAApB;IACA,KAAKrE,QAAL,CAAc;MAAErC,KAAK,EAALA;IAAF,CAAd;EACD;SAED4D,YAAA,YAAAA,aAAa9H,KAAb,EAAoB;IAClB,KAAKuG,QAAL,CAAc;MAACd,KAAK,EAAEzF,KAAK,CAAC6H,MAAN,CAAapC;IAArB,CAAd;IAEA8P,UAAQ,CAAC,KAAKtV,KAAL,CAAWuL,KAAZ,EAAmB,KAAKvL,KAAL,CAAWyD,MAA9B,CAAR;EACD;SAED2H,YAAA,YAAAA,aAAarL,KAAb,EAAoB;IAClBA,KAAK,CAACoJ,cAAN;IADkB,IAGVlF,KAHU,GAGA,KAAKoB,KAHL,CAGVpB,KAHU;IAIlB,IAAMK,IAAI,GAAG,KAAKe,KAAL,CAAWG,KAAX,CAAiB6F,IAAjB,EAAb;IAEA,IAAI/G,IAAI,CAACH,MAAL,GAAc,CAAd,IAAmBF,KAAK,CAACE,MAAN,GAAe,CAAtC,EAAyC;MACvCoR,aAAW,CACT,KAAKvV,KAAL,CAAWuL,KADF,EAET,KAAKvL,KAAL,CAAWyD,MAFF,EAGT;QAAEa,IAAI,EAAJA,IAAF;QAAQL,KAAK,EAALA;MAAR,CAHS,EAIT,UAACtD,IAAD,EAAU,EAJD,CAAX;IAMD;IAED,KAAK2F,QAAL,CAAc;MAAEd,KAAK,EAAE,EAAT;MAAavB,KAAK,EAAE;IAApB,CAAd;EACD;SAEDxC,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACP,oBACEpD,KAAA,CAAAC,aAAA;MACExB,EAAE,EAAC,oBADL;MAEE+E,KAAK,EAAE6P,QAAM,CAACC,oBAFhB;MAGEhP,SAAS,EAAC;IAHZ,gBAKEtE,KAAA,CAAAC,aAAA,CAACiS,SAAD;MAASpQ,KAAK,EAAE,KAAKoB,KAAL,CAAWpB,KAA3B;MAAkCkQ,QAAQ,EAAE,SAAAA,SAACjQ,CAAD;QAAA,OAAOqB,MAAI,CAAC4O,QAAL,CAAcjQ,CAAd,CAAP;MAAA;IAA5C,EALF,eAOE/B,KAAA,CAAAC,aAAA,CAACmS,WAAD;MAAaM,aAAa,EAAE,SAAAA,cAAC5Q,KAAD;QAAA,OAAWsB,MAAI,CAACe,QAAL,CAAc;UAAErC,KAAK,EAALA;QAAF,CAAd,CAAX;MAAA;IAA5B,EAPF,eASE9B,KAAA,CAAAC,aAAA;MAAMgH,QAAQ,EAAE,KAAKgC,YAAL,CAAkB3I,IAAlB,CAAuB,IAAvB,CAAhB;MAA8CgE,SAAS,EAAC;IAAxD,gBACEtE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE6P,QAAM,CAACE,cAAnB;MAAmCjP,SAAS,EAAC;IAA7C,gBACEtE,KAAA,CAAAC,aAAA,CAACqG,aAAD;MACEjD,KAAK,EAAE,KAAKH,KAAL,CAAWG,KADpB;MAEE2C,KAAK,EAAC,mBAFR;MAGEN,YAAY,EAAE,KAAKA,YAAL,CAAkBpF,IAAlB,CAAuB,IAAvB,CAHhB;MAIE2G,QAAQ,EAAE,KAAKgC,YAAL,CAAkB3I,IAAlB,CAAuB,IAAvB;IAJZ,EADF,eAQEN,KAAA,CAAAC,aAAA,CAACgD,MAAD;MACEK,IAAI,EAAC,MADP;MAEEU,IAAI,EAAC,QAFP;MAGER,KAAK,EAAE;QAAEgE,QAAQ,EAAE,UAAZ;QAAwB6D,MAAM,EAAE,MAAhC;QAAwC4G,KAAK,EAAE;MAA/C;IAHT,EARF,CADF,CATF,CADF;EA4BD;;EAjEoCjS,KAAK,CAACQ,SAAA;AAoE/C,IAAM6S,QAAM,GAAG;EACbC,oBAAoB,EAAE;IACpB9L,QAAQ,EAAE,UADU;IAEpB6D,MAAM,EAAE,KAFY;IAGpBjE,KAAK,EAAE,MAHa;IAIpBjC,eAAe,EAAE;EAJG,CADT;EAOboO,cAAc,EAAE;IACdzF,SAAS,EAAE,MADG;IAEdhC,UAAU,EAAE,MAFE;IAGdZ,aAAa,EAAE;EAHD;AAPH,CAAf;IChEqBsI,QAAA,0BAAA9V,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJuQ,QAAQ,EAAE;IADN;;;;SAIRjO,iBAAA,YAAAA,kBAAA,EAAoB;IAAA,IAAApC,MAAA;IAChBsQ,UAAU,CAAC,YAAM;MACbtQ,MAAI,CAACe,QAAL,CAAc;QAAEsP,QAAQ,EAAE;MAAZ,CAAd;IACH,CAFS,EAEP,IAFO,CAAV;EAGH;SAEDE,YAAA,YAAAA,aAAA,EAAe;IAAA,IAAAnU,WAAA,GACwB,KAAK3B,KAD7B;MACH+V,UADG,GAAApU,WAAA,CACHoU,UADG;MACS3J,UADT,GAAAzK,WAAA,CACSyK,UADT;IAEX,IAAM4J,MAAM,GAAGD,UAAU,CAAC3J,UAAD,CAAV,GAAyB2J,UAAU,CAAC3J,UAAD,CAAnC,GAAkD,EAAjE;IAEA,IAAI,KAAKpM,KAAL,CAAWiW,cAAf,EAA+B;MAC3B,OAAO,KAAKjW,KAAL,CAAWiW,cAAX,CAA0BD,MAA1B,CAAP;IACH;IAED,OAAOA,MAAM,CAAC5L,GAAP,CAAW,UAAC8L,KAAD,EAAQvL,KAAR,EAAkB;MAChC,oBACIxI,KAAA,CAAAC,aAAA;QACI8G,GAAG,aAAWyB,KADlB;QAEIhF,KAAK,EAAE;UAAEmB,KAAK,EAAE0J,aAAa,CAAC0F,KAAD,CAAtB;UAA+B9O,OAAO,EAAE,KAAxC;UAA+CqC,WAAW,EAAE;QAA5D;MAFX,GAIQyM,KAJR,mBADJ;IAQH,CATM,CAAP;EAUH;SAEDC,cAAA,YAAAA,eAAA,EAAiB;IAAA,IAAAzL,MAAA;IAAA,IAAAkH,YAAA,GAC2B,KAAK5R,KADhC;MACLoW,QADK,GAAAxE,YAAA,CACLwE,QADK;MACKnK,KADL,GAAA2F,YAAA,CACK3F,KADL;MACYG,UADZ,GAAAwF,YAAA,CACYxF,UADZ;IAEb,IAAMT,IAAI,GAAGM,KAAK,IAAIA,KAAK,CAACG,UAAD,CAA3B;IACA,IAAMwI,IAAI,GAAGyB,MAAM,CAACzB,IAAP,CAAYwB,QAAZ,CAAb;IAEA,OAAOxB,IAAI,CAACxK,GAAL,CAAS,UAAClB,GAAD,EAAMyB,KAAN,EAAgB;MAC5B,IAAMvJ,OAAO,GAAGgV,QAAQ,CAAClN,GAAD,CAAxB;MACA,IAAMoN,cAAc,GAAG3L,KAAK,IAAI,CAAT,GAAa,IAAb,GAAoBiK,IAAI,CAACjK,KAAK,GAAG,CAAT,CAA/C;MACA,IAAM4L,cAAc,GAAG5L,KAAK,IAAIiK,IAAI,CAACzQ,MAAL,GAAc,CAAvB,GAA2B,IAA3B,GAAkCyQ,IAAI,CAACjK,KAAK,GAAG,CAAT,CAA7D;MAEA,IAAID,MAAI,CAAC1K,KAAL,CAAWwW,mBAAf,EAAoC;QAChC,oBACIrU,KAAA,CAAAC,aAAA;UAAK8G,GAAG,eAAayB;QAArB,GAEQD,MAAI,CAAC1K,KAAL,CAAWwW,mBAAX,CACI9L,MAAI,CAAC1K,KADT,EAEI2L,IAFJ,EAGIyK,QAAQ,CAACE,cAAD,CAHZ,EAIIlV,OAJJ,EAKIgV,QAAQ,CAACG,cAAD,CALZ,CAFR,CADJ;MAaH;MAED,oBACIpU,KAAA,CAAAC,aAAA,CAACuR,SAAD;QACIzK,GAAG,eAAayB,KADpB;QAEIY,KAAK,EAAEb,MAAI,CAAC1K,KAFhB;QAGI2L,IAAI,EAAEA,IAHV;QAIIvK,OAAO,EAAEA,OAJb;QAKIyQ,WAAW,EAAEuE,QAAQ,CAACE,cAAD,CALzB;QAMIxE,WAAW,EAAEsE,QAAQ,CAACG,cAAD;MANzB,EADJ;IAUH,CA/BM,CAAP;EAgCH;SAEDE,cAAA,YAAAA,eAAA,EAAiB;IACbC,aAAa,CAACD,cAAd,CAA6B;MACzBb,QAAQ,EAAE,KAAKvQ,KAAL,CAAWuQ,QADI;MAEzBe,WAAW,EAAE;IAFY,CAA7B;EAIH;SAEDhG,kBAAA,YAAAA,mBAAA,EAAqB;IAGjB,IAAG,CAACzE,CAAC,CAAC0K,OAAF,CAAU,KAAK5W,KAAL,CAAWoW,QAArB,CAAJ,EAAoC;MAChC,KAAKK,cAAL;IACH;EACJ;SAEDhV,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAoV,YAAA,GACgC,KAAK7W,KADrC;MACGiM,KADH,GAAA4K,YAAA,CACG5K,KADH;MACUV,KADV,GAAAsL,YAAA,CACUtL,KADV;MACiBa,UADjB,GAAAyK,YAAA,CACiBzK,UADjB;IAEL,IAAMT,IAAI,GAAGM,KAAK,IAAIA,KAAK,CAACG,UAAD,CAA3B;IAEA,IAAGb,KAAK,KAAK,IAAb,EAAmB;MACf,oBAAOpJ,KAAA,CAAAC,aAAA,CAACiM,OAAD,OAAP;IACH;IAED,IAAG9C,KAAK,KAAKuL,SAAb,EAAwB;MACpB,oBAAO3U,KAAA,CAAAC,aAAA,CAAC4L,QAAD,OAAP;IACH;IAED,IAAGzC,KAAK,IAAIU,KAAK,KAAK,IAAnB,IAA2BC,CAAC,CAAC0K,OAAF,CAAU3K,KAAV,CAA9B,EAAgD;MAC5C,oBAAO9J,KAAA,CAAAC,aAAA,CAACmM,OAAD,OAAP;IACH;IAED,oBACIpM,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,cADd;MAEId,KAAK,EAAE;QAAE+G,OAAO,EAAE,MAAX;QAAmBO,SAAS,EAAE,OAA9B;QAAuC3F,eAAe,EAAE;MAAxD;IAFX,GAMQ,KAAKtH,KAAL,CAAW+W,gBAAX,GACA,KAAK/W,KAAL,CAAW+W,gBAAX,CAA4BpL,IAA5B,CADA,gBAEAxJ,KAAA,CAAAC,aAAA,CAACqL,KAAD;MAAO9B,IAAI,EAAEA;IAAb,EARR,eAYIxJ,KAAA,CAAAC,aAAA;MACIxB,EAAE,EAAC,mBADP;MAEI+E,KAAK,EAAEqR,QAAM,CAACC,aAFlB;MAGIxQ,SAAS,EAAC;IAHd,gBAMItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV,CAAZ;MAAgCR,SAAS,EAAC;IAA1C,EANJ,EAQM,KAAK0P,cAAL,EARN,EAUM,KAAKL,YAAL,EAVN,eAYI3T,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV,CAAZ;MAAgCR,SAAS,EAAC;IAA1C,EAZJ,CAZJ,EA6BQ,KAAKzG,KAAL,CAAWkX,oBAAX,GACA,KAAKlX,KAAL,CAAWkX,oBAAX,CAAgC,KAAKlX,KAArC,EAA4CoM,UAA5C,CADA,gBAEAjK,KAAA,CAAAC,aAAA,CAACgT,WAAD;MAAa7J,KAAK,EAAE,KAAKvL,KAAzB;MAAgCyD,MAAM,EAAE2I;IAAxC,EA/BR,CADJ;EAqCH;;EA1IiCzJ,SAAA;AA4ItC,IAAMqU,QAAM,GAAG;EACXC,aAAa,EAAE;IACXtN,QAAQ,EAAE,UADC;IAEX+D,GAAG,EAAE,KAFM;IAGXzG,MAAM,EAAE,MAHG;IAIXsC,KAAK,EAAE,MAJI;IAKX2D,QAAQ,EAAE,QALC;IAMXC,SAAS,EAAE,QANA;IAOX7F,eAAe,EAAE;EAPN;AADJ,CAAf;ICnJqB6P,MAAA,0BAAAtX,UAAA;;;;;;;;UACjBwF,KAAA,GAAQ;MACJiM,QAAQ,EAAE;IADN;;;;SAIRpQ,cAAA,YAAAA,eAAA,EAAiB;IACbkW,cAAY,CACR,KAAKpX,KAAL,CAAWuL,KADH,EAER,KAAKvL,KAAL,CAAW2L,IAAX,CAAgB/K,EAFR,EAGR,KAAKZ,KAAL,CAAWa,MAAX,CAAkBiL,QAHV,CAAZ;EAKH;SAEDoH,gBAAA,YAAAA,iBAAiBrS,MAAjB,EAAyB;IACrB,IAAIA,MAAM,CAACsS,UAAP,KAAsB,IAA1B,EAAgC;MAC5B,YAAUtS,MAAM,CAACsS,UAAjB,IAA8BtS,MAAM,CAACuS,SAAP,SAAuBvS,MAAM,CAACuS,SAA9B,GAA4C,EAA1E;IACH,CAFD,MAEO;MACH,OAAOvS,MAAM,CAACiL,QAAd;IACH;EACJ;SAEDrK,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IAAA5D,WAAA,GAC2B,KAAK3B,KADhC;MACGa,MADH,GAAAc,WAAA,CACGd,MADH;MACW8K,IADX,GAAAhK,WAAA,CACWgK,IADX;MACiBJ,KADjB,GAAA5J,WAAA,CACiB4J,KADjB;IAGL,IAAI,CAAC1K,MAAD,IAAW,CAAC8K,IAAhB,EAAsB;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAHnC,IAKGiV,KALH,GAKa1L,IALb,CAKG0L,KALH;IAOL,oBACIlV,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,qBADd;MAEIJ,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA,CAFlB;MAGI/K,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEgL,QAAQ,EAAE;QAAZ,CAAd,CAAN;MAAA;IAHlB,gBAKInP,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,kBADd;MAEId,KAAK,EAAE;QAAEyB,OAAO,EAAE,KAAX;QAAkBH,MAAM,EAAE;MAA1B;IAFX,gBAII9E,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MAAQ5R,MAAM,EAAEA;IAAhB,EAJJ,CALJ,eAYIsB,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,gBADd;MAEId,KAAK,EAAE;QAAE8D,WAAW,EAAE,MAAf;QAAuBxC,MAAM,EAAE,MAA/B;QAAuC0C,QAAQ,EAAE,UAAjD;QAA6D+D,GAAG,EAAE,MAAlE;QAA0ExG,QAAQ,EAAE;MAApF;IAFX,GAIM,KAAKgM,gBAAL,CAAsBrS,MAAtB,CAJN,CAZJ,EAoBQ,KAAKwE,KAAL,CAAWiM,QAAX,IAAwB/F,KAAK,CAAC/K,QAAN,KAAmB6W,KAAK,CAACvL,QAAjD,IAA+DjL,MAAM,CAACiL,QAAP,KAAoBuL,KAAK,CAACvL,QAAzF,iBACA3J,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,gBADd;MAEId,KAAK,EAAE;QAAE,SAAO,OAAT;QAAkBsB,MAAM,EAAE,KAA1B;QAAiC0C,QAAQ,EAAE,UAA3C;QAAuD6D,MAAM,EAAE;MAA/D;IAFX,gBAIIrL,KAAA,CAAAC,aAAA,CAACgD,MAAD;MACIM,KAAK,EAAC,QADV;MAEID,IAAI,EAAC,QAFT;MAGIW,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACrE,cAAL,EAAN;MAAA;IAHb,EAJJ,CArBR,CADJ;EAmCH;;EA/D+ByB,SAAA;ICJf2U,MAAA,0BAAAnM,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJqC,OAAO,EAAE;IADL;;;;SAIRjG,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IACL,oBACIpD,KAAA,CAAAC,aAAA;MACIiE,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEoB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CADlB;MAEInB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEoB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGItB,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACvF,KAAL,CAAWoG,OAAX,IAAsBb,MAAI,CAACvF,KAAL,CAAWoG,OAAX,EAA5B;MAAA,CAHb;MAIIT,KAAK,EAAAa,QAAA,KAAO+Q,QAAM,CAAClN,MAAd,EAAyB;QAAE/C,eAAe,EAAE,KAAKjC,KAAL,CAAWqC,OAAX,GAAqB,SAArB,GAAiC;MAApD,CAAzB;IAJT,GAMK,KAAK1H,KAAL,CAAWsE,IANhB,CADJ;EAUH;;EAhB+BnC,KAAK,CAACQ,SAAA;AAmB1C,IAAM4U,QAAM,GAAG;EACblN,MAAM,EAAE;IACNhD,YAAY,EAAE,MADR;IAEND,OAAO,EAAE,UAFH;IAGND,MAAM,EAAE,SAHF;IAIND,QAAQ,EAAE;EAJJ;AADK,CAAf;ICdqBsQ,UAAA,0BAAArM,gBAAA;;;;;;;;UACnB9F,KAAA,GAAQ;MACNG,KAAK,EAAE,EADD;MAENiS,MAAM,EAAE;IAFF;;;;SAKR5P,YAAA,YAAAA,aAAarC,KAAb,EAAoB;IAClB,KAAKc,QAAL,CAAc;MAAEd,KAAK,EAALA;IAAF,CAAd;EACD;SAEDkS,SAAA,YAAAA,UAAUrT,IAAV,EAAgB;IAAA,IAAAkB,MAAA;IACdoS,WAAS,CACP,KAAK3X,KAAL,CAAWuL,KADJ,EAEP,KAAKvL,KAAL,CAAW2L,IAAX,CAAgB/K,EAFT,EAGPyD,IAHO,EAIP,YAAM;MACJkB,MAAI,CAACe,QAAL,CAAc;QAAEd,KAAK,EAAE;MAAT,CAAd;MACAD,MAAI,CAACqS,SAAL;IACD,CAPM,CAAT;EASD;SAEDC,WAAA,YAAAA,YAAYJ,MAAZ,EAAoB;IAClB,IAAMK,SAAS,GAAG,EAAlB;IACAL,MAAM,CAACrN,GAAP,CAAW,UAAA2N,KAAK,EAAI;MAClBD,SAAS,CAACtN,IAAV,CAAeuN,KAAK,CAACjM,QAArB;IACD,CAFD;IAGA,KAAKxF,QAAL,CAAc;MAAEmR,MAAM,EAAEK;IAAV,CAAd;EACD;SAEDF,SAAA,YAAAA,UAAA,EAAY;IAAA,IAAAlN,MAAA;IACVsN,gBAAc,CACZ,KAAKhY,KAAL,CAAWuL,KADC,EAEZ,KAAKvL,KAAL,CAAW2L,IAAX,CAAgB/K,EAFJ,EAGZ,UAACA,EAAD,EAAK6W,MAAL;MAAA,OAAgB/M,MAAI,CAACmN,WAAL,CAAiBJ,MAAjB,CAAhB;IAAA,CAHY,EAIZ,YAAM,EAJM,CAAd;EAMD;SAED7M,YAAA,YAAAA,aAAaP,MAAb,EAAqB;IAAA,IAAAW,MAAA;IACnB,oBAAO7I,KAAA,CAAAC,aAAA,CAACkV,MAAD;MAAQhT,IAAI,EAAE+F,MAAd;MAAsBjE,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM4E,MAAI,CAAC0M,SAAL,CAAerN,MAAf,CAAN;MAAA;IAA/B,EAAP;EACD;SAED5I,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAwW,MAAA;IACP,oBACE9V,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEuS,YAAY,EAAE;MAAhB;IAAZ,gBAEE/V,KAAA,CAAAC,aAAA,CAACyH,YAAD;MACElE,KAAK,EAAE;QAAE4D,KAAK,EAAE;MAAT,CADT;MAEEpB,KAAK,EAAC,iBAFR;MAGE3C,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAHpB;MAIEwE,OAAO,EAAE,KAAK3E,KAAL,CAAWoS,MAJtB;MAKEpP,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM4P,MAAI,CAACL,SAAL,EAAN;MAAA,CALX;MAME/P,YAAY,EAAE,SAAAA,aAACrC,KAAD;QAAA,OAAWyS,MAAI,CAACpQ,YAAL,CAAkBrC,KAAlB,CAAX;MAAA,CANhB;MAOEoF,YAAY,EAAE,SAAAA,aAACP,MAAD;QAAA,OAAY4N,MAAI,CAACrN,YAAL,CAAkBP,MAAlB,CAAZ;MAAA;IAPhB,EAFF,CADF;EAeD;;EA3DqClI,KAAK,CAACQ,SAAA;ICDzBwV,UAAA,0BAAAhN,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJ+S,SAAS,EAAE,KADP;MAEJ9S,OAAO,EAAE;IAFL;;;;SAKR+S,gBAAA,YAAAA,iBAAiBzM,MAAjB,EAAyB;IAAA,IAAArG,MAAA;IACrB,OAAOqG,MAAM,CAACxB,GAAP,CAAW,UAACoH,UAAD,EAAa7G,KAAb,EAAuB;MACrC,oBACIxI,KAAA,CAAAC,aAAA,CAAC+U,MAAD;QACIjO,GAAG,cAAYyB,KADnB;QAEI9J,MAAM,EAAE2Q,UAAU,CAAC3Q,MAFvB;QAGI0K,KAAK,EAAEhG,MAAI,CAACvF,KAAL,CAAWuL,KAHtB;QAIII,IAAI,EAAEpG,MAAI,CAACvF,KAAL,CAAW2L;MAJrB,EADJ;IAQH,CATM,CAAP;EAUH;SAEDlK,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAiJ,MAAA;IAAA,IAAA/I,WAAA,GACmB,KAAK3B,KADxB;MACGuL,KADH,GAAA5J,WAAA,CACG4J,KADH;MACUI,IADV,GAAAhK,WAAA,CACUgK,IADV;IAGL,IAAI,CAACA,IAAL,EAAW;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE7B,oBACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE2S,SAAS,EAAE;MAAb;IAAZ,gBACInW,KAAA,CAAAC,aAAA;MACIiE,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMqE,MAAI,CAACpE,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CADlB;MAEIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMmE,MAAI,CAACpE,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGIc,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMsE,MAAI,CAACpE,QAAL,CAAc;UAAE8R,SAAS,EAAE,CAAC1N,MAAI,CAACrF,KAAL,CAAW+S;QAAzB,CAAd,CAAN;MAAA,CAHb;MAIIzS,KAAK,EAAE,KAAKN,KAAL,CAAWC,OAAX,GAAqB;QAAEgC,eAAe,EAAE,SAAnB;QAA8BH,MAAM,EAAE;MAAtC,CAArB,GAAyE,EAJpF;MAKIV,SAAS,EAAC;IALd,gBAOItE,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,kCADd;MAEId,KAAK,EAAE;QAAEuB,QAAQ,EAAE,MAAZ;QAAoBE,OAAO,EAAE,MAA7B;QAAqCkG,UAAU,EAAE;MAAjD;IAFX,YAPJ,EAcQ,KAAKjI,KAAL,CAAW+S,SAAX,gBACAjW,KAAA,CAAAC,aAAA,CAACmW,YAAD;MAAc5S,KAAK,EAAE6S,QAAM,CAACC;IAA5B,EADA,gBAEAtW,KAAA,CAAAC,aAAA,CAACsW,YAAD;MAAc/S,KAAK,EAAE6S,QAAM,CAACC;IAA5B,EAhBR,CADJ,EAsBQ,CAAC,KAAKpT,KAAL,CAAW+S,SAAZ,iBACAjW,KAAA,CAAAC,aAAA,2BACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,EADJ,EAGM,KAAKoR,gBAAL,CAAsB1M,IAAI,CAACC,MAA3B,CAHN,eAKIzJ,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,EALJ,EAQQsE,KAAK,IAAII,IAAT,IAAiBJ,KAAK,CAAC/K,QAAN,KAAmBmL,IAAI,CAAC0L,KAAL,CAAWvL,QAA/C,iBACA3J,KAAA,CAAAC,aAAA,CAACoV,UAAD;MAAYjM,KAAK,EAAEA,KAAnB;MAA0BI,IAAI,EAAEA;IAAhC,EATR,CAvBR,CADJ;EAuCH;;EA/DmCxJ,KAAK,CAACQ,SAAA;AAkE9C,IAAM6V,QAAM,GAAG;EACXC,YAAY,EAAE;IACV,SAAO,OADG;IAEV9O,QAAQ,EAAE,UAFA;IAGV6D,MAAM,EAAE,MAHE;IAIV4G,KAAK,EAAE;EAJG;AADH,CAAf;ICvEqBuE,WAAA,0BAAAxN,gBAAA;;;;;;SACjB1J,MAAA,YAAAA,OAAA,EAAS;IAAA,IACGiO,UADH,GACkB,KAAK1P,KADvB,CACG0P,UADH;IAGL,IAAI,CAACA,UAAL,EAAiB;MAAE,oBAAOvN,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAEnC,oBACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEiT,QAAM,CAACC,SAAnB;MAA8BpS,SAAS,EAAC;IAAxC,gBAEItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsI,UAAU,EAAE;MAAd;IAAZ,EAFJ,eAII9L,KAAA,CAAAC,aAAA;MACI+L,GAAG,EAAEuB,UAAU,CAAC9O,EADpB;MAEI+E,KAAK,EAAEiT,QAAM,CAACE,KAFlB;MAGI5K,GAAG,EAAEwB,UAAU,CAACG,IAHpB;MAIIpJ,SAAS,EAAC,cAJd;MAKI7F,EAAE,aAAW8O,UAAU,CAAC9O;IAL5B,EAJJ,CADJ;EAeH;;EArBkCuB,KAAK,CAACQ,SAAA;AAwB7C,IAAMiW,QAAM,GAAG;EACXC,SAAS,EAAE;IACPlP,QAAQ,EAAE,UADH;IAEPJ,KAAK,EAAE,iBAFA;IAGPxC,MAAM,EAAE,iBAHD;IAIP2F,OAAO,EAAE,cAJF;IAKPvF,MAAM,EAAE;EALD,CADA;EAQX2R,KAAK,EAAE;IACHpL,GAAG,EAAE,KADF;IAEHnE,KAAK,EAAE,MAFJ;IAGHtC,MAAM,EAAE,MAHL;IAIH0C,QAAQ,EAAE,UAJP;IAKHoG,SAAS,EAAE;EALR;AARI,CAAf;ICpBqBgJ,MAAA,0BAAA5N,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJ+S,SAAS,EAAE,IADP;MAEJ9S,OAAO,EAAE;IAFL;;;;SAKR0T,YAAA,YAAAA,aAAarH,WAAb,EAA0B;IACtB,OAAOA,WAAW,CAACvH,GAAZ,CAAgB,UAACsF,UAAD,EAAa/E,KAAb,EAAuB;MAC1C,oBAAOxI,KAAA,CAAAC,aAAA,CAACuW,WAAD;QAAWzP,GAAG,cAAYyB,KAA1B;QAAmC+E,UAAU,EAAEA;MAA/C,EAAP;IACH,CAFM,CAAP;EAGH;SAEDjO,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IACGoG,IADH,GACY,KAAK3L,KADjB,CACG2L,IADH;IAGL,IAAI,CAACA,IAAL,EAAW;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE7B,oBACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE2S,SAAS,EAAE;MAAb,CAAZ;MAAgD7R,SAAS,EAAC;IAA1D,gBACItE,KAAA,CAAAC,aAAA;MACIiE,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CADlB;MAEIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGIc,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACe,QAAL,CAAc;UAAE8R,SAAS,EAAE,CAAC7S,MAAI,CAACF,KAAL,CAAW+S;QAAzB,CAAd,CAAN;MAAA,CAHb;MAIIzS,KAAK,EAAE,KAAKN,KAAL,CAAWC,OAAX,GAAqB;QAAEgC,eAAe,EAAE,SAAnB;QAA8BH,MAAM,EAAE;MAAtC,CAArB,GAAyE,EAJpF;MAKIV,SAAS,EAAC;IALd,gBAOItE,KAAA,CAAAC,aAAA;MACIqE,SAAS,EAAC,iCADd;MAEId,KAAK,EAAE;QAAEuB,QAAQ,EAAE,MAAZ;QAAoBE,OAAO,EAAE,MAA7B;QAAqCkG,UAAU,EAAE;MAAjD;IAFX,YAPJ,EAeQ,KAAKjI,KAAL,CAAW+S,SAAX,gBACAjW,KAAA,CAAAC,aAAA,CAACmW,YAAD;MAAc5S,KAAK,EAAEsT,QAAM,CAACR;IAA5B,EADA,gBAEAtW,KAAA,CAAAC,aAAA,CAACsW,YAAD;MAAc/S,KAAK,EAAEsT,QAAM,CAACR;IAA5B,EAjBR,CADJ,EAuBQ,CAAC,KAAKpT,KAAL,CAAW+S,SAAZ,iBACAjW,KAAA,CAAAC,aAAA;MAAKqE,SAAS,EAAC;IAAf,gBACItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,EADJ,EAGM,KAAK+R,YAAL,CAAkBrN,IAAI,CAACgG,WAAvB,CAHN,CAxBR,CADJ;EAiCH;;EAlD+BxP,KAAK,CAACQ,SAAA;AAqD1C,IAAMsW,QAAM,GAAG;EACXR,YAAY,EAAE;IACV,SAAO,OADG;IAEV9O,QAAQ,EAAE,UAFA;IAGV6D,MAAM,EAAE,MAHE;IAIV4G,KAAK,EAAE;EAJG;AADH,CAAf;ICnDqB8E,OAAA,0BAAA/N,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJ+S,SAAS,EAAE,IADP;MAEJ9S,OAAO,EAAE;IAFL;;;;SAKR7D,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAA8D,MAAA;IAAA,IAAA5D,WAAA,GACmB,KAAK3B,KADxB;MACG2L,IADH,GAAAhK,WAAA,CACGgK,IADH;MACSJ,KADT,GAAA5J,WAAA,CACS4J,KADT;IAGL,IAAI,CAACI,IAAL,EAAW;MAAE,oBAAOxJ,KAAA,CAAAC,aAAA,aAAP;IAAgB;IAE7B,oBACID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE2S,SAAS,EAAE;MAAb;IAAZ,gBAEInW,KAAA,CAAAC,aAAA;MACIiE,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMd,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CADlB;MAEIiB,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAMhB,MAAI,CAACe,QAAL,CAAc;UAAEhB,OAAO,EAAE;QAAX,CAAd,CAAN;MAAA,CAFlB;MAGIc,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,MAAI,CAACe,QAAL,CAAc;UAAE8R,SAAS,EAAE,CAAC7S,MAAI,CAACF,KAAL,CAAW+S;QAAzB,CAAd,CAAN;MAAA,CAHb;MAIIzS,KAAK,EAAE,KAAKN,KAAL,CAAWC,OAAX,GAAqB;QAAEgC,eAAe,EAAE,SAAnB;QAA8BH,MAAM,EAAE;MAAtC,CAArB,GAAyE;IAJpF,gBAOIhF,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEuB,QAAQ,EAAE,MAAZ;QAAoBE,OAAO,EAAE,MAA7B;QAAqCkG,UAAU,EAAE;MAAjD;IAAZ,aAPJ,EAYQ,KAAKjI,KAAL,CAAW+S,SAAX,gBACAjW,KAAA,CAAAC,aAAA,CAACmW,YAAD;MAAc5S,KAAK,EAAEwT,QAAM,CAACV;IAA5B,EADA,gBAEAtW,KAAA,CAAAC,aAAA,CAACsW,YAAD;MAAc/S,KAAK,EAAEwT,QAAM,CAACV;IAA5B,EAdR,CAFJ,EAsBQ,CAAC,KAAKpT,KAAL,CAAW+S,SAAZ,iBACAjW,KAAA,CAAAC,aAAA,2BAEID,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsB,MAAM,EAAE;MAAV;IAAZ,EAFJ,eAII9E,KAAA,CAAAC,aAAA,CAACgD,MAAD;MACII,KAAK,EAAC,QADV;MAEIE,KAAK,EAAC,QAFV;MAGID,IAAI,EAAC,QAHT;MAIIW,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMgT,YAAU,CAAC7N,KAAD,EAAQI,IAAI,CAAC/K,EAAb,EAAiB,UAACD,IAAD,EAAU,EAA3B,CAAhB;MAAA,CAJb;MAKIgF,KAAK,EAAE;QAAE4D,KAAK,EAAE,MAAT;QAAiB2O,YAAY,EAAE;MAA/B;IALX,EAJJ,CAvBR,CADJ;EAyCH;;EApDgC/V,KAAK,CAACQ,SAAA;AAuD3C,IAAMwW,QAAM,GAAG;EACXV,YAAY,EAAE;IACV,SAAO,OADG;IAEV9O,QAAQ,EAAE,UAFA;IAGV6D,MAAM,EAAE,MAHE;IAIV4G,KAAK,EAAE;EAJG;AADH,CAAf;ICzDqBiF,aAAA,0BAAAlO,gBAAA;;;;;;;;UACjB9F,KAAA,GAAQ;MACJ+G,UAAU,EAAE,IADR;MAEJ5G,KAAK,EAAE;IAFH;;;;SAKRqC,YAAA,YAAAA,aAAa9H,KAAb,EAAoB;IAClB,KAAKuG,QAAL,CAAc;MAACd,KAAK,EAAEzF,KAAK,CAAC6H,MAAN,CAAapC;IAArB,CAAd;EACD;SAED4F,YAAA,YAAAA,aAAarL,KAAb,EAAoB;IAChBA,KAAK,CAACoJ,cAAN;IAEAmQ,UAAQ,CACJ,KAAKtZ,KAAL,CAAWuL,KADP,EAEJ,KAAKvL,KAAL,CAAW2L,IAAX,CAAgB/K,EAFZ,EAGJ;MAAE4K,KAAK,EAAE,KAAKnG,KAAL,CAAWG;IAApB,CAHI,EAIJ,UAAC7E,IAAD,EAAU,EAJN,CAAR;EAMH;SAGDgQ,kBAAA,YAAAA,mBAAA,EAAqB;IACjB,IAAG,KAAK3Q,KAAL,CAAW2L,IAAX,CAAgBH,KAAhB,KAA0B,KAAKnG,KAAL,CAAWG,KAArC,IAA8C,KAAKH,KAAL,CAAW+G,UAAX,KAA0B,KAAKpM,KAAL,CAAW2L,IAAX,CAAgB/K,EAA3F,EAA+F;MAC3F,KAAK0F,QAAL,CAAc;QACVd,KAAK,EAAE,KAAKxF,KAAL,CAAW2L,IAAX,CAAgBH,KADb;QAEVY,UAAU,EAAE,KAAKpM,KAAL,CAAW2L,IAAX,CAAgB/K;MAFlB,CAAd;IAIH;EACJ;SAEDa,MAAA,YAAAA,OAAA,EAAS;IACL,oBACIU,KAAA,CAAAC,aAAA;MAAMgH,QAAQ,EAAE,KAAKgC,YAAL,CAAkB3I,IAAlB,CAAuB,IAAvB,CAAhB;MAA8CgE,SAAS,EAAC;IAAxD,gBAEItE,KAAA,CAAAC,aAAA,CAACqF,SAAD;MACIU,KAAK,EAAC,kBADV;MAEI3C,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAFtB;MAGI,WAAS,KAAKxF,KAAL,CAAW2L,IAAX,CAAgBH,KAH7B;MAII3D,YAAY,EAAE,KAAKA,YAAL,CAAkBpF,IAAlB,CAAuB,IAAvB,CAJlB;MAKIkD,KAAK,EAAE;QACHuB,QAAQ,EAAE,MADP;QAEHoG,UAAU,EAAE,KAFT;QAGHrC,SAAS,EAAE,QAHR;QAIHlE,MAAM,EAAE,iBAJL;QAKHwC,KAAK,EAAE;MALJ;IALX,EAFJ,CADJ;EAmBH;;EAnDoCpH,KAAK,CAACQ,SAAA;ICE1B4W,YAAA,0BAAA1Z,UAAA;;;;;;SAEjB2Z,eAAA,YAAAA,gBAAgB5N,MAAhB,EAAwB;IACpB,oBACIzJ,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYzM,KAAK,EAAE;QAAEsI,UAAU,EAAE,MAAd;QAAsBhH,MAAM,EAAE;MAA9B;IAAnB,gBACI9E,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE8T,MAAM,EAAE,MAAV;QAAkBlQ,KAAK,EAAE;MAAzB;IAAZ,gBACIpH,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MAAQK,WAAW,EAAE,KAArB;MAA4BjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K;IAA9C,EADJ,CADJ,CADJ;EAOH;SAED6Y,eAAA,YAAAA,gBAAgB9N,MAAhB,EAAwB;IACpB,oBACIzJ,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYzM,KAAK,EAAE;QAAEsI,UAAU,EAAE,MAAd;QAAsBhH,MAAM,EAAE;MAA9B;IAAnB,gBACI9E,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE8T,MAAM,EAAE,MAAV;QAAkBlQ,KAAK,EAAE;MAAzB;IAAZ,gBACIpH,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MACIK,WAAW,EAAE,KADjB;MAEIjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K,MAFtB;MAGI8E,KAAK,EAAE;QAAE,SAAO,MAAT;QAAiBgE,QAAQ,EAAE,UAA3B;QAAuCyK,KAAK,EAAE;MAA9C;IAHX,EADJ,eAMIjS,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MACIK,WAAW,EAAE,KADjB;MAEIjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K,MAFtB;MAGI8E,KAAK,EAAE;QAAE,SAAO,OAAT;QAAkBgE,QAAQ,EAAE,UAA5B;QAAwCC,IAAI,EAAE,KAA9C;QAAqD4D,MAAM,EAAE,MAA7D;QAAqEG,MAAM,EAAE;MAA7E;IAHX,EANJ,CADJ,CADJ;EAgBH;SAEDgM,iBAAA,YAAAA,kBAAkB/N,MAAlB,EAA0B;IACtB,oBACIzJ,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYzM,KAAK,EAAE;QAAEsI,UAAU,EAAE,MAAd;QAAsBhH,MAAM,EAAE;MAA9B;IAAnB,gBACI9E,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE8T,MAAM,EAAE,MAAV;QAAkBlQ,KAAK,EAAE;MAAzB;IAAZ,gBACIpH,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MACIK,WAAW,EAAE,KADjB;MAEIjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K,MAFtB;MAGI8E,KAAK,EAAE;QAAE,SAAO,OAAT;QAAkBgE,QAAQ,EAAE,UAA5B;QAAwCyK,KAAK,EAAE,MAA/C;QAAuD1G,GAAG,EAAE,MAA5D;QAAoEC,MAAM,EAAE;MAA5E;IAHX,EADJ,eAMIxL,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MACIK,WAAW,EAAE,KADjB;MAEIjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K,MAFtB;MAGI8E,KAAK,EAAE;QAAE,SAAO,OAAT;QAAkBgE,QAAQ,EAAE,UAA5B;QAAwCyK,KAAK,EAAE,MAA/C;QAAuD5G,MAAM,EAAE,MAA/D;QAAuEG,MAAM,EAAE;MAA/E;IAHX,EANJ,eAWIxL,KAAA,CAAAC,aAAA,CAACqQ,MAAD;MACIK,WAAW,EAAE,KADjB;MAEIjS,MAAM,EAAE+K,MAAM,CAAC,CAAD,CAAN,CAAU/K,MAFtB;MAGI8E,KAAK,EAAE;QAAE,SAAO,OAAT;QAAkBgE,QAAQ,EAAE,UAA5B;QAAwCC,IAAI,EAAE,KAA9C;QAAqD4D,MAAM,EAAE,MAA7D;QAAqEG,MAAM,EAAE;MAA7E;IAHX,EAXJ,CADJ,CADJ;EAqBH;SAEDlM,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAE,WAAA,GACmB,KAAK3B,KADxB;MACG2L,IADH,GAAAhK,WAAA,CACGgK,IADH;MACSJ,KADT,GAAA5J,WAAA,CACS4J,KADT;IAEL,IAAMqO,SAAS,GAAGjO,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYiO,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,CAAH,GAA6B,EAAnD;IAEA,oBACI1X,KAAA,CAAAC,aAAA;MAAKqE,SAAS,EAAC;IAAf,gBACItE,KAAA,CAAAC,aAAA,CAAC8P,GAAD;MAAKzL,SAAS,EAAC;IAAf,gBACItE,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE;IAAT,EADJ,EAGMwH,SAAS,CAACzV,MAAV,IAAoB,CAApB,IAAyB,KAAKqV,eAAL,CAAqBI,SAArB,CAH/B,EAIMA,SAAS,CAACzV,MAAV,IAAoB,CAApB,IAAyB,KAAKuV,eAAL,CAAqBE,SAArB,CAJ/B,EAKMA,SAAS,CAACzV,MAAV,IAAoB,CAApB,IAAyB,KAAKwV,iBAAL,CAAuBC,SAAvB,CAL/B,eAOIzX,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE;IAAT,EAPJ,CADJ,eAWIjQ,KAAA,CAAAC,aAAA,CAACiX,aAAD;MAAW1N,IAAI,EAAEA,IAAjB;MAAuBJ,KAAK,EAAEA;IAA9B,EAXJ,CADJ;EAeH;;EA1EqC5I,SAAA;ICDrBmX,qBAAA,0BAAAja,UAAA;;;;;;SAEjB4B,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAE,WAAA,GACyB,KAAK3B,KAD9B;MACGiM,KADH,GAAAtK,WAAA,CACGsK,KADH;MACUG,UADV,GAAAzK,WAAA,CACUyK,UADV;IAEL,IAAMT,IAAI,GAAGM,KAAK,IAAIA,KAAK,CAACG,UAAD,CAA3B;IAEA,IAAI,CAACT,IAAL,EAAW,oBAAOxJ,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEoU,QAAM,CAACC;IAAnB,EAAP;IAEX,oBACI7X,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAEoU,QAAM,CAACE,iBAAnB;MAAsCxT,SAAS,EAAC;IAAhD,gBAEItE,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAE4D,KAAK,EAAE,KAAT;QAAgBE,WAAW,EAAE;MAA7B,CAAZ;MAAiDhD,SAAS,EAAC;IAA3D,GAGQ,KAAKzG,KAAL,CAAWka,qBAAX,GACA,KAAKla,KAAL,CAAWka,qBAAX,CAAiC,KAAKla,KAAtC,EAA6C2L,IAA7C,CADA,gBAEAxJ,KAAA,CAAAC,aAAA,CAACmX,YAAD;MAAchO,KAAK,EAAE,KAAKvL,KAA1B;MAAiC2L,IAAI,EAAEA;IAAvC,EALR,EASQ,KAAK3L,KAAL,CAAWma,oBAAX,GACA,KAAKna,KAAL,CAAWma,oBAAX,CAAgC,KAAKna,KAArC,EAA4C2L,IAA5C,CADA,gBAEAxJ,KAAA,CAAAC,aAAA,CAAC+V,UAAD;MAAQ5M,KAAK,EAAE,KAAKvL,KAApB;MAA2B2L,IAAI,EAAEA;IAAjC,EAXR,EAeQ,KAAK3L,KAAL,CAAWoa,oBAAX,GACA,KAAKpa,KAAL,CAAWoa,oBAAX,CAAgCzO,IAAhC,CADA,gBAEAxJ,KAAA,CAAAC,aAAA,CAAC2W,MAAD;MAAQpN,IAAI,EAAEA;IAAd,EAjBR,EAqBQ,KAAK3L,KAAL,IAAc2L,IAAd,IAAsB,KAAK3L,KAAL,CAAWQ,QAAX,KAAwBmL,IAAI,CAAC0L,KAAL,CAAWvL,QAAzD,iBACA3J,KAAA,CAAAC,aAAA,cAEQ,KAAKpC,KAAL,CAAWqa,qBAAX,GACA,KAAKra,KAAL,CAAWqa,qBAAX,CAAiC,KAAKra,KAAtC,EAA6C2L,IAA7C,CADA,gBAEAxJ,KAAA,CAAAC,aAAA,CAAC8W,OAAD;MAAS3N,KAAK,EAAE,KAAKvL,KAArB;MAA4B2L,IAAI,EAAEA;IAAlC,EAJR,CAtBR,CAFJ,CADJ;EAsCH;;EA9C8ChJ,SAAA;AAiDnD,IAAMoX,QAAM,GAAG;EACXE,iBAAiB,EAAE;IACfhT,MAAM,EAAE,MADO;IAEfiG,QAAQ,EAAE,QAFK;IAGfC,SAAS,EAAE,QAHI;IAIfmN,UAAU,EAAE,mBAJG;IAKfhT,eAAe,EAAE;EALF,CADR;EAQX0S,MAAM,EAAE;IACJtN,OAAO,EAAE,MADL;IAEJnD,KAAK,EAAE,KAFH;IAGJE,WAAW,EAAE,IAHT;IAIJ6Q,UAAU,EAAE;EAJR;AARG,CAAf;ACvCAnJ,gBAAgB,CAAC;EAAEC,cAAc,EAAE,IAAlB;EAAwBmJ,WAAW,EAAE;AAArC,CAAD,CAAhB;IAEqBC,GAAA,0BAAA3a,UAAA;;;;;;;;UACnBwF,KAAA,GAAQ;MACNkG,KAAK,EAAE,IADD;MAENU,KAAK,EAAE,IAFD;MAGNmK,QAAQ,EAAE,EAHJ;MAINhK,UAAU,EAAE,IAJN;MAKNqO,aAAa,EAAE,EALT;MAMN1E,UAAU,EAAE;IANN;;;;SASRvT,SAAA,YAAAA,UAAU+I,KAAV,EAAiB;IACf,KAAKjF,QAAL,CAAc;MAAEiF,KAAK,EAALA;IAAF,CAAd;IACA1I,QAAQ,CAAC0I,KAAD,EAAQ,YAAM,EAAd,CAAR;IAEA,KAAKvL,KAAL,CAAWwC,SAAX,IAAwB,KAAKxC,KAAL,CAAWwC,SAAX,CAAqB+I,KAArB,CAAxB;EACD;SAED/J,UAAA,YAAAA,WAAW+J,KAAX,EAAkB;IAChB,KAAKjF,QAAL,CAAc;MAAEiF,KAAK,EAAEuL;IAAT,CAAd;IAEA,KAAK9W,KAAL,CAAWwB,UAAX,IAAyB,KAAKxB,KAAL,CAAWwB,UAAX,CAAsB+J,KAAtB,CAAzB;EACD;SAEDmP,aAAA,YAAAA,cAAcjX,MAAd,EAAsB;IACpB,KAAK6C,QAAL,CAAc;MAAE8F,UAAU,EAAE3I;IAAd,CAAd;IACAG,WAAW,CAAC,KAAKyB,KAAL,CAAWkG,KAAZ,EAAmB9H,MAAnB,EAA2B,YAAM,EAAjC,CAAX;EACD;SAEDL,UAAA,YAAAA,WAAW6I,KAAX,EAAkB;IAChB,IAAIA,KAAK,CAAC9H,MAAN,GAAe,CAAnB,EAAsB;MAAE,KAAKuW,aAAL,CAAmBzO,KAAK,CAAC,CAAD,CAAL,CAASrL,EAA5B;IAAiC;IACzD,KAAK0F,QAAL,CAAc;MAAE2F,KAAK,EAAEC,CAAC,CAACyO,OAAF,CAAU1O,KAAV,EAAiB,IAAjB;IAAT,CAAd;IAEA,KAAKjM,KAAL,CAAWoD,UAAX,IAAyB,KAAKpD,KAAL,CAAWoD,UAAX,CAAsB6I,KAAtB,CAAzB;EACD;SAEDnL,SAAA,YAAAA,UAAU6K,IAAV,EAAgB;IAAA,IACNM,KADM,GACI,KAAK5G,KADT,CACN4G,KADM;IAGd,IAAIA,KAAJ,EAAW;MACTA,KAAK,CAACN,IAAI,CAAC/K,EAAN,CAAL,GAAiB+K,IAAjB;MACA,KAAKrF,QAAL,CAAc;QAAE2F,KAAK,EAALA;MAAF,CAAd;MACA,KAAKyO,aAAL,CAAmB/O,IAAI,CAAC/K,EAAxB;IACD;IAED,KAAKZ,KAAL,CAAWc,SAAX,IAAwB,KAAKd,KAAL,CAAWc,SAAX,CAAqB6K,IAArB,CAAxB;EACD;SAED5K,UAAA,YAAAA,WAAW4K,IAAX,EAAiB;IAAA,IACPM,KADO,GACG,KAAK5G,KADR,CACP4G,KADO;IAGf,IAAIA,KAAJ,EAAW;MACTA,KAAK,CAACN,IAAI,CAAC/K,EAAN,CAAL,GAAiB+K,IAAjB;MACA,KAAKrF,QAAL,CAAc;QAAE2F,KAAK,EAALA;MAAF,CAAd;IACD;IAED,KAAKjM,KAAL,CAAWe,UAAX,IAAyB,KAAKf,KAAL,CAAWe,UAAX,CAAsB4K,IAAtB,CAAzB;EACD;SAED3K,YAAA,YAAAA,aAAa2K,IAAb,EAAmB;IAAA,IACTM,KADS,GACC,KAAK5G,KADN,CACT4G,KADS;IAGjB,IAAIA,KAAJ,EAAW;MACTA,KAAK,CAACN,IAAI,CAAC/K,EAAN,CAAL,GAAiBkW,SAAjB;MACA,KAAKxQ,QAAL,CAAc;QAAE2F,KAAK,EAALA;MAAF,CAAd;MACA,IAAI,CAACC,CAAC,CAAC0K,OAAF,CAAU3K,KAAV,CAAL,EAAuB;QACrB,KAAKyO,aAAL,CAAmB1L,QAAQ,CAACqH,MAAM,CAACzB,IAAP,CAAY3I,KAAZ,EAAmB,CAAnB,CAAD,CAA3B;MACD;IACF;IAED,KAAKjM,KAAL,CAAWgB,YAAX,IAA2B,KAAKhB,KAAL,CAAWgB,YAAX,CAAwB2K,IAAxB,CAA3B;EACD;SAED9H,aAAA,YAAAA,cAAcJ,MAAd,EAAsB2S,QAAtB,EAAgC;IAC9B,KAAK9P,QAAL,CAAc;MAAE8P,QAAQ,EAAElK,CAAC,CAACyO,OAAF,CAAUvE,QAAV,EAAoB,IAApB;IAAZ,CAAd;IAEA,IAAIA,QAAQ,CAACjS,MAAT,GAAkB,CAAtB,EAAyB;MACvB,IAAMK,SAAS,GAAG4R,QAAQ,CAACA,QAAQ,CAACjS,MAAT,GAAkB,CAAnB,CAAR,CAA8BvD,EAAhD;MACA6D,WAAW,CAAC,KAAKY,KAAL,CAAWkG,KAAZ,EAAmB,KAAKlG,KAAL,CAAW+G,UAA9B,EAA0C5H,SAA1C,EAAqD,YAAM,EAA3D,CAAX;IACD;IAED,KAAKxE,KAAL,CAAW6D,aAAX,IAA4B,KAAK7D,KAAL,CAAW6D,aAAX,CAAyBJ,MAAzB,EAAiC2S,QAAjC,CAA5B;EACD;SAEDjV,YAAA,YAAAA,aAAasC,MAAb,EAAqBrC,OAArB,EAA8B;IAC5B,IAAIqC,MAAM,KAAK,KAAK4B,KAAL,CAAW+G,UAA1B,EAAsC;MAAA,IAC5BgK,QAD4B,GACf,KAAK/Q,KADU,CAC5B+Q,QAD4B;MAEpCA,QAAQ,CAAChV,OAAO,CAACR,EAAT,CAAR,GAAuBQ,OAAvB;MACA,KAAKkF,QAAL,CAAc;QAAE8P,QAAQ,EAARA;MAAF,CAAd;IACD;IAED3R,WAAW,CAAC,KAAKY,KAAL,CAAWkG,KAAZ,EAAmB,KAAKlG,KAAL,CAAW+G,UAA9B,EAA0ChL,OAAO,CAACR,EAAlD,CAAX;IAEA,KAAKZ,KAAL,CAAWmB,YAAX,IAA2B,KAAKnB,KAAL,CAAWmB,YAAX,CAAwBsC,MAAxB,EAAgCrC,OAAhC,CAA3B;EACD;SAEDC,aAAA,YAAAA,cAAcoC,MAAd,EAAsBrC,OAAtB,EAA+B;IAC7B,IAAIqC,MAAM,KAAK,KAAK4B,KAAL,CAAW+G,UAA1B,EAAsC;MAAA,IAC5BgK,QAD4B,GACf,KAAK/Q,KADU,CAC5B+Q,QAD4B;MAEpCA,QAAQ,CAAChV,OAAO,CAACR,EAAT,CAAR,GAAuBQ,OAAvB;MACA,KAAKkF,QAAL,CAAc;QAAE8P,QAAQ,EAARA;MAAF,CAAd;IACD;IAED,KAAKpW,KAAL,CAAWqB,aAAX,IAA4B,KAAKrB,KAAL,CAAWqB,aAAX,CAAyBoC,MAAzB,EAAiCrC,OAAjC,CAA5B;EACD;SAEDE,eAAA,YAAAA,gBAAgBmC,MAAhB,EAAwBrC,OAAxB,EAAiC;IAC/B,IAAIqC,MAAM,KAAK,KAAK4B,KAAL,CAAW+G,UAA1B,EAAsC;MAAA,IAC5BgK,QAD4B,GACf,KAAK/Q,KADU,CAC5B+Q,QAD4B;MAEpCA,QAAQ,CAAChV,OAAO,CAACR,EAAT,CAAR,GAAuBkW,SAAvB;MACA,KAAKxQ,QAAL,CAAc;QAAE8P,QAAQ,EAARA;MAAF,CAAd;IACD;IAED,KAAKpW,KAAL,CAAWsB,eAAX,IAA8B,KAAKtB,KAAL,CAAWsB,eAAX,CAA2BmC,MAA3B,EAAmCrC,OAAnC,CAA9B;EACD;SAEDV,QAAA,YAAAA,SAAS+C,MAAT,EAAiB5C,MAAjB,EAAyB;IAAA,IAAA0E,MAAA;IACvB,IAAI,KAAKF,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,KAAoC,KAAK4B,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,EAAiC5C,MAAjC,CAAxC,EAAkF;MAAA,IAAA+Z,SAAA,EAAAC,SAAA;MAChF,KAAKvU,QAAL,CAAAE,QAAA,KACK,KAAKnB,KADV;QAEEoV,aAAa,EAAAjU,QAAA,KACR,KAAKnB,KAAL,CAAWoV,aADH,GAAAI,SAAA,OAAAA,SAAA,CAEVpX,MAFU,IAAA+C,QAAA,KAGN,KAAKnB,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,CAHM,GAAAmX,SAAA,OAAAA,SAAA,CAIR/Z,MAJQ,IAIC,KAAKwE,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,EAAiC5C,MAAjC,IAA2C,CAJ5C,EAAA+Z,SAAA,IAAAC,SAAA;MAFf;IAWD,CAZD,MAYO;MAAA,IAAAC,SAAA,EAAAC,SAAA;MACL,KAAKzU,QAAL,CAAAE,QAAA,KACK,KAAKnB,KADV;QAEEoV,aAAa,EAAAjU,QAAA,KACR,KAAKnB,KAAL,CAAWoV,aADH,GAAAM,SAAA,OAAAA,SAAA,CAEVtX,MAFU,IAAA+C,QAAA,KAGN,KAAKnB,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,CAHM,GAAAqX,SAAA,OAAAA,SAAA,CAIRja,MAJQ,IAIC,CAJD,EAAAia,SAAA,IAAAC,SAAA;MAFf;IAUD;IAED,KAAK/a,KAAL,CAAWU,QAAX,IAAuB,KAAKV,KAAL,CAAWU,QAAX,CAAoB+C,MAApB,EAA4B5C,MAA5B,CAAvB;IAEAgV,UAAU,CAAC,YAAM;MAAA,IAAAmF,SAAA,EAAAC,SAAA;MACf1V,MAAI,CAACe,QAAL,CAAAE,QAAA,KACKjB,MAAI,CAACF,KADV;QAEEoV,aAAa,EAAAjU,QAAA,KACRjB,MAAI,CAACF,KAAL,CAAWoV,aADH,GAAAQ,SAAA,OAAAA,SAAA,CAEVxX,MAFU,IAAA+C,QAAA,KAGNjB,MAAI,CAACF,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,CAHM,GAAAuX,SAAA,OAAAA,SAAA,CAIRna,MAJQ,IAIC0E,MAAI,CAACF,KAAL,CAAWoV,aAAX,CAAyBhX,MAAzB,EAAiC5C,MAAjC,IAA2C,CAJ5C,EAAAma,SAAA,IAAAC,SAAA;MAFf;IAUD,CAXS,EAWP,IAXO,CAAV;EAYD;SAEDtK,kBAAA,YAAAA,mBAAA,EAAqB;IAAA,IAAAjG,MAAA;IAAA,IAAAwQ,WAAA,GACmB,KAAK7V,KADxB;MACXoV,aADW,GAAAS,WAAA,CACXT,aADW;MACI1E,UADJ,GAAAmF,WAAA,CACInF,UADJ;IAGnBM,MAAM,CAACzB,IAAP,CAAY6F,aAAZ,EAA2BrQ,GAA3B,CAA+B,UAACuB,IAAD,EAAU;MACvC,IAAIqK,MAAM,GAAG,EAAb;MAEAK,MAAM,CAACzB,IAAP,CAAY6F,aAAa,CAAC9O,IAAD,CAAzB,EAAiCvB,GAAjC,CAAqC,UAACvJ,MAAD,EAAY;QAC/C,IAAI4Z,aAAa,CAAC9O,IAAD,CAAb,CAAoB9K,MAApB,IAA8B,CAAlC,EAAqC;UACnCmV,MAAM,CAACxL,IAAP,CAAY3J,MAAZ;QACD;MACF,CAJD;MAMA,IAAI,CAACkV,UAAU,CAACpK,IAAD,CAAX,IAAqBoK,UAAU,CAACpK,IAAD,CAAV,CAAiBxH,MAAjB,KAA4B6R,MAAM,CAAC7R,MAA5D,EAAoE;QAAA,IAAAgX,SAAA;QAClEzQ,MAAI,CAACpE,QAAL,CAAAE,QAAA,KAAmBkE,MAAI,CAACrF,KAAxB;UAA+B0Q,UAAU,EAAAvP,QAAA,KAAOkE,MAAI,CAACrF,KAAL,CAAW0Q,UAAlB,GAAAoF,SAAA,OAAAA,SAAA,CAA+BxP,IAA/B,IAAsCqK,MAAtC,EAAAmF,SAAA;QAAzC;MACD;IACF,CAZD;EAaD;SAED1Z,MAAA,YAAAA,OAAA,EAAS;IAAA,IAAAuJ,MAAA;IAAA,IACC/D,MADD,GACY,KAAKjH,KADjB,CACCiH,MADD;IAGP,oBACE9E,KAAA,CAAAC,aAAA;MAAKuD,KAAK,EAAE;QAAEsF,SAAS,EAAE,MAAb;QAAqB3D,eAAe,EAAE;MAAtC;IAAZ,gBAEEnF,KAAA,CAAAC,aAAA,CAACxC,MAAD,EAAA4G,QAAA,KACM,KAAKxG,KADX;MAGEwC,SAAS,EAAE,SAAAA,UAACxC,KAAD;QAAA,OAAWgL,MAAI,CAACxI,SAAL,CAAexC,KAAf,CAAX;MAAA,CAHb;MAIEwB,UAAU,EAAE,SAAAA,WAACxB,KAAD;QAAA,OAAWgL,MAAI,CAACxJ,UAAL,CAAgBxB,KAAhB,CAAX;MAAA,CAJd;MAKEoD,UAAU,EAAE,SAAAA,WAAC6I,KAAD;QAAA,OAAWjB,MAAI,CAAC5H,UAAL,CAAgB6I,KAAhB,CAAX;MAAA,CALd;MAMEnL,SAAS,EAAE,SAAAA,UAAC6K,IAAD;QAAA,OAAUX,MAAI,CAAClK,SAAL,CAAe6K,IAAf,CAAV;MAAA,CANb;MAOE5K,UAAU,EAAE,SAAAA,WAAC4K,IAAD;QAAA,OAAUX,MAAI,CAACjK,UAAL,CAAgB4K,IAAhB,CAAV;MAAA,CAPd;MAQE3K,YAAY,EAAE,SAAAA,aAAC2K,IAAD;QAAA,OAAUX,MAAI,CAAChK,YAAL,CAAkB2K,IAAlB,CAAV;MAAA,CARhB;MASE1K,WAAW,EAAE,SAAAA,YAAC0K,IAAD;QAAA,OAAUX,MAAI,CAACjK,UAAL,CAAgB4K,IAAhB,CAAV;MAAA,CATf;MAUEzK,cAAc,EAAE,SAAAA,eAACyK,IAAD;QAAA,OAAUX,MAAI,CAACjK,UAAL,CAAgB4K,IAAhB,CAAV;MAAA,CAVlB;MAWEjL,QAAQ,EAAE,SAAAA,SAAC+C,MAAD,EAAS5C,MAAT;QAAA,OAAoBmK,MAAI,CAACtK,QAAL,CAAc+C,MAAd,EAAsB5C,MAAtB,CAApB;MAAA,CAXZ;MAYEgD,aAAa,EAAE,SAAAA,cAACJ,MAAD,EAAS2S,QAAT;QAAA,OAAsBpL,MAAI,CAACnH,aAAL,CAAmBJ,MAAnB,EAA2B2S,QAA3B,CAAtB;MAAA,CAZjB;MAaEjV,YAAY,EAAE,SAAAA,aAACsC,MAAD,EAASrC,OAAT;QAAA,OAAqB4J,MAAI,CAAC7J,YAAL,CAAkBsC,MAAlB,EAA0BrC,OAA1B,CAArB;MAAA,CAbhB;MAcEC,aAAa,EAAE,SAAAA,cAACoC,MAAD,EAASrC,OAAT;QAAA,OAAqB4J,MAAI,CAAC3J,aAAL,CAAmBoC,MAAnB,EAA2BrC,OAA3B,CAArB;MAAA,CAdjB;MAeEE,eAAe,EAAE,SAAAA,gBAACmC,MAAD,EAASrC,OAAT;QAAA,OAAqB4J,MAAI,CAAC1J,eAAL,CAAqBmC,MAArB,EAA6BrC,OAA7B,CAArB;MAAA;IAfnB,GAFF,eAoBEe,KAAA,CAAAC,aAAA,CAAC8P,GAAD,qBAEE/P,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYC,EAAE,EAAE,CAAhB;MAAmB1M,KAAK,EAAE;QAAEsB,MAAM,EAAEA,MAAM,GAAGA,MAAH,GAAY;MAA5B;IAA1B,GAGI,KAAKjH,KAAL,CAAWob,cAAX,GACA,KAAKpb,KAAL,CAAWob,cAAX,CAAA5U,QAAA,KAA8B,KAAKxG,KAAnC,EAA6C,KAAKqF,KAAlD,EADA,gBAEAlD,KAAA,CAAAC,aAAA,CAACqJ,QAAD,EAAAjF,QAAA,KAAc,KAAKxG,KAAnB,EAA8B,KAAKqF,KAAnC;MACEkH,WAAW,EAAE,SAAAA,YAAC9I,MAAD;QAAA,OAAYuH,MAAI,CAAC0P,aAAL,CAAmBjX,MAAnB,CAAZ;MAAA;IADf,GALJ,CAFF,eAcEtB,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,EAAT;MAAaC,EAAE,EAAE,CAAjB;MAAoB1M,KAAK,EAAE;QAAEsB,MAAM,EAAEA,MAAM,GAAGA,MAAH,GAAY;MAA5B;IAA3B,GAGI,KAAKjH,KAAL,CAAWqb,cAAX,GACA,KAAKrb,KAAL,CAAWqb,cAAX,CAAA7U,QAAA,KAA8B,KAAKxG,KAAnC,EAA6C,KAAKqF,KAAlD,EADA,gBAEAlD,KAAA,CAAAC,aAAA,CAACuT,QAAD,EAAAnP,QAAA,KAAc,KAAKxG,KAAnB,EAA8B,KAAKqF,KAAnC,EALJ,CAdF,eAwBElD,KAAA,CAAAC,aAAA,CAAC+P,GAAD;MAAKC,EAAE,EAAE,CAAT;MAAYC,EAAE,EAAE,CAAhB;MAAmB1M,KAAK,EAAE;QAAEsB,MAAM,EAAEA,MAAM,GAAGA,MAAH,GAAY;MAA5B;IAA1B,GAGI,KAAKjH,KAAL,CAAWsb,kBAAX,GACA,KAAKtb,KAAL,CAAWsb,kBAAX,CAAA9U,QAAA,KAAkC,KAAKxG,KAAvC,EAAiD,KAAKqF,KAAtD,EADA,gBAEAlD,KAAA,CAAAC,aAAA,CAAC0X,qBAAD,EAAAtT,QAAA,KAAkB,KAAKxG,KAAvB,EAAkC,KAAKqF,KAAvC,EALJ,CAxBF,CApBF,CADF;EA2DD;;EA7O8B1C,SAAA;ACdjC,IAAM4Y,eAAe,GAAG,SAAlBA,eAAkBA,CAACvb,KAAD,EAAW;EAC/B,IAAIA,KAAK,CAACwb,MAAV,EAAkB;IACd,oBAAOrZ,KAAA,CAAAC,aAAA,CAACxC,MAAD,EAAYI,KAAZ,CAAP;EACH,CAFD,MAEO;IACH,oBAAOmC,KAAA,CAAAC,aAAA,CAACoY,GAAD,EAAYxa,KAAZ,CAAP;EACH;AAEJ,CAPD;ACFO,SAASyb,QAATA,CAAkBzb,KAAlB,EAAyByD,MAAzB,EAAiCX,QAAjC,EAA2C;EAC9CC,KAAK,CAACQ,IAAN,CACOX,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI,EAFJ,EAGI;IAAER,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW,EAdlB;AAeH;AChBM,SAASqU,SAATA,CAAmB1X,KAAnB,EAA0ByD,MAA1B,EAAkCjD,QAAlC,EAA4CsC,QAA5C,EAAsD;EACzDC,KAAK,CAACQ,IAAN,CACOX,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI;IAAEqI,QAAQ,EAAEtL;EAAZ,CAFJ,EAGI;IAAEyC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC+C,KAAhC;EACH,CAhBD;AAiBH;AClBM,SAASqY,YAATA,CAAsB1b,KAAtB,EAA6ByD,MAA7B,EAAqCjD,QAArC,EAA+CsC,QAA/C,EAAyD;EAC5DC,KAAK,CAAC4Y,GAAN,CACO/Y,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI;IAAEqI,QAAQ,EAAEtL;EAAZ,CAFJ,EAGI;IAAEyC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+C,KAAnC;EACH,CAhBD;AAiBH;AClBM,SAASuY,cAATA,CAAwB5b,KAAxB,EAA+ByD,MAA/B,EAAuCoY,eAAvC,EAAwDC,aAAxD,EAAuE;EAC1E/Y,KAAK,CAACC,GAAN,CACOJ,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI;IAAER,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAEhBnD,KAAK,CAAC+b,gBAAN,IAA0B/b,KAAK,CAAC+b,gBAAN,CAAuBtY,MAAvB,EAA+BN,QAAQ,CAACxC,IAAxC,CAA1B;IAEAkb,eAAe,IAAIA,eAAe,CAACpY,MAAD,EAASN,QAAQ,CAACxC,IAAlB,CAAlC;EACH,CAdD,WAgBO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC+C,KAAxC;IAEAyY,aAAa,IAAIA,aAAa,EAA9B;EACH,CApBD;AAqBH;ACtBM,SAASE,SAATA,CAAmBhc,KAAnB,EAA0B8C,QAA1B,EAAoC;EACvCC,KAAK,CAACC,GAAN,CACOJ,SAAA,CAAc5C,KAAd,CADP,iBAEI;IAAEiD,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAXD,WAaO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC+C,KAAhC;EACH,CAfD;AAgBH;ACjBM,SAAS4Y,UAATA,CAAoBjc,KAApB,EAA2BW,IAA3B,EAAiCmC,QAAjC,EAA2C;EAC9CC,KAAK,CAACW,KAAN,CACOd,SAAA,CAAc5C,KAAd,CADP,iBAEIW,IAFJ,EAGI;IAAEsC,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAHJ,EAUCyC,IAVD,CAUM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAZD,WAcO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC+C,KAAjC;EACH,CAhBD;AAiBH;AClBM,SAAS6Y,SAATA,CAAmBlc,KAAnB,EAA0ByD,MAA1B,EAAkCX,QAAlC,EAA4C;EAC/CC,KAAK,UAAL,CACOH,SAAA,CAAc5C,KAAd,CADP,eACqCyD,MADrC,eAEI;IAAER,OAAO,EAAE;MACP,cAAcjD,KAAK,CAAC4B,SAAN,GAAkB5B,KAAK,CAAC4B,SAAxB,GAAoC5B,KAAK,CAACO,SADjD;MAEP,aAAaP,KAAK,CAACQ,QAFZ;MAGP,eAAeR,KAAK,CAAC6B,YAAN,GAAqB7B,KAAK,CAAC6B,YAA3B,GAA0C7B,KAAK,CAACS;IAHxD;EAAX,CAFJ,EASCyC,IATD,CASM,UAACC,QAAD,EAAc;IAChBL,QAAQ,IAAIA,QAAQ,CAACK,QAAQ,CAACxC,IAAV,CAApB;EACH,CAXD,WAaO,UAAC0C,KAAD,EAAW;IACdhD,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+C,KAAnC;EACH,CAfD;AAgBH;ICXK8Y,UAAU,GAAG,SAAbA,UAAaA,CAACnc,KAAD,EAAW;EAC5B,oBAAOmC,KAAA,CAAAC,aAAA,CAACmZ,eAAD,EAAqBvb,KAArB,CAAP;AACD,CAFD"},"metadata":{},"sourceType":"module","externalDependencies":[]}